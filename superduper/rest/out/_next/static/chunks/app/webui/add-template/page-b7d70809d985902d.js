(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7986],{8136:function(e,t,r){Promise.resolve().then(r.bind(r,53728))},53728:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var a=r(57437),s=r(2265),n=r(18930),i=r(42126),l=r(88726),o=r(72498);r(35149),r(24016),r(29390);var d=r(87138),c=r(11444),u=r(16463),f=r(32910),m=r(68639),p=r(89155),g=r(56360);function x(){(0,c.v9)(e=>e.environment.environmentLoadedValues);let e=(0,c.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),t=(0,u.useRouter)(),r=(0,c.v9)(e=>e.stack.stackUpdateByIndex),n=(0,c.v9)(e=>e.stack.submittedStack),[i,o]=(0,s.useState)(null),[x,h]=(0,s.useState)(!1),[b,v]=(0,s.useState)(!1),[j,y]=(0,s.useState)(null);function N(){if(!n){l.ZP.error("Error adding template",{id:"form-error"});return}l.ZP.loading("Adding template...",{id:"adding"});try{fetch("".concat("".concat("http://localhost:8000","/db/apply")),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:(0,p.Z)(e),superduper_reverse_proxy:"http://localhost:8000"},body:JSON.stringify(n,null,"	")}).then(e=>{if(!e.ok){if(500===e.status)return e.json().then(e=>{throw console.log("Error response data:",e),y(e),Error("Server error")});throw Error("Network response was not ok")}return e.json()}).then(e=>{l.ZP.dismiss("adding"),console.log("Data from:",e),l.ZP.success("Custom template added successfully"),t.push("/webui/templates")}).catch(e=>{v(!0),console.error("Error fetching API data",e),l.ZP.error("Error adding template",{id:"form-error"}),l.ZP.dismiss("adding")})}catch(e){l.ZP.dismiss("adding"),v(!0),l.ZP.error("Error adding template",{id:"form-error"})}}return r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,a.jsx)(d.default,{href:"/webui/add-template",children:(0,a.jsx)("button",{type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault,h(!0)},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Add Template"})]}),(0,a.jsx)("br",{}),(0,a.jsx)(m.Vq,{open:x,onOpenChange:()=>h(!1),children:(0,a.jsxs)(m.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(m.fK,{children:[(0,a.jsx)(m.$N,{children:"Review the template"}),(0,a.jsx)(m.Be,{children:"This will be added to the database. Please review the template before confirming."})]}),n?(0,a.jsx)(f.Z,{data:n}):"Preparing template...",(0,a.jsx)(m.cN,{children:(0,a.jsx)(g.z,{type:"submit",onClick:()=>{N()},children:"Save changes"})})]})}),(0,a.jsx)(m.Vq,{open:b,onOpenChange:()=>{h(!1),v(!1)},children:(0,a.jsxs)(m.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(m.fK,{children:[(0,a.jsx)(m.$N,{children:"Failed Adding Template"}),(0,a.jsx)(m.Be,{children:"Please review the error message and try again."})]}),(0,a.jsx)("strong",{children:"Error Message"}),j?(0,a.jsx)(f.Z,{data:j,height:100}):"Loading ...",(0,a.jsx)("strong",{children:"Submitted"}),n?(0,a.jsx)(f.Z,{data:n,height:"150px"}):"Preparing component...",(0,a.jsx)(m.cN,{children:(0,a.jsx)(g.z,{onClick:()=>{N()},children:"Retry now"})})]})})]}):null}var h=r(24437),b=r(40841),v=r(32695);function j(e){let t=(0,c.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues});(0,c.v9)(e=>e.environment.environmentLoadedValues);let r=(0,c.I0)(),[d,u]=(0,s.useState)("{}"),[f,m]=(0,s.useState)(""),g=async e=>{let a=e.target.files[0];if(a){if("application/json"===a.type){let e=l.ZP.loading("Loading JSON file..."),t=new FileReader;t.onload=t=>{try{let a=JSON.parse(t.target.result);m(JSON.stringify(a,null,2)),u(JSON.stringify(a,null,2)),r((0,h.q7)(a)),l.ZP.success("JSON file loaded successfully!",{id:e})}catch(t){m("Invalid JSON file."),u("Invalid JSON file."),l.ZP.error("Failed to load JSON file.",{id:e})}},t.readAsText(a)}else if("application/zip"===a.type||a.name.endsWith(".zip")){let e=l.ZP.loading("Uploading ZIP file..."),o=new FormData;o.append("raw",a,a.name);try{var s,n;let a=await i.Z.put("".concat("".concat("http://localhost:8000","/db/upload")),o,{headers:{"Content-Type":"multipart/form-data",accept:"application/json",Authorization:(0,p.Z)(t),superduper_reverse_proxy:"http://localhost:8000"}}),d=JSON.parse(JSON.stringify(null==a?void 0:null===(s=a.data)||void 0===s?void 0:s.component));r((0,b.Xs)([...null==a?void 0:null===(n=a.data)||void 0===n?void 0:n.artifacts])),m(JSON.stringify(d,null,2)),u(JSON.stringify(d,null,2)),r((0,h.q7)(d)),l.ZP.success("ZIP file uploaded successfully!",{id:e})}catch(t){l.ZP.error((null==t?void 0:t.message)||"Failed to upload ZIP file.",{id:e,duration:1e4}),console.log("Error uploading ZIP file:",t)}}else m("Please upload a valid JSON or ZIP file."),l.ZP.error("Invalid file type.")}else m("No file selected."),l.ZP.error("No file selected.")},j=(0,s.useRef)(null);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"border-gray-900/10 pb-2",children:(0,a.jsxs)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:["Add Custom Template"," ",(0,a.jsx)(n.Z,{label:"",popoverheader:"Add Custom Template",popovercontent:(0,a.jsx)("p",{children:"You can type or upload a JSON file here to automatically fill in the JSON field."})})]})})}),(0,a.jsx)("div",{className:"mt-5 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:(0,a.jsxs)("div",{className:"sm:col-span-3",children:[(0,a.jsx)(o.default,{ref:j,className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Add JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{u(e);try{let t=JSON.parse(e);r((0,h.q7)(t))}catch(e){}},fontSize:13,showPrintMargin:!0,showGutter:!1,highlightActiveLine:!0,value:d,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:"500px",width:"200%"}),(0,a.jsx)("input",{type:"file",accept:".json,.zip",className:"block mt-2 w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:g}),(0,a.jsx)("p",{className:"text-xs pl-2 text-muted-foreground",children:"*You can upload a json file to populate the json field. Or you can upload a zip file."})]})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(v.Z,{}),(0,a.jsx)(x,{})]})}var y=r(11340);function N(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.aG,{children:(0,a.jsxs)(y.Jb,{children:[(0,a.jsx)(y.gN,{children:(0,a.jsx)(y.At,{href:"/webui",children:"Home"})}),(0,a.jsx)(y.bg,{}),(0,a.jsx)(y.gN,{children:(0,a.jsx)(y.At,{href:"/webui/templates",children:"Templates"})}),(0,a.jsx)(y.bg,{}),(0,a.jsx)(y.gN,{children:(0,a.jsx)(y.AG,{children:"Add Template"})})]})}),(0,a.jsx)("br",{}),(0,a.jsx)(j,{})]})}var w=r(7989),k=(0,r(22282).N)(function(){return(0,a.jsx)(w.Z,{activeNavItem:"/webui/templates",children:(0,a.jsx)("main",{className:"py-10",children:(0,a.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"mx-auto max-w-3xl",children:(0,a.jsx)(N,{})})})})})})})},11340:function(e,t,r){"use strict";r.d(t,{AG:function(){return f},At:function(){return u},Jb:function(){return d},aG:function(){return o},bg:function(){return m},gN:function(){return c}});var a=r(57437),s=r(2265),n=r(4867),i=r(71538),l=r(77700);let o=s.forwardRef((e,t)=>{let{...r}=e;return(0,a.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...r})});o.displayName="Breadcrumb";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("ol",{ref:t,className:(0,l.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",r),...s})});d.displayName="BreadcrumbList";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("li",{ref:t,className:(0,l.cn)("inline-flex items-center gap-1.5",r),...s})});c.displayName="BreadcrumbItem";let u=s.forwardRef((e,t)=>{let{asChild:r,className:s,...n}=e,o=r?i.g7:"a";return(0,a.jsx)(o,{ref:t,className:(0,l.cn)("transition-colors hover:text-foreground",s),...n})});u.displayName="BreadcrumbLink";let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,l.cn)("font-normal text-foreground",r),...s})});f.displayName="BreadcrumbPage";let m=e=>{let{children:t,className:r,...s}=e;return(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,l.cn)("[&>svg]:size-3.5",r),...s,children:null!=t?t:(0,a.jsx)(n.XCv,{})})};m.displayName="BreadcrumbSeparator"},68639:function(e,t,r){"use strict";r.d(t,{$N:function(){return g},Be:function(){return x},Vq:function(){return o},cN:function(){return p},cZ:function(){return f},fK:function(){return m},hg:function(){return d}});var a=r(57437),s=r(2265),n=r(13304),i=r(4867),l=r(77700);let o=n.fC,d=n.xz,c=n.h_;n.x8;let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s})});u.displayName=n.aV.displayName;let f=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...o,children:[s,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.Pxu,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=n.VY.displayName;let m=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};m.displayName="DialogHeader";let p=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};p.displayName="DialogFooter";let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",r),...s})});g.displayName=n.Dx.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});x.displayName=n.dk.displayName},92404:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var a=r(57437),s=r(2265),n=r(77700);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},10464:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var a=r(57437),s=r(2265),n=r(38364),i=r(12218),l=r(77700);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,l.cn)(o(),r),...s})});d.displayName=n.f.displayName},32695:function(e,t,r){"use strict";var a=r(57437),s=r(2265),n=r(11444),i=r(21125),l=r(56360);function o(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6"})})}function d(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m18 15-6-6-6 6"})})}t.Z=()=>{let e=(0,n.v9)(e=>e.uploadFiles.uploadFilesLoadedValues||[]),[t,r]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{0===e.length||c||r(!0)},[e,c]),(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.z,{variant:"secondary",onClick:()=>{r(!t),u(!0)},children:["Upload Artifact",t?(0,a.jsx)(d,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(o,{className:"ml-2 h-4 w-4"})]}),(t||!c&&0!==e.length)&&(0,a.jsx)("div",{className:"col-span-full mt-2",children:(0,a.jsx)(i.Z,{})})]})}},89155:function(e,t,r){"use strict";function a(e){{let[e,t]="admin,WQWaAmSMkyi4Zux3".split(","),r=e.includes("@")?e.split("@")[0]:e;return"Basic ".concat(btoa("".concat(r,":").concat(t)))}}r.d(t,{Z:function(){return a}}),r(20357)},32910:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(57437),s=r(2265),n=r(72498);r(35149),r(24016),r(29390);var i=r(11444),l=r(24437),o=r(88726);function d(e){let{data:t,height:r="300px"}=e,d=(0,i.I0)(),[c,u]=(0,s.useState)(JSON.stringify(t,null,"	"));return(0,s.useRef)(null),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.default,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Stack result JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{try{u(e),d((0,l.q7)(JSON.parse(e)))}catch(e){o.ZP.error("Error updating...",{id:"stack-update-error"})}},fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:c,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:r,width:"100%"})})}},39129:function(e,t,r){"use strict";var a=r(57437);r(2265),t.Z=e=>{let t=e.times||4;return(0,a.jsxs)("div",{role:"status",className:"max-w-3xl p-4 space-y-4 border border-gray-200 divide-y divide-gray-200 rounded shadow animate-pulse gray:divide-gray-700 md:p-6 gray:border-gray-700",children:[[...Array(t)].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"h-2.5 bg-gray-300 rounded-full gray:bg-gray-600 w-24 mb-2.5"}),(0,a.jsx)("div",{className:"w-32 h-2 bg-gray-200 rounded-full gray:bg-gray-700"})]}),(0,a.jsx)("div",{className:"h-2.5 bg-gray-300 rounded-full gray:bg-gray-700 w-12"})]},t)),(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})]})}},18930:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var a=r(57437),s=r(2265),n=r(68602),i=r(77700);let l=n.fC,o=n.xz,d=s.forwardRef((e,t)=>{let{className:r,align:s="center",sideOffset:l=4,...o}=e;return(0,a.jsx)(n.VY,{ref:t,align:s,sideOffset:l,className:(0,i.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...o})});d.displayName=n.VY.displayName;var c=e=>{let{label:t,popoverheader:r,popovercontent:s}=e;return(0,a.jsxs)(l,{children:[(0,a.jsx)(o,{children:(0,a.jsx)("label",{className:"text-sm font-medium leading-6 text-gray-900 inline-flex items-center",children:(0,a.jsxs)("p",{children:[t," ",(0,a.jsx)("button",{type:"button",className:"align-middle mb-1",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4 hover:text-gray-500 rounded-sm align-middle",children:(0,a.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.375 9.375l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M17.5 10a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-7.5-3.125h.008v.008H10V6.875Z"})})})]})})}),(0,a.jsxs)(d,{className:"text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm overflow-visible",children:[r&&(0,a.jsx)("div",{className:"px-3 py-2 bg-gray-100 border-b border-gray-200 rounded-lg dark:border-gray-600 dark:bg-gray-700 overflow-visible",children:(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white overflow-visible",children:r})}),(0,a.jsx)("div",{className:"px-3 py-2",children:s})]})]})}},68429:function(e,t,r){"use strict";var a=r(2265);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{fillRule:"evenodd",d:"M5.5 17a4.5 4.5 0 0 1-1.44-8.765 4.5 4.5 0 0 1 8.302-3.046 3.5 3.5 0 0 1 4.504 4.272A4 4 0 0 1 15 17H5.5Zm3.75-2.75a.75.75 0 0 0 1.5 0V9.66l1.95 2.1a.75.75 0 1 0 1.1-1.02l-3.25-3.5a.75.75 0 0 0-1.1 0l-3.25 3.5a.75.75 0 1 0 1.1 1.02l1.95-2.1v4.59Z",clipRule:"evenodd"}))});t.Z=s}},function(e){e.O(0,[8310,2408,8726,5641,9743,231,2126,9192,2710,5901,5932,2971,7023,1744],function(){return e(e.s=8136)}),_N_E=e.O()}]);