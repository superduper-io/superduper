(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6332],{92659:function(e,t,a){Promise.resolve().then(a.bind(a,57042))},57042:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Z}});var n=a(57437),r=a(29039),s=a(42126),o=a(19685),i=a(39129),l=a(11444),d=a(83598),c=a(2265),u=a(60011),p=a(36336),h=a(88726),m=a(89155);function v(e){return e.filter(e=>"template"===e.type_id)}function x(){(0,l.v9)(e=>e.environment.environmentLoadedValues);let e=(0,l.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),[t,a]=(0,c.useState)(null),[d,x]=(0,c.useState)(null),f=async t=>{try{h.ZP.loading("Fetching latest data",{id:"fetching",position:"bottom-center"});let t=await s.Z.get("".concat("".concat("http://localhost:8000","/db/show")),{headers:{Accept:"application/json",Authorization:(0,m.Z)(e),superduper_reverse_proxy:"http://localhost:8000"}});return console.log("/db/show/ API data:",t.data),h.ZP.dismiss("fetching"),t.data}catch(e){h.ZP.dismiss("fetching"),console.error("Error fetching Services API data")}},j=e=>{let t={};return e.forEach((e,a)=>{let n=e.type_id;t[n]||(t[n]={type_id:n,payload:[]}),t[n].payload.push({id:a+1,identifier:e.identifier,type_id:e.type_id,status:"online",timestamp:"Retrieved 1 minute ago"})}),Object.values(t)},{data:y,error:_}=(0,r.ZP)("".concat("".concat("http://localhost:8000","/db/show")),f,{refreshInterval:6e4,shouldRetryOnError:!1});(0,c.useEffect)(()=>{y?(a(j(y.filter(e=>"application"!==e.type_id))),x(j(v(y)))):(a(j(v([]))),x(j(v([]))))},[y,_]);let[Z,b]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{if(d&&0===d.length){let e=setTimeout(()=>{b(!0)},1e3);return()=>clearTimeout(e)}b(!1)},[d]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{title:"Templates",description:"See, add and delete AI app and workflow templates which you can use to create applications.",buttonText:"Add Template",buttonLink:"/webui/add-template"}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[d?d.length>0?d.map((e,t)=>(0,n.jsx)(u.Z,{data:e},t)):!Z&&(0,n.jsx)(i.Z,{}):(0,n.jsx)(i.Z,{}),Z&&(0,n.jsx)(o.Z,{header:"No Template Found",description:"Get started by adding a new custom template.",createDeployment:"hide"})]}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{})]})}var f=a(20357);function j(){let e=(0,l.v9)(e=>e.environment.environmentLoadedValues),t=(0,l.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),a=(0,l.v9)(e=>e.deploymentName.deploymentNameLoadedValues.name),o=async e=>(await s.Z.get(e,{headers:{Accept:"application/json",Authorization:(0,m.Z)(t),superduper_reverse_proxy:"http://localhost:8000"}})).data,c=async a=>(await s.Z.get(a,{headers:{Accept:"application/json",Authorization:(0,m.Z)(t),superduper_reverse_proxy:f.env.NEXT_PUBLIC_API||e.NEXT_PUBLIC_API}})).data,{data:u,error:p}=(0,r.ZP)("/webui/apiserver/deployments/".concat(a),c,{refreshInterval:3e4,shouldRetryOnError:!1}),{data:h,error:v}=(0,r.ZP)("".concat("".concat("http://localhost:8000","/health")),o,{refreshInterval:3e4,shouldRetryOnError:!1});return h||v?v?(0,n.jsx)(d.Z,{header:"REST API is currently unavailable"}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(x,{})}):(0,n.jsx)(i.Z,{times:6})}var y=a(7989),_=a(42075),Z=(0,a(22282).N)(function(){return(0,n.jsx)(_.Z,{children:(0,n.jsx)(y.Z,{activeNavItem:"/webui/templates",children:(0,n.jsx)("main",{className:"py-10",children:(0,n.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,n.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,n.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,n.jsx)(j,{})})})})})})})})}},function(e){e.O(0,[2408,8310,8726,90,231,8961,9192,1502,2447,1597,4084,8797,7768,5336,6028,2971,7023,1744],function(){return e(e.s=92659)}),_N_E=e.O()}]);