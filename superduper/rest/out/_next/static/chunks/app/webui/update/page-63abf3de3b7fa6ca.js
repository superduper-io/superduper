(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{5610:function(e,t,r){Promise.resolve().then(r.bind(r,6695))},6695:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(7437),i=r(2265),a=r(1125),s=r(2126),o=r(6360),l=r(2498);r(5149),r(4016),r(9390);var c=r(6602),d=r(4437),u=r(1444),p=r(8726),h=r(6463),f=r(9155);function g(e){(0,u.v9)(e=>e.environment.environmentLoadedValues);let t=(0,u.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),r=(0,h.useSearchParams)(),g=r.get("type_id"),j=r.get("identifier"),v=r.get("version")||null;(0,i.useEffect)(()=>{if(j&&g){console.log("Type Id:",g),console.log("Application:",j),console.log("Version:",v);let e=()=>{p.ZP.error("Error fetching application data. Please check your connection.");let e={error:"Error fetching application data. No application information found!"},t=JSON.stringify(e,null,2);S(t),k(t),y((0,d.q7)(e)),console.error("Error fetching application data. Please check your connection.")};(async()=>{try{let e=v;v||(e=(await s.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=").concat(g,"&identifier=").concat(j)),{headers:{Accept:"application/json",Authorization:(0,f.Z)(t),superduper_reverse_proxy:"http://localhost:8000"}})).data.slice(-1)[0]);let r=await s.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=").concat(g,"&identifier=").concat(j,"&version=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,f.Z)(t),superduper_reverse_proxy:"http://localhost:8000"}}),n=JSON.stringify(r.data,null,2);S(n),k(n),y((0,d.q7)(r.data))}catch(t){e()}})()}},[g,j,v]);let[b,w]=(0,i.useState)(!1),y=(0,u.I0)(),[N,k]=(0,i.useState)("{}"),[A,S]=(0,i.useState)(""),Z=(0,i.useRef)(null),[P,E]=(0,i.useState)("");return j||g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"border-gray-900/10 pb-2 -mt-4",children:[(0,n.jsxs)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:["Update ",g,"/",j]}),(0,n.jsxs)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:["Please update the ",g," by updating the parameters below."]})]}),(0,n.jsx)("div",{className:"mt-2 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:(0,n.jsx)("div",{className:"sm:col-span-3",children:(0,n.jsx)(l.ZP,{ref:Z,className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Add your JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{k(e);try{let t=JSON.parse(e);y((0,d.q7)(t))}catch(e){}},fontSize:13,showPrintMargin:!0,showGutter:!1,highlightActiveLine:!0,value:N,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:"500px",width:"200%"})})}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)(o.z,{variant:"secondary",onClick:()=>w(!b),children:["Upload Artifact",b?(0,n.jsx)(x,{className:"ml-2 h-4 w-4"}):(0,n.jsx)(m,{className:"ml-2 h-4 w-4"})]}),b&&(0,n.jsx)("div",{className:"col-span-full mt-2",children:(0,n.jsx)(a.Z,{})}),(0,n.jsx)(c.Z,{})]}):null}function m(e){return(0,n.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"m6 9 6 6 6-6"})})}function x(e){return(0,n.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"m18 15-6-6-6 6"})})}var j=r(1340);function v(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.aG,{children:(0,n.jsxs)(j.Jb,{children:[(0,n.jsx)(j.gN,{children:(0,n.jsx)(j.At,{href:"/webui",children:"Home"})}),(0,n.jsx)(j.bg,{}),(0,n.jsx)(j.gN,{children:(0,n.jsx)(j.At,{href:"/webui/application",children:"Application"})}),(0,n.jsx)(j.bg,{}),(0,n.jsx)(j.gN,{children:(0,n.jsx)(j.AG,{children:"Update"})})]})}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(g,{})]})}var b=r(7989),w=(0,r(6395).N)(function(){return(0,n.jsx)(b.Z,{activeNavItem:"/webui/application",children:(0,n.jsx)("main",{className:"py-10",children:(0,n.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,n.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,n.jsx)("div",{className:"mx-auto max-w-3xl",children:(0,n.jsx)(v,{})})})})})})})},2040:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(7437),i=r(2265),a=r(2498);r(5149),r(4016),r(9390);var s=r(1444),o=r(4437),l=r(8726);function c(e){let{data:t,height:r="300px"}=e,c=(0,s.I0)(),[d,u]=(0,i.useState)(JSON.stringify(t,null,"	"));return(0,i.useRef)(null),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.ZP,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Stack result JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{try{u(e),c((0,o.q7)(JSON.parse(e)))}catch(e){l.ZP.error("Error updating...",{id:"stack-update-error"})}},fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:d,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:r,width:"100%"})})}},6602:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(7437),i=r(2265),a=r(7138),s=r(8726),o=r(1444),l=r(6463),c=r(2040),d=r(8639),u=r(6360),p=r(9155);function h(){(0,o.v9)(e=>e.environment.environmentLoadedValues);let e=(0,o.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),t=(0,l.useRouter)(),r=(0,o.v9)(e=>e.stack.stackUpdateByIndex),h=(0,o.v9)(e=>e.stack.submittedStack),[f,g]=(0,i.useState)(null),[m,x]=(0,i.useState)(!1),[j,v]=(0,i.useState)(!1),[b,w]=(0,i.useState)(null);function y(){if(!h){s.ZP.error("Error adding application",{id:"form-error"});return}s.ZP.loading("Adding application...",{id:"adding"});try{fetch("".concat("".concat("http://localhost:8000","/db/apply")),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:(0,p.Z)(e),superduper_reverse_proxy:"http://localhost:8000"},body:JSON.stringify(h,null,"	")}).then(e=>{if(!e.ok){if(500===e.status)return e.json().then(e=>{throw console.log("Error response data:",e),w(e),Error("Server error")});throw Error("Network response was not ok")}return e.json()}).then(e=>{s.ZP.dismiss("adding"),console.log("Data from:",e),s.ZP.success("Application added successfully"),t.push("/webui/application")}).catch(e=>{v(!0),console.error("Error fetching API data",e),s.ZP.error("Error adding application",{id:"form-error"}),s.ZP.dismiss("adding")})}catch(e){s.ZP.dismiss("adding"),v(!0),s.ZP.error("Error adding application",{id:"form-error"})}}return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,n.jsx)(a.default,{href:"/webui/add-application",children:(0,n.jsx)("button",{type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})}),(0,n.jsx)("button",{onClick:e=>{e.preventDefault,x(!0)},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Add Application"})]}),(0,n.jsx)("br",{}),(0,n.jsx)(d.Vq,{open:m,onOpenChange:()=>x(!1),children:(0,n.jsxs)(d.cZ,{className:"sm:max-w-[768px]",children:[(0,n.jsxs)(d.fK,{children:[(0,n.jsx)(d.$N,{children:"Review the application"}),(0,n.jsx)(d.Be,{children:"This will be added to the database. Please review the application before confirming."})]}),h?(0,n.jsx)(c.Z,{data:h}):"Preparing application...",(0,n.jsx)(d.cN,{children:(0,n.jsx)(u.z,{type:"submit",onClick:()=>{y()},children:"Save changes"})})]})}),(0,n.jsx)(d.Vq,{open:j,onOpenChange:()=>{x(!1),v(!1)},children:(0,n.jsxs)(d.cZ,{className:"sm:max-w-[768px]",children:[(0,n.jsxs)(d.fK,{children:[(0,n.jsx)(d.$N,{children:"Failed Adding Application"}),(0,n.jsx)(d.Be,{children:"Please review the error message and try again."})]}),(0,n.jsx)("strong",{children:"Error Message"}),b?(0,n.jsx)(c.Z,{data:b,height:100}):"Loading ...",(0,n.jsx)("strong",{children:"Submitted"}),h?(0,n.jsx)(c.Z,{data:h,height:"150px"}):"Preparing application...",(0,n.jsx)(d.cN,{children:(0,n.jsx)(u.z,{onClick:()=>{y()},children:"Retry now"})})]})})]}):null}},1340:function(e,t,r){"use strict";r.d(t,{AG:function(){return p},At:function(){return u},Jb:function(){return c},aG:function(){return l},bg:function(){return h},gN:function(){return d}});var n=r(7437),i=r(2265),a=r(4867),s=r(1538),o=r(7700);let l=i.forwardRef((e,t)=>{let{...r}=e;return(0,n.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...r})});l.displayName="Breadcrumb";let c=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("ol",{ref:t,className:(0,o.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",r),...i})});c.displayName="BreadcrumbList";let d=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("li",{ref:t,className:(0,o.cn)("inline-flex items-center gap-1.5",r),...i})});d.displayName="BreadcrumbItem";let u=i.forwardRef((e,t)=>{let{asChild:r,className:i,...a}=e,l=r?s.g7:"a";return(0,n.jsx)(l,{ref:t,className:(0,o.cn)("transition-colors hover:text-foreground",i),...a})});u.displayName="BreadcrumbLink";let p=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,o.cn)("font-normal text-foreground",r),...i})});p.displayName="BreadcrumbPage";let h=e=>{let{children:t,className:r,...i}=e;return(0,n.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,o.cn)("[&>svg]:size-3.5",r),...i,children:null!=t?t:(0,n.jsx)(a.XCv,{})})};h.displayName="BreadcrumbSeparator"},4437:function(e,t,r){"use strict";r.d(t,{EU:function(){return o},Hi:function(){return s},Qk:function(){return l},q7:function(){return d},vW:function(){return c}});var n=r(4741),i=r(4702),a=r.n(i);let s=e=>({type:n.k0,payload:e}),o=e=>({type:n.pp,payload:function(e){let t={};for(let r in e)for(let n in t[r]={},e[r]){let i=e[r][n];for(let e in t[r][n]=[],i){let a=i[e],s={name:e};"object"==typeof a&&null!==a?Object.assign(s,a):s.default=a,t[r][n].push(s)}}return t}(function e(t){if("object"==typeof t&&null!==t)for(let r in t)"_path"===r?delete t[r]:e(t[r]);return t}(a()(e)))}),l=(e,t)=>({type:n.kD,payload:{index:e,stackUpdateByIndex:t}}),c=e=>({type:n.qX,payload:e}),d=e=>{let t;return{type:n.$H,payload:((t=a()(e))&&Array.isArray(t._leaves)&&(t._leaves=t._leaves.map(e=>(e.dict&&(delete e.dict.component,delete e.dict.componentType),e))),t)}}},8429:function(e,t,r){"use strict";var n=r(2265);let i=n.forwardRef(function(e,t){let{title:r,titleId:i,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},a),r?n.createElement("title",{id:i},r):null,n.createElement("path",{fillRule:"evenodd",d:"M5.5 17a4.5 4.5 0 0 1-1.44-8.765 4.5 4.5 0 0 1 8.302-3.046 3.5 3.5 0 0 1 4.504 4.272A4 4 0 0 1 15 17H5.5Zm3.75-2.75a.75.75 0 0 0 1.5 0V9.66l1.95 2.1a.75.75 0 1 0 1.1-1.02l-3.25-3.5a.75.75 0 0 0-1.1 0l-3.25 3.5a.75.75 0 1 0 1.1 1.02l1.95-2.1v4.59Z",clipRule:"evenodd"}))});t.Z=i}},function(e){e.O(0,[408,310,231,726,532,361,702,314,125,971,23,744],function(){return e(e.s=5610)}),_N_E=e.O()}]);