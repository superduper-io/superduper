(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9346],{32293:function(e,n,t){Promise.resolve().then(t.bind(t,55946))},55946:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Q}});var l=t(57437),o=t(2265),i=t(65236),s=t(63617),a=t(46260),r=t(77327),c=t(24437),d=t(11444),u=t(92404),m=t(10464),p=t(51349),h=t(75265),v=t(42126),x=t(72498);t(31777),t(24016),t(52994),t(29390),t(13715);var g=t(81056),f=t(88726),j=t(89155);function y(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}function b(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!0==t){if(l&&l.length>0&&l.includes(e))return"componentSelectSequence";if("artifact"==e)return"artifactSelectSequence";if(("str"===e||"string"===e)&&n)return"strSelectSequence"}return"artifact"===e||"blob"==e||"blobs"==e?"artifactSelect":"code"===e?"code":l&&l.length>0&&l.includes(e)?"componentSelect":"str"===e||"string"===e?n?"select":"str":"int"===e?"int":"json"===e||"query"==e?"json":"bool"===e||"boolean"===e?"boolean":"str"}function N(e){return e.some(e=>!0===e.optional)}var w=function(e){let{index:n,component:t,componentType:i}=e;(0,d.v9)(e=>e.environment.environmentLoadedValues);let r=(0,d.v9)(e=>{var n;return null==e?void 0:null===(n=e.userInfo)||void 0===n?void 0:n.userInfoLoadedValues}),w=(0,d.I0)(),S=(0,d.v9)(e=>e.stack.stackUpdateByIndex),k=(0,d.v9)(e=>e.stack.stackSpecLoadedValues),C=(0,d.v9)(e=>e.uploadFiles.uploadFilesLoadedValues),[T,_]=(0,o.useState)(null),[Z,E]=(0,o.useState)(0),[P,A]=(0,o.useState)(!0),[I,q]=(0,o.useState)(null),[D,F]=(0,o.useState)(!1),[O,Q]=(0,o.useState)("");(0,o.useEffect)(()=>{var e;let l=null===(e=k[i])||void 0===e?void 0:e[t],o=l?(console.log("\uD83D\uDE80\uD83D\uDE80\uD83D\uDE80 Component Spec: \uD83D\uDE80\uD83D\uDE80\uD83D\uDE80",l),l.reduce((e,n)=>((null==n?void 0:n.default)===void 0&&(null==n?void 0:n.sequence)?e[n.name]=[]:n.default&&(null==n?void 0:n.sequence)?e[n.name]=(null==n?void 0:n.default)||[]:(null==n?void 0:n.default)===void 0&&(null==n?void 0:n.optional)||((null==n?void 0:n.type)=="boolean"||(null==n?void 0:n.type)=="bool"?e[n.name]=(null==n?void 0:n.default)||!1:(null==n?void 0:n.default)===void 0&&(null==n?void 0:n.optional)?e[n.name]=null:e[n.name]="int"===n.type&&void 0!==n.default?parseInt(n.default,10)||0:n.default||""),e),{})):{};w((0,c.Qk)(n,{...S[n],...o})),setTimeout(()=>{w((0,c.Qk)(n,{...S[n],...o}))},100),F(!0),E(e=>e+1)},[i]),(0,o.useEffect)(()=>{let e=[],n=()=>{setTimeout(()=>{q(e)},1e3)};(async()=>{try{let e=S.filter(e=>e.componentType&&e.identifier).map(e=>{let{componentType:n,identifier:t}=e;return{type_id:n,identifier:t}}),n=function(e,n,t){let l=new Set;return[...e.flatMap(e=>l.add(e[t])&&e),...n.flatMap(e=>!l.has(e[t])&&e)]}(e,[],"identifier");q(n)}catch(e){console.error("Error fetching Services API data"),n()}})()},[n,t,i]),(0,o.useEffect)(()=>{_(k[i][t])},[k,S,n,t,i]);let[V,L]=(0,o.useState)([]);(0,o.useEffect)(()=>{!function(){try{v.Z.get("".concat("".concat("http://localhost:8000","/spec/show")),{headers:{Accept:"application/json",Authorization:(0,j.Z)(r),superduper_reverse_proxy:"http://localhost:8000"}}).then(e=>{L([...e.data.components,...Object.keys(e.data.leaves)]),Q(e.data.leaves)}).catch(e=>{console.error("Error fetching components data",e),f.ZP.error("Error fetching components data!")})}catch(e){f.ZP.error("Error fetching lookup data!")}}()},[S]);let J=(e,t)=>{w((0,c.Qk)(n,{...S[n],[t]:e.target.value})),E(e=>e+1)},B=(e,t)=>{w((0,c.Qk)(n,{...S[n],[t]:!e})),E(e=>e+1)},U=(e,t)=>{w((0,c.Qk)(n,{...S[n],[t]:S[n][t].includes(e.target.value)?[...S[n][t]]:[...S[n][t],e.target.value]})),E(e=>e+1)},z=(e,t)=>{w((0,c.Qk)(n,{...S[n],[t]:Array.isArray(S[n][t])?S[n][t].filter(n=>n!==e):[]})),E(e=>e+1)},M=(e,t)=>{let l=e.target.value;try{let e=parseInt(l,10);isNaN(e)?f.ZP.error("The value for ".concat(t," must be an integer."),{id:"integer-error"}):(w((0,c.Qk)(n,{...S[n],[t]:e})),E(e=>e+1))}catch(e){console.error("Error:",e),f.ZP.error("The value for ".concat(t," must be an integer."),{id:"integer-error"})}},R=(e,t)=>{w((0,c.Qk)(n,{...S[n],[t]:e})),E(e=>e+1)},G=(e,n)=>()=>{w((0,c.Qk)(e,{...S[e],[n]:(parseInt(S[e][n])||0)+1})),E(e=>e+1)},Y=(e,n)=>()=>{w((0,c.Qk)(e,{...S[e],[n]:(parseInt(S[e][n])||0)-1})),E(e=>e+1)},H=e=>null!=e&&!!e.optional&&!!P;function W(e,n){let t=n.replace(/^component\//,"");return e.filter(e=>e.type_id===t&&e.identifier).map(e=>e.identifier)}let K=(e,t)=>{try{let l;""===e?l={}:"string"==typeof e?(l=JSON.parse(e),JSON.stringify(l,null,2)):l={},console.log("Parsed JSON:",l),w((0,c.Qk)(n,{...S[n],[t.name]:l}))}catch(l){console.error("Error parsing JSON:",l),w((0,c.Qk)(n,{...S[n],[t.name]:e}))}},$=(e,t)=>{try{w((0,c.Qk)(n,{...S[n],[t.name]:e}))}catch(l){console.error("Error parsing JSON:",l),w((0,c.Qk)(n,{...S[n],[t.name]:e}))}};function X(e,n){if(e.hasOwnProperty(n)){let t=e[n];for(let e in t)if(t[e].hasOwnProperty("_path"))return t[e]._path}}return T&&S&&I&&D?(0,l.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[T.map(e=>{var t,i,r,c,d,v,f,j,N,w,k,T,_,Z,E,P,A,q,D,F,Q,L,ee,en;return(0,l.jsxs)(o.Fragment,{children:[!H(e)&&"str"===b(null==e?void 0:e.type,null==e?void 0:e.choices,null==e?void 0:e.sequence,V)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mt-4 mb-2",children:(0,l.jsxs)(m._,{htmlFor:e.name,children:[e.name," ",(null==e?void 0:e.optional)?"(optional)":(0,l.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,l.jsx)(u.I,{id:e.name,value:(null===(t=S[n])||void 0===t?void 0:t[e.name])||"",onChange:n=>J(n,e.name),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e.name," value here"),autocomplete:"off"})]}),!H(e)&&"boolean"===b(null==e?void 0:e.type,null==e?void 0:e.choices,null==e?void 0:e.sequence,V)&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"mt-4 mb-2",children:(0,l.jsxs)(g.r.Group,{as:"div",className:"flex items-center",children:[(0,l.jsx)(g.r,{checked:null===(i=S[n])||void 0===i?void 0:i[e.name],onChange:()=>{var t;return B(null===(t=S[n])||void 0===t?void 0:t[e.name],e.name)},className:y((null===(r=S[n])||void 0===r?void 0:r[e.name])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,l.jsx)("span",{"aria-hidden":"true",className:y((null===(c=S[n])||void 0===c?void 0:c[e.name])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,l.jsxs)(g.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,l.jsx)("span",{className:"font-medium text-gray-900",children:e.name})," ",(null==e?void 0:e.optional)?(0,l.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,l.jsx)("span",{className:"text-rose-500",children:"*"})]})]})})}),!H(e)&&"select"===b(null==e?void 0:e.type,null==e?void 0:e.choices,null==e?void 0:e.sequence,V)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mt-4 mb-2",children:(0,l.jsxs)(m._,{htmlFor:e.name,children:[e.name," ",e.optional?"(optional)":(0,l.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,l.jsxs)(a.Ph,{value:(null===(d=S[n])||void 0===d?void 0:d[e.name])||"",onValueChange:n=>R(n,e.name),children:[(0,l.jsx)(a.i4,{"aria-label":e.name,className:"w-[280px]",children:(0,l.jsx)(a.ki,{placeholder:"Select an option"})}),(0,l.jsx)(a.Bw,{children:(0,l.jsxs)(a.DI,{children:[(0,l.jsxs)(a.n5,{children:["Select ",e.name]}),null===(v=e.choices)||void 0===v?void 0:v.map(e=>(0,l.jsx)(a.Ql,{value:e,children:e},e))]})})]})]}),!H(e)&&"componentSelect"===b(null==e?void 0:e.type,null==e?void 0:e.choices,null==e?void 0:e.sequence,V)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mt-4 mb-2",children:(0,l.jsxs)(m._,{htmlFor:e.name,children:[e.name," ",(null==e?void 0:e.optional)?"(optional)":(0,l.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,l.jsxs)("select",{id:e.name,name:e.name,value:(null===(f=S[n])||void 0===f?void 0:f[e.name])||"",onChange:n=>J(n,e.name),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,l.jsx)("option",{value:"",children:"Select a component"},"showComponent"),I?null===(j=W(I,null==e?void 0:e.type))||void 0===j?void 0:j.map(n=>(0,l.jsxs)("option",{value:"?".concat(X(O,null==e?void 0:e.type),"/").concat(null==e?void 0:e.type,"/").concat(n),children:["?",X(O,null==e?void 0:e.type),"/",n]},n)):null]})]}),!H(e)&&"componentSelectSequence"===b(null==e?void 0:e.type,null==e?void 0:e.choices,null==e?void 0:e.sequence,V)&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mt-4 mb-2",children:[(0,l.jsxs)(m._,{htmlFor:e.name,children:[e.name," ",(null==e?void 0:e.optional)?"(optional)":(0,l.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,l.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,l.jsxs)("p",{className:"whitespace-nowrap",children:["Selected Sequence:"," ",S[n]&&S[n][e.name]&&0===S[n][e.name].length&&(0,l.jsx)("span",{children:"None"})]}),(null===(N=S[n])||void 0===N?void 0:N[e.name])&&(null===(w=S[n])||void 0===w?void 0:w[e.name].map((n,t)=>(0,l.jsxs)(o.Fragment,{children:[(0,l.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[n,(0,l.jsx)(s.Z,{onClick:()=>z(n,e.name),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]}),(0,l.jsx)("br",{})]},n)))]})]}),(0,l.jsxs)("select",{id:e.name,name:e.name,value:"",onChange:n=>U(n,e.name),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,l.jsx)("option",{value:"",children:"Select a component to sequence"},"showComponent"),I&&(null==e?void 0:e.type)&&S[n][e.name]?null===(k=W(I,e.type))||void 0===k?void 0:k.filter(t=>{var l;return!(Array.isArray(null===(l=S[n])||void 0===l?void 0:l[e.name])&&S[n][e.name].includes(t))}).map((n,t)=>(0,l.jsx)(o.Fragment,{children:(0,l.jsxs)("option",{value:"?component/".concat(e.type,"/").concat(n),children:["?component/",e.type,"/",n]},n)},t)):null]},JSON.stringify(null===(T=S[n])||void 0===T?void 0:T[e.name]))]}),!H(e)&&"artifactSelectSequence"===b(null==e?void 0:e.type,null==e?void 0:e.choices,null==e?void 0:e.sequence,V)&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mt-4 mb-2",children:[(0,l.jsxs)(m._,{htmlFor:e.name,children:[e.name," ",(null==e?void 0:e.optional)?"(optional)":(0,l.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,l.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,l.jsxs)("p",{className:"whitespace-nowrap",children:["Selected Sequence:"," ",S[n]&&S[n][e.name]&&0===S[n][e.name].length&&(0,l.jsx)("span",{children:"None"})]}),(null===(_=S[n])||void 0===_?void 0:_[e.name])&&(null===(Z=S[n])||void 0===Z?void 0:Z[e.name].map((n,t)=>(0,l.jsxs)(o.Fragment,{children:[(0,l.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[n,(0,l.jsx)(s.Z,{onClick:()=>z(n,e.name),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]}),(0,l.jsx)("br",{})]},n)))]})]}),(0,l.jsxs)("select",{id:e.name,name:e.name,value:"",onChange:n=>U(n,e.name),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,l.jsx)("option",{value:"",children:"Select an artifact after uploading to create sequence"},"uploadArtifact"),C?null==C?void 0:C.map((e,n)=>(0,l.jsx)("option",{value:"".concat(e),children:e},e)):null]},JSON.stringify(null===(E=S[n])||void 0===E?void 0:E[e.name]))]}),!H(e)&&"strSelectSequence"===b(null==e?void 0:e.type,null==e?void 0:e.choices,null==e?void 0:e.sequence,V)&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mt-4 mb-2",children:[(0,l.jsxs)(m._,{htmlFor:e.name,children:[e.name," ",(null==e?void 0:e.optional)?"(optional)":(0,l.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,l.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,l.jsxs)("p",{className:"whitespace-nowrap",children:["Selected Sequence:"," ",S[n]&&S[n][e.name]&&0===S[n][e.name].length&&(0,l.jsx)("span",{children:"None"})]}),(null===(P=S[n])||void 0===P?void 0:P[e.name])&&(null===(A=S[n])||void 0===A?void 0:A[e.name].map((n,t)=>(0,l.jsxs)(o.Fragment,{children:[(0,l.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[n,(0,l.jsx)(s.Z,{onClick:()=>z(n,e.name),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]}),(0,l.jsx)("br",{})]},n)))]})]}),(0,l.jsxs)("select",{id:e.name,name:e.name,value:"",onChange:n=>U(n,e.name),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,l.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),e.choices?null==e?void 0:e.choices.map(e=>(0,l.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null===(q=S[n])||void 0===q?void 0:q[e.name]))]}),!H(e)&&"artifactSelect"===b(null==e?void 0:e.type,null==e?void 0:e.choices,null==e?void 0:e.sequence,V)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mt-4 mb-2",children:(0,l.jsxs)(m._,{htmlFor:e.name,children:[e.name," ",(null==e?void 0:e.optional)?"(optional)":(0,l.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,l.jsxs)("select",{id:e.name,name:e.name,value:(null===(D=S[n])||void 0===D?void 0:D[e.name])||"",onChange:n=>J(n,e.name),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,l.jsx)("option",{value:"",children:"Select an artifact after uploading"},"uploadArtifact"),C?null==C?void 0:C.map((e,n)=>(0,l.jsx)("option",{value:"".concat(e),children:e},e)):null]})]}),!H(e)&&"int"===b(null==e?void 0:e.type,null==e?void 0:e.choices,null==e?void 0:e.sequence,V)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mt-4 mb-2",children:(0,l.jsxs)(m._,{htmlFor:e.name,children:[e.name," ",(null==e?void 0:e.optional)?"(optional)":(0,l.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-left",children:[(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("button",{type:"button",onClick:Y(n,e.name),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mr-4",children:(0,l.jsx)(p.Z,{className:"h-5 w-5","aria-hidden":"true"})}),(0,l.jsx)("input",{type:"int",className:"w-16 text-center block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",id:e.name,value:(null===(F=S[n])||void 0===F?void 0:F[e.name])||0,onChange:n=>M(n,e.name)}),(0,l.jsx)("button",{type:"button",onClick:G(n,e.name),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,l.jsx)(h.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})]}),!H(e)&&"json"===b(null==e?void 0:e.type,null==e?void 0:e.choices,null==e?void 0:e.sequence,V)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mt-4 mb-2",children:(0,l.jsxs)(m._,{htmlFor:e.name,children:[e.name," ",(null==e?void 0:e.optional)?"(optional)":(0,l.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,l.jsx)(x.ZP,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Here you can pass a dictionary as value. e.g. {key: value}",mode:"json",theme:"twilight",name:e.name,onChange:n=>K(n,e),fontSize:13,showPrintMargin:!0,showGutter:!1,highlightActiveLine:!0,value:"object"==typeof(null===(Q=S[n])||void 0===Q?void 0:Q[e.name])?JSON.stringify(null===(L=S[n])||void 0===L?void 0:L[e.name],null,"	"):(null===(ee=S[n])||void 0===ee?void 0:ee[e.name])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,height:"150px",width:"175%"})]}),!H(e)&&"code"===b(null==e?void 0:e.type,null==e?void 0:e.choices,null==e?void 0:e.sequence,V)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mt-4 mb-2",children:(0,l.jsxs)(m._,{htmlFor:e.name,children:[e.name," ",(null==e?void 0:e.optional)?"(optional)":(0,l.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,l.jsx)(x.ZP,{className:"mt-2 rounded-md border-2 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Write Python here...",mode:"python",theme:"tomorrow",name:e.name,onChange:n=>$(n,e),fontSize:13,showPrintMargin:!0,showGutter:!1,highlightActiveLine:!0,value:(null===(en=S[n])||void 0===en?void 0:en[e.name])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,height:"250px",width:"175%"})]})]},e.name)}),N(T)&&P&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,l.jsx)("div",{className:"mt-6 flex",children:(0,l.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{A(!P)},children:["Show optional parameters",(0,l.jsx)("span",{"aria-hidden":"true",children:" →"})]})})]}),N(T)&&!P&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,l.jsx)("div",{className:"mt-6 flex",children:(0,l.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{A(!P)},children:["Hide optional parameters",(0,l.jsx)("span",{"aria-hidden":"true",children:" ←"})]})})]})]}):null},S=function(e){var n,t,i,u,m,p,h,v,x;let{index:g}=e,f=(0,d.I0)(),j=(0,d.v9)(e=>e.stack.stackUpdateByIndex),y=(0,d.v9)(e=>e.stack.stackSpecLoadedValues),[b,N]=(0,o.useState)(null),[S,k]=(0,o.useState)(0),[C,T]=(0,o.useState)(!1),_=()=>{try{let e=function(e){let n={};for(let t in e)Array.isArray(e[t])?n[t]=Object.keys(e[t]):n[t]=Object.keys(e[t]).map(e=>e);return n}(y);N(e)}catch(e){console.error("Error fetching data:",e)}};return((0,o.useEffect)(()=>{_()},[y,j]),b)?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"mt-4 pt-4 rounded-2xl border-4 border-dashed border-gray-900/25 px-6 py-10",children:[(0,l.jsx)("br",{}),(0,l.jsx)("div",{className:"space-y-12",children:(0,l.jsxs)("div",{className:"pb-2",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900 ",children:"Add Component"}),(0,l.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,l.jsxs)("button",{type:"button",className:"-mt-10 rounded-md bg-white text-gray-400 hover:text-gray-500 outline ring-2 ring-indigo-500",onClick:()=>{T(!0);let e=j.filter((e,n)=>n!==g);f((0,c.vW)(e))},children:[(0,l.jsx)("span",{className:"sr-only",children:"Close"}),(0,l.jsx)(s.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),(0,l.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"Begin by choosing a component type, then select a specific component from the available list. To add multiple components simultaneously, click the plus icon below."}),(0,l.jsxs)("div",{className:"sm:col-span-3",children:[(0,l.jsx)("div",{className:"mt-4 mb-2",children:(0,l.jsx)(r.Z,{label:"Select Component Type",popoverheader:"Select Component Type",popovercontent:(0,l.jsx)("p",{children:'Select Component is the name of the component you want to add. i.e. "model"'})})}),(0,l.jsxs)(a.Ph,{className:"mt-4",value:(null===(n=j[g])||void 0===n?void 0:n.componentType)||"",onValueChange:e=>{f((0,c.Qk)(g,{componentType:e}))},children:[(0,l.jsx)(a.i4,{className:"w-[280px]",children:(0,l.jsx)(a.ki,{placeholder:"Select an option"})}),(0,l.jsx)(a.Bw,{children:(0,l.jsxs)(a.DI,{children:[(0,l.jsx)(a.n5,{children:"Select Component Type"}),Object.keys(b).filter(e=>"application"!==e).map(e=>(0,l.jsx)(a.Ql,{value:e,children:e},e))]})})]})]}),(null===(t=j[g])||void 0===t?void 0:t.componentType)!==""&&(0,l.jsxs)("div",{className:"sm:col-span-3",children:[(0,l.jsx)("div",{className:"mt-4 mb-2",children:(0,l.jsx)(r.Z,{label:"Select Component",popoverheader:"Select Component",popovercontent:(0,l.jsx)("p",{children:'Select Component is the name of the component you want to add. i.e. "my-Select Component"'})})}),(0,l.jsxs)(a.Ph,{className:"mt-2",value:(null===(i=j[g])||void 0===i?void 0:i.component)||"",onValueChange:e=>{var n;f((0,c.Qk)(g,{componentType:j[g].componentType,component:e}));let t=null===(n=y[j[g].componentType])||void 0===n?void 0:n[e],l=t?t.reduce((e,n)=>((null==n?void 0:n.default)===void 0&&(null==n?void 0:n.sequence)?e[n.name]=[]:n.default&&(null==n?void 0:n.sequence)?e[n.name]=(null==n?void 0:n.default)||[]:(null==n?void 0:n.default)===void 0&&(null==n?void 0:n.optional)||((null==n?void 0:n.type)=="boolean"||(null==n?void 0:n.type)=="bool"?e[n.name]=(null==n?void 0:n.default)||!1:(null==n?void 0:n.default)===void 0&&(null==n?void 0:n.optional)?e[n.name]=null:e[n.name]="int"===n.type&&void 0!==n.default?parseInt(n.default,10)||0:n.default||""),e),{}):{};f((0,c.Qk)(g,{componentType:j[g].componentType,component:e})),f((0,c.Qk)(g,{componentType:j[g].componentType,component:e,...l}))},children:[(0,l.jsx)(a.i4,{className:"w-[280px]",children:(0,l.jsx)(a.ki,{placeholder:"Select an option"})}),(0,l.jsx)(a.Bw,{children:(0,l.jsxs)(a.DI,{children:[(0,l.jsx)(a.n5,{children:"Select Component"}),null===(u=b[null===(m=j[g])||void 0===m?void 0:m.componentType])||void 0===u?void 0:u.map(e=>(0,l.jsx)(a.Ql,{value:e,children:e},e))]})})]})]}),(null===(p=j[g])||void 0===p?void 0:p.component)&&(null===(h=j[g])||void 0===h?void 0:h.componentType)&&(0,l.jsx)(w,{index:g,component:null===(v=j[g])||void 0===v?void 0:v.component,componentType:null===(x=j[g])||void 0===x?void 0:x.componentType})]})})]})}):null},k=t(87138),C=t(22040),T=t(4702),_=t.n(T),Z=t(68639),E=t(56360);function P(){(0,d.v9)(e=>e.environment.environmentLoadedValues);let e=(0,d.v9)(e=>{var n;return null==e?void 0:null===(n=e.userInfo)||void 0===n?void 0:n.userInfoLoadedValues}),n=(0,d.I0)(),t=(0,d.v9)(e=>e.stack.stackUpdateByIndex),i=(0,d.v9)(e=>e.stack.submittedStack),s=(0,d.v9)(e=>e.stack.stackLoadedValues),a=(0,d.v9)(e=>e.uploadFiles.uploadFilesLoadedValuesComponent||[]),[r,u]=(0,o.useState)(null),[m,p]=(0,o.useState)(!1),[h,v]=(0,o.useState)(!1),[x,g]=(0,o.useState)(null),y=async()=>{try{let t=await fetch("".concat("".concat("http://localhost:8000","/spec/show")),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:(0,j.Z)(e),superduper_reverse_proxy:"http://localhost:8000"}}),l=await t.json();n((0,c.EU)(null==l?void 0:l.leaves)),u(null==l?void 0:l.leaves)}catch(e){console.error(e),f.ZP.error("Error fetching data!",{id:"form-error"})}};function b(e){f.ZP.error(e,{id:"form-error"})}function N(){if(!i){f.ZP.error("Error adding component",{id:"form-error"});return}f.ZP.loading("Adding component...",{id:"adding"});try{fetch("".concat("".concat("http://localhost:8000","/db/apply")),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:(0,j.Z)(e),superduper_reverse_proxy:"http://localhost:8000"},body:JSON.stringify(i,null,"	")}).then(e=>{if(!e.ok){if(500===e.status)return e.json().then(e=>{throw console.log("Error response data:",e),g(e),Error("Server error")});throw Error("Network response was not ok")}return e.json()}).then(e=>{f.ZP.dismiss("adding"),console.log("Data from:",e),f.ZP.success("Component added successfully")}).catch(e=>{v(!0),console.error("Error fetching API data",e),f.ZP.error("Error adding component",{id:"form-error"}),f.ZP.dismiss("adding")})}catch(e){f.ZP.dismiss("adding"),v(!0),f.ZP.error("Error adding component")}}return(0,o.useEffect)(()=>{y()},[]),t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,l.jsx)(k.default,{href:"/webui/add-components",children:(0,l.jsx)("button",{type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})}),(0,l.jsx)("button",{onClick:e=>{e.preventDefault,function(){if(!t||0===t.length)return b("Please add at least one component to the stack");try{let e=t.map(e=>{if(!(null==e?void 0:e.componentType)||!(null==e?void 0:e.component))throw Error("Incomplete component data");let{componentType:n,component:t}=e,l=r[n][t]._path;if(!e||0===Object.keys(e).length)throw Error("Component ".concat(t," does not have any properties"));return{leaf_type:"component",type_id:n,cls:t,module:l,dict:e}}),l={identifier:null==s?void 0:s.identifier,_leaves:[...a,...e]},o=function(e){let{_leaves:n}=e,t={_leaves:{}};function l(e,n){let l=1,o=e;for(;(o in t._leaves);)o="".concat(e,"_").concat(l),l+=1;return"".concat(n,"/").concat(o)}return n.forEach(e=>{let n;let{type_id:o,cls:i,module:s,dict:a}=e;a.componentType&&delete a.componentType,a.component&&delete a.component,n=a.identifier?l(a.identifier,s):l(o,s),t._leaves[n]={_path:"".concat(s),...a},t._base="?".concat(function(e){let n=Object.keys(e);return n[n.length-1]}(t._leaves))}),t}(_()(l));n((0,c.q7)(_()(o))),p(!0)}catch(e){b(e.message)}}()},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Add Template"})]}),(0,l.jsx)("br",{}),(0,l.jsx)(Z.Vq,{open:m,onOpenChange:()=>p(!1),children:(0,l.jsxs)(Z.cZ,{className:"sm:max-w-[768px]",children:[(0,l.jsxs)(Z.fK,{children:[(0,l.jsx)(Z.$N,{children:"Review the component"}),(0,l.jsx)(Z.Be,{children:"This will be added to the database. Please Review the component before confirming."})]}),i?(0,l.jsx)(C.Z,{data:i}):"Preparing component...",(0,l.jsx)(Z.cN,{children:(0,l.jsx)(E.z,{type:"submit",onClick:()=>{N()},children:"Save changes"})})]})}),(0,l.jsx)(Z.Vq,{open:h,onOpenChange:()=>{p(!1),v(!1)},children:(0,l.jsxs)(Z.cZ,{className:"sm:max-w-[768px]",children:[(0,l.jsxs)(Z.fK,{children:[(0,l.jsx)(Z.$N,{children:"Failed Adding Template"}),(0,l.jsx)(Z.Be,{children:"Please review the error message and try again."})]}),(0,l.jsx)("strong",{children:"Error Message"}),x?(0,l.jsx)(C.Z,{data:x,height:100}):"Loading ...",(0,l.jsx)("strong",{children:"Submitted"}),i?(0,l.jsx)(C.Z,{data:i,height:"150px"}):"Preparing component...",(0,l.jsx)(Z.cN,{children:(0,l.jsx)(E.z,{onClick:()=>{N()},children:"Retry now"})})]})})]}):null}var A=t(21125);function I(){var e,n;(0,d.v9)(e=>e.environment.environmentLoadedValues);let t=(0,d.v9)(e=>{var n;return null==e?void 0:null===(n=e.userInfo)||void 0===n?void 0:n.userInfoLoadedValues}),i=(0,d.I0)(),s=(0,d.v9)(e=>e.stack.stackUpdateByIndex),a=(0,d.v9)(e=>e.stack.stackLoadedValues),r=(0,d.v9)(e=>e.stack.stackSpecLoadedValues),[u,m]=(0,o.useState)(1),p=async()=>{try{let e=await fetch("".concat("".concat("http://localhost:8000","/spec/show")),{headers:{"Content-Type":"application/json",Authorization:(0,j.Z)(t),Accept:"application/json",superduper_reverse_proxy:"http://localhost:8000"}}),n=await e.json();console.log("Spec:",null==n?void 0:n.leaves),i(r(null==n?void 0:n.leaves))}catch(e){console.error(e)}};return((0,o.useEffect)(()=>{p()},[s]),s)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"space-y-12",children:(0,l.jsxs)("div",{className:"border-gray-900/10 pb-2",children:[(0,l.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Add Components Form"}),(0,l.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"Fill in the form below to add components. You can add multiple components by clicking the plus button."})]})}),(0,l.jsx)("div",{className:"mt-5 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"}),(0,l.jsx)("br",{}),a&&r&&s&&s.map((e,n)=>(0,l.jsx)(S,{index:n},n)),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"mt-6 flex items-center justify-center gap-x-6",children:(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)("button",{type:"button",onClick:()=>{m(e=>e+1),s.push({componentType:""}),i((0,c.vW)(s))},className:"rounded-full bg-indigo-600 p-2 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:(0,l.jsx)(h.Z,{className:"h-5 w-5","aria-hidden":"true"})})})})}),(0,l.jsx)(P,{}),s&&(null===(e=s[0])||void 0===e?void 0:e.componentType)&&(null===(n=s[0])||void 0===n?void 0:n.component)&&(0,l.jsx)(A.Z,{})]}):null}var q=t(88038),D=t(11340);function F(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.aG,{children:(0,l.jsxs)(D.Jb,{children:[(0,l.jsx)(D.gN,{children:(0,l.jsx)(D.At,{href:"/webui",children:"Home"})}),(0,l.jsx)(D.bg,{}),(0,l.jsx)(D.gN,{children:(0,l.jsx)(D.At,{href:"/webui/show",children:"Components"})}),(0,l.jsx)(D.bg,{}),(0,l.jsx)(D.gN,{children:(0,l.jsx)(D.AG,{children:"Add Components"})})]})}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("div",{className:"space-y-12",children:(0,l.jsxs)("div",{className:"border-gray-900/10 pb-2",children:[(0,l.jsx)("h1",{className:"text-base font-semibold leading-7 text-gray-900",children:"Select Input Method"}),(0,l.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"You can select UI to add components with forms or upload a JSON file to add components."})]})}),(0,l.jsxs)(i.mQ,{defaultValue:"UI",className:"w-full",children:[(0,l.jsxs)(i.dr,{className:"grid w-full grid-cols-2",children:[(0,l.jsx)(i.SP,{value:"UI",children:"UI"}),(0,l.jsx)(i.SP,{value:"JSON",children:"JSON"})]}),(0,l.jsxs)(i.nU,{value:"UI",children:[(0,l.jsx)("br",{}),(0,l.jsx)(I,{})]}),(0,l.jsxs)(i.nU,{value:"JSON",children:[(0,l.jsx)("br",{}),(0,l.jsx)(q.Z,{})]})]})]})}var O=t(7989),Q=(0,t(22282).N)(function(){return(0,l.jsx)(O.Z,{activeNavItem:"/webui/show",children:(0,l.jsx)("main",{className:"py-10",children:(0,l.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"mx-auto max-w-3xl",children:(0,l.jsx)(F,{})})})})})})})},65236:function(e,n,t){"use strict";t.d(n,{SP:function(){return c},dr:function(){return r},mQ:function(){return a},nU:function(){return d}});var l=t(57437),o=t(2265),i=t(62447),s=t(77700);let a=i.fC,r=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,l.jsx)(i.aV,{ref:n,className:(0,s.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...o})});r.displayName=i.aV.displayName;let c=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,l.jsx)(i.xz,{ref:n,className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...o})});c.displayName=i.xz.displayName;let d=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,l.jsx)(i.VY,{ref:n,className:(0,s.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...o})});d.displayName=i.VY.displayName}},function(e){e.O(0,[2408,8310,8726,90,231,8961,9192,4702,2447,8297,4731,5189,7768,5932,8577,8038,2971,7023,1744],function(){return e(e.s=32293)}),_N_E=e.O()}]);