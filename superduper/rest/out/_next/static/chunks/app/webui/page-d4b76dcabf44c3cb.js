(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2945],{5396:function(e,n,s){Promise.resolve().then(s.bind(s,53596))},53596:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return c}});var r,o=s(27573),i=s(88280);s(99174);var a=s(70007),t=(s(7653),s(412),s(39e3),s(74531),s(41664),s(74859),s(87882)),l=s(74859),c=((r=function(){return console.log("\uD83E\uDEE1 API Server is running at: ",l.env.NEXT_PUBLIC_API||"(undefined - please set NEXT_PUBLIC_API in your environment)"),console.log("\uD83E\uDEE1 Reverse proxy is running at: ","(undefined - please set NEXT_PUBLIC_REVERSE_PROXY in your environment)"),console.log("\uD83E\uDEE1 REST API endpoint:","(Not Hardcoded.)"),(0,o.jsx)(i.Z,{children:(0,o.jsx)(a.Z,{activeNavItem:"/webui/",children:(0,o.jsx)("main",{className:"py-0",children:(0,o.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,o.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,o.jsx)(t.Z,{})})})})})})}).displayName||r.name,r)},41664:function(e,n,s){"use strict";s.d(n,{Z:function(){return x}});var r=s(27573),o=s(7653),i=s(1930),a=s(97747),t=s(88146),l=s(36531),c=s(93296),d=s(39e3),u=s(412),g=s(13908),p=s(7109),m=s(67412),h=s(74859);function x(){let e=(0,u.I0)(),[n,s]=(0,o.useState)(""),[x,w]=(0,o.useState)(""),[f,v]=(0,o.useState)("");async function y(e,n){try{let s="".concat(h.env.NEXT_PUBLIC_API,"/secrets?deployment=").concat(n),r=await g.Z.get(s,{headers:{Accept:"application/json",Authorization:(0,p.Z)(e),superduper_reverse_proxy:h.env.NEXT_PUBLIC_API}});console.log("Secrets retrieved successfully:",r.data);let o=(0,m.Z)(r.data);return console.log("Empty Secrets:",o),o}catch(e){return console.error("Error occurred while fetching secrets:",e),[]}}async function N(){try{c.ZP.loading("Logging in...",{id:"login-loading"}),console.log("email",n),console.log("password",x);let s=await fetch("/webui_api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:x})});if(console.log("response",s),401===s.status){v("Invalid email or password"),c.ZP.error("Invalid email or password",{id:"login-error"}),c.ZP.dismiss("login-loading"),e((0,d.v)({token:""}));return}if(200===s.status){let r=await s.json();if(console.log("response.data",r),e((0,d.v)(r)),console.log("Login successful"),"true"===h.env.NEXT_PUBLIC_SNOWFLAKE)try{if((await y(r,n)).length>0)window.location.assign("/webui/deployment?onboarding=true");else try{let e=await g.Z.get("".concat("".concat("","/health")),{headers:{Accept:"application/json",Authorization:(0,p.Z)(r),superduper_reverse_proxy:""}});200===e.status?window.location.assign("/webui/deployment"):window.location.assign("/webui/deployment?onboarding=true")}catch(e){console.error("Health check failed:",e),window.location.assign("/webui/deployment?onboarding=true")}}catch(e){console.error("Empty Secret request failed:",e),window.location.assign("/webui/deployment?onboarding=true")}else window.location.assign("/webui");c.ZP.success("Login successful.",{id:"login-success",duration:3e3,style:{backgroundColor:"#10B981",color:"#fff"}}),c.ZP.dismiss("login-loading")}else{let n=await s.text()||"An error occurred while loading!";v(n),e((0,d.v)({token:""})),c.ZP.error(n,{id:"login-error"}),c.ZP.dismiss("login-loading")}}catch(n){console.error("An error occurred:",n),c.ZP.error("An error occurred. Please try again later.",{id:"login-error"}),c.ZP.dismiss("login-loading"),e((0,d.v)({token:""}))}}return(0,r.jsx)("div",{className:"w-full lg:grid lg:min-h-[600px] lg:grid-cols-1 place-items-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"mx-auto grid w-[350px] gap-6",children:[(0,r.jsx)("div",{className:"grid gap-2 text-center",children:(0,r.jsx)("div",{className:"flex h-auto shrink-0 items-center pb-4",children:(0,r.jsx)("a",{href:"/webui",children:(0,r.jsx)("img",{className:"h-auto w-auto",src:"/webui_asset/superduper-logo.png",alt:"Superduper.io Inc."})})})}),(0,r.jsxs)("div",{className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(a._,{htmlFor:"email",children:"Username or email"}),(0,r.jsx)(i.I,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:n,onChange:e=>s(e.target.value)})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(a._,{htmlFor:"password",children:"Password"}),(0,r.jsx)(t.default,{href:"/webui/support",className:"ml-auto inline-block text-sm underline",children:"Forgot your password?"})]}),(0,r.jsx)(i.I,{id:"password",type:"password",required:!0,value:x,onChange:e=>w(e.target.value)})]}),f&&(0,r.jsx)("p",{className:"text-red-500",children:f}),(0,r.jsx)(l.z,{id:"login-button-homepage",className:"w-full",onClick:N,children:"Log in"})]}),(0,r.jsxs)("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",(0,r.jsx)(t.default,{href:"/webui/support",className:"underline",children:"Contact Enterprise Support"})]})]})})})}}},function(e){e.O(0,[5458,7441,3296,5941,4458,7653,7050,4112,6340,790,8307,9115,3098,7635,3330,218,9401,1737,4564,5619,9276,1293,1528,1744],function(){return e(e.s=5396)}),_N_E=e.O()}]);