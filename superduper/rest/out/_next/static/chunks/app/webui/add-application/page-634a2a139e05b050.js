(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5834],{78186:function(e,l,i){Promise.resolve().then(i.bind(i,7038))},7038:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return e_}});var a=i(27573),n=i(7653),o=i(13908),r=i(63052),s=i(97747),t=i(81695),d=i(22392);i(40020),i(19234),i(83346);var c=i(88146),v=i(93296),u=i(412),m=i(87191),h=i(24776),p=i(36531),x=i(7109),b=i(63612),f=i(74859);function g(e){let{simple:l=!1}=e;(0,u.v9)(e=>e.environment.environmentLoadedValues);let i=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),o=(0,t.useRouter)(),r=(0,u.v9)(e=>e.stack.stackUpdateByIndex),s=(0,u.v9)(e=>e.stack.submittedStack),[d,g]=(0,n.useState)(null),[N,j]=(0,n.useState)(!1),[y,_]=(0,n.useState)(!1),[w,k]=(0,n.useState)(null);function S(){if(!s){v.ZP.error("Error adding application",{id:"form-error"});return}let e=(0,b.Z)();f.env.NEXT_PUBLIC_APPLICATION_URL||setTimeout(()=>{y||o.push("/webui/add-application?id=".concat(e),void 0,{shallow:!0})},1e3),v.ZP.loading("Adding application...",{id:"adding"});try{fetch("".concat("".concat("http://localhost:8000","/db/apply?id=").concat(e)),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:(0,x.Z)(i),superduper_reverse_proxy:"http://localhost:8000"},body:JSON.stringify(s,null,"	")}).then(e=>{if(!e.ok){if(500===e.status)return e.json().then(e=>{throw console.log("Error response data:",e),k(e),Error("Server error")});throw Error("Network response was not ok")}return e.json()}).then(l=>{v.ZP.dismiss("adding"),console.log("Data from:",l),v.ZP.success("Application added successfully"),f.env.NEXT_PUBLIC_APPLICATION_URL?o.push("/webui/application"):setTimeout(()=>{y||o.push("/webui/add-application?id=".concat(e),void 0,{shallow:!0})},1e3)}).catch(e=>{_(!0),console.error("Error fetching API data",e),v.ZP.error("Error adding application",{id:"form-error"}),v.ZP.dismiss("adding")})}catch(e){v.ZP.dismiss("adding"),_(!0),v.ZP.error("Error adding application",{id:"form-error"})}}return r?l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:e=>{e.preventDefault,j(!0)},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Add Application"}),(0,a.jsx)(h.Vq,{open:N,onOpenChange:()=>j(!1),children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Review the application"}),(0,a.jsx)(h.Be,{children:"This will be added to the database. Please review the application before confirming."})]}),s?(0,a.jsx)(m.Z,{data:s}):"Preparing application...",(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{type:"submit",onClick:()=>{S()},children:"Save changes"})})]})}),(0,a.jsx)(h.Vq,{open:y,onOpenChange:e=>{e||(j(!1),_(!1))},children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Failed Adding Application"}),(0,a.jsx)(h.Be,{children:"Please review the error message and try again."})]}),(0,a.jsx)("strong",{children:"Error Message"}),w?(0,a.jsx)(m.Z,{data:w,height:100}):"Loading ...",(0,a.jsx)("strong",{children:"Submitted"}),s?(0,a.jsx)(m.Z,{data:s,height:"150px"}):"Preparing application...",(0,a.jsxs)(h.cN,{children:[(0,a.jsx)(p.z,{onClick:()=>{S()},children:"Retry now"}),(0,a.jsx)(p.z,{variant:"secondary",onClick:()=>{j(!1),_(!1)},children:"Close"})]})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,a.jsx)(c.default,{href:"/webui/add-application",children:(0,a.jsx)("button",{type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault,j(!0)},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Add Application"})]}),(0,a.jsx)("br",{}),(0,a.jsx)(h.Vq,{open:N,onOpenChange:()=>j(!1),children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Review the application"}),(0,a.jsx)(h.Be,{children:"This will be added to the database. Please review the application before confirming."})]}),s?(0,a.jsx)(m.Z,{data:s}):"Preparing application...",(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{type:"submit",onClick:()=>{S()},children:"Save changes"})})]})}),(0,a.jsx)(h.Vq,{open:y,onOpenChange:e=>{e||(j(!1),_(!1))},children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Failed Adding Application"}),(0,a.jsx)(h.Be,{children:"Please review the error message and try again."})]}),(0,a.jsx)("strong",{children:"Error Message"}),w?(0,a.jsx)(m.Z,{data:w,height:100}):"Loading ...",(0,a.jsx)("strong",{children:"Submitted"}),s?(0,a.jsx)(m.Z,{data:s,height:"150px"}):"Preparing application...",(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{onClick:()=>{S()},children:"Retry now"})})]})})]}):null}var N=i(24017),j=i(1070),y=i(91894);function _(e,l){if(!e||"object"!=typeof e)return{};let i={};for(let[s,t]of Object.entries(e))if("string"==typeof t){if(l&&t in l){var a,n,o,r;(null==l?void 0:null===(a=l[t])||void 0===a?void 0:a.type)==="complex"?i[s]={type:t,sequence:(null==l?void 0:null===(n=l[t])||void 0===n?void 0:n.sequence)||!1,optional:(null==l?void 0:null===(o=l[t])||void 0===o?void 0:o.optional)||!1,default:(null==l?void 0:null===(r=l[t])||void 0===r?void 0:r.default)||null}:i[s]=l[t]}else i[s]={type:t}}else i[s]=t;return console.log("transformWithTrueType Result:",i),i}function w(e){return e&&"object"==typeof e?Object.keys(e).map(l=>({_variableName:l,...e[l]})):[]}let k=e=>{if(!e)return e;let l=w(_(null==e?void 0:e.schema,null==e?void 0:e.types)).reduce((e,l)=>((null==l?void 0:l.default)&&(e[null==l?void 0:l._variableName]=l.default),e),{});return{...e,_variables:{...null==e?void 0:e._variables,...l}}};function S(e){let{simple:l=!1}=e,i=(0,u.v9)(e=>e.stack.submittedStack),c=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.stack)||void 0===l?void 0:l.stackSelectedTemplate});(0,u.v9)(e=>e.environment.environmentLoadedValues);let m=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),h=(0,u.I0)(),p=(0,t.useRouter)(),[b,f]=(0,n.useState)("{}"),[_,w]=(0,n.useState)(""),S=async e=>{let l=e.target.files[0];if(l){if("application/json"===l.type){let e=v.ZP.loading("Loading JSON file..."),i=new FileReader;i.onload=l=>{try{let i=JSON.parse(l.target.result);w(JSON.stringify(i,null,2)),f(JSON.stringify(i,null,2)),h((0,N.q7)(i)),v.ZP.success("JSON file loaded successfully!",{id:e})}catch(l){w("Invalid JSON file."),f("Invalid JSON file."),v.ZP.error("Failed to load JSON file.",{id:e})}},i.readAsText(l)}else if("application/zip"===l.type||l.name.endsWith(".zip")){let e=v.ZP.loading("Uploading ZIP file..."),n=new FormData;n.append("raw",l,l.name);try{var i,a;let l=await o.Z.put("".concat("".concat("http://localhost:8000","/db/upload")),n,{headers:{"Content-Type":"multipart/form-data",accept:"application/json",Authorization:(0,x.Z)(m),superduper_reverse_proxy:"http://localhost:8000"}}),r=JSON.parse(JSON.stringify(null==l?void 0:null===(i=l.data)||void 0===i?void 0:i.component));h((0,j.Xs)([...null==l?void 0:null===(a=l.data)||void 0===a?void 0:a.artifacts])),w(JSON.stringify(r,null,2)),f(JSON.stringify(r,null,2)),h((0,N.q7)(r)),v.ZP.success("ZIP file uploaded successfully!",{id:e})}catch(l){v.ZP.error((null==l?void 0:l.message)||"Failed to upload ZIP file.",{id:e,duration:1e4}),console.log("Error uploading ZIP file:",l)}}else w("Please upload a valid JSON or ZIP file."),v.ZP.error("Invalid file type.")}else w("No file selected."),v.ZP.error("No file selected.")},A=(0,n.useRef)(null),C=()=>{p.push("/webui/add-application",void 0,{shallow:!0}),h((0,N.v$)("")),w(""),f(""),h((0,N.q7)(""))};(0,n.useEffect)(()=>{let e=()=>{console.log("Error fetching Services API data. Please check your connection.")};(async()=>{try{let e=await o.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=template")),{headers:{Accept:"application/json",Authorization:(0,x.Z)(m),superduper_reverse_proxy:"http://localhost:8000"}});P([...e.data])}catch(l){e()}})()},[]);let[Z,P]=(0,n.useState)(["No template added yet"]);return(0,a.jsxs)(a.Fragment,{children:[!l&&(0,a.jsxs)("div",{className:"max-w-3xl",children:[(0,a.jsxs)(s._,{htmlFor:"terms",children:["Select a template"," ",c&&(0,a.jsx)("span",{onClick:C,className:"bg-transparent border-none text-indigo-500 cursor-pointer p-0",children:"(Remove Selection)"})]}),(0,a.jsxs)(r.Ph,{value:c,onValueChange:e=>{l||C(),h((0,N.v$)(e));let i=()=>{v.ZP.error("Error fetching template API data. Please check your connection. ");let e={error:"Error fetching template API data. No template information found!"};w(JSON.stringify(e,null,2)),f(JSON.stringify(e,null,2)),h((0,N.q7)(e)),console.log("Error fetching template API data. Please check your connection. So returning to fallback data!")};(async()=>{try{let l=await o.Z.get("".concat("".concat("http://localhost:8000","/db/show_template?identifier=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,x.Z)(m),superduper_reverse_proxy:"http://localhost:8000"}});console.log("/webui/restapi/db/show_template?identifier=".concat(e),l.data),h((0,N.q7)(k(l.data)))}catch(e){i()}})()},children:[(0,a.jsx)(r.i4,{className:"w-3/6 mt-2 mb-2",children:(0,a.jsx)(r.ki,{placeholder:"Select a template to populate the JSON field"})}),(0,a.jsx)(r.Bw,{children:(0,a.jsxs)(r.DI,{children:[(0,a.jsx)(r.n5,{children:"Select a template for populating"}),Z&&Z.map((e,l)=>(0,a.jsx)(r.Ql,{value:e,children:e},l))]})})]})]}),!l&&(0,a.jsx)("br",{}),!l&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center my-4",children:[(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,a.jsx)("span",{className:"mx-4 text-gray-500 dark:text-gray-400",children:"OR"}),(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,a.jsxs)("div",{className:"border-gray-900/10 pb-2",children:[(0,a.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Upload your template json file"}),(0,a.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"You can type or upload a JSON file here to automatically fill in the JSON field."})]})]}),(0,a.jsx)("div",{className:"mt-2 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:(0,a.jsxs)("div",{className:"sm:col-span-3",children:[(0,a.jsx)(d.default,{ref:A,className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Add your JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{f(e);try{let l=JSON.parse(e);h((0,N.q7)(l))}catch(e){}},fontSize:13,showPrintMargin:!0,showGutter:!1,highlightActiveLine:!0,value:i?JSON.stringify(i,null,2):b,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:"500px",width:"200%"}),(0,a.jsx)("input",{type:"file",accept:".json,.zip",className:"block mt-2 w-full text-sm text-gray-700   file:mr-4 file:py-2 file:px-4   file:rounded-full file:border-0   file:text-sm file:font-semibold   file:bg-indigo-50 file:text-indigo-700   hover:file:bg-indigo-100",onChange:S}),(0,a.jsx)("p",{className:"text-xs pl-2 text-muted-foreground",children:"*You can upload a json file to populate the json field. Or you can upload a zip file."})]})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(y.Z,{}),!l&&(0,a.jsx)(g,{})]})}var A=i(1930),C=i(4216),Z=i(46346),P=i(18580);let F=e=>{let{textAreaRef:l,triggerAutoSize:i,maxHeight:a=Number.MAX_SAFE_INTEGER,minHeight:o=0}=e,[r,s]=n.useState(!0);n.useEffect(()=>{let e=l.current;if(e){r&&(e.style.minHeight="".concat(o+2,"px"),a>o&&(e.style.maxHeight="".concat(a,"px")),s(!1)),e.style.height="".concat(o+2,"px");let l=e.scrollHeight;l>a?e.style.height="".concat(a,"px"):e.style.height="".concat(l+2,"px")}},[l.current,i])},E=n.forwardRef((e,l)=>{let{maxHeight:i=Number.MAX_SAFE_INTEGER,minHeight:o=52,className:r,onChange:s,value:t,...d}=e,c=n.useRef(null),[v,u]=n.useState("");return F({textAreaRef:c,triggerAutoSize:v,maxHeight:i,minHeight:o}),(0,n.useImperativeHandle)(l,()=>({textArea:c.current,focus:()=>{var e;return null==c?void 0:null===(e=c.current)||void 0===e?void 0:e.focus()},maxHeight:i,minHeight:o})),n.useEffect(()=>{u(t)},[null==d?void 0:d.defaultValue,t]),(0,a.jsx)("textarea",{...d,value:t,ref:c,className:(0,P.cn)("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),onChange:e=>{u(e.target.value),null==s||s(e)}})});E.displayName="AutosizeTextarea";var I=i(74859);let L=async(e,l)=>{try{let i=await o.Z.post("".concat("".concat("http://localhost:8000").concat(e)),{},{headers:{Accept:"application/json",Authorization:l,superduper_reverse_proxy:I.env.NEXT_PUBLIC_API}});if(200===i.status&&i.data){let e=i.data;if(Array.isArray(e))return e;console.error("Response data is not an array")}else console.error("Invalid response status or missing data from API")}catch(e){console.error("Error in getTableArray:",e.message)}return[]};var O=e=>{let{choices:l,authHeaderToken:i}=e,[o,r]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{try{let e=await L(l,i);r(e||[])}catch(e){console.error("Error fetching options:",e.message),r([])}})()},[l,i]),(0,a.jsx)(a.Fragment,{children:o.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})},R=i(32041);let T=n.forwardRef((e,l)=>{let{className:i,orientation:n="horizontal",decorative:o=!0,...r}=e;return(0,a.jsx)(R.f,{ref:l,decorative:o,orientation:n,className:(0,P.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",i),...r})});T.displayName=R.f.displayName;var z=i(80923),q=i(34209),B=i(2187),J=i(23611);i(98295),i(78187),i(39166);var D=i(30897),V=i(46065),U=i(72513),G=i(12900);function X(e,l){let i=l.replace("$","").split("."),a=e;for(let e of i)if(Array.isArray(a))a=a.map(l=>l[e]);else{if(!a||"object"!=typeof a)return[];a=a[e]}return Array.isArray(a)?a:[]}function M(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}function W(e,l){return"code"===e?"code":"text-area"===e?"text-area":"str"===e||"string"===e?l?"select":"str":"multi-str"===e?"multi-str":"int"===e?l?"select":"int":"json"===e||"query"==e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e?"multi-select":"multi-checkbox"===e?"multi-checkbox":"complex"===e?"complex":"not_found_type"}function H(e){return e.some(e=>!0===e.optional)}var $=function(e){var l,i,o;let{complexField:t}=e,c=(0,u.I0)(),m=(0,u.v9)(e=>e.stack.submittedStack),h=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),[p,b]=(0,n.useState)(0),[f,g]=(0,n.useState)(!0),j=(e,l)=>{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:e.target.value}}})),b(e=>e+1)},y=(e,l)=>{var i,a,n;let{target:o}=e,r=null==o?void 0:o.value;if(!r)return;let s=null==t?void 0:t._variableName,d=(null==m?void 0:null===(a=m._variables)||void 0===a?void 0:null===(i=a[s])||void 0===i?void 0:i[l])||[];if(!Array.isArray(d)){console.error("Existing field value is not an array:",d);return}c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[s]:{...null==m?void 0:null===(n=m._variables)||void 0===n?void 0:n[s],[l]:[...d,r]}}})),b(e=>e+1)},k=(e,l)=>{var i,a,n,o,r;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:Array.isArray(null==m?void 0:null===(n=m._variables)||void 0===n?void 0:null===(a=n[null==t?void 0:t._variableName])||void 0===a?void 0:a[l])?null==m?void 0:null===(r=m._variables)||void 0===r?void 0:null===(o=r[null==t?void 0:t._variableName])||void 0===o?void 0:o[l].filter((l,i)=>i!==e):[]}}})),b(e=>e+1)},S=(e,l,i)=>{var a,n,o;let r=null==t?void 0:t._variableName,s=(null==m?void 0:null===(n=m._variables)||void 0===n?void 0:null===(a=n[null==t?void 0:t._variableName])||void 0===a?void 0:a[null==i?void 0:i._variableName])||[];if(!Array.isArray(s)){console.error('Expected an array for field "'.concat(null==i?void 0:i._variableName,'", but got:'),s);return}let d=l?[...s,e]:s.filter(l=>l!==e);c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[r]:{...null==m?void 0:null===(o=m._variables)||void 0===o?void 0:o[r],[null==i?void 0:i._variableName]:d}}})),b(e=>e+1)},P=(e,l)=>{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:!e}}})),b(e=>e+1)},F=(e,l)=>{let i=e.target.value;try{let e=parseInt(i,10);if(isNaN(e))v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"});else{var a;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(a=m._variables)||void 0===a?void 0:a[null==t?void 0:t._variableName],[l]:e}}})),b(e=>e+1)}}catch(e){console.error("Error:",e),v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"})}},I=(e,l)=>{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:e}}})),b(e=>e+1)},O=e=>()=>{var l,i,a;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(l=m._variables)||void 0===l?void 0:l[null==t?void 0:t._variableName],[e]:(parseInt(null==m?void 0:null===(a=m._variables)||void 0===a?void 0:null===(i=a[null==t?void 0:t._variableName])||void 0===i?void 0:i[e])||0)+1}}})),b(e=>e+1)},R=e=>()=>{var l;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(l=m._variables)||void 0===l?void 0:l[null==t?void 0:t._variableName],[e]:(parseInt(null==m?void 0:m._variables[null==t?void 0:t._variableName][e])||0)-1}}})),b(e=>e+1)},V=e=>null!=e&&!!e.optional&&!!f,U=(e,l)=>{var i,a;try{let a;""===e?a={}:"string"==typeof e?(a=JSON.parse(e),JSON.stringify(a,null,2)):a={},console.log("Parsed JSON:",a),c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:a}}}))}catch(i){console.error("Error parsing JSON:",i),c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(a=m._variables)||void 0===a?void 0:a[null==t?void 0:t._variableName],[l]:e}}}))}},G=(e,l)=>{try{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:e}}}))}catch(i){console.error("Error parsing JSON:",i),c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[l]:e}}))}};return m?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mt-4 mb-2 pt-4 rounded-2xl border-4 border-dashed border-gray-900/25 px-6 py-10",children:[(0,a.jsx)("div",{className:"space-y-12",children:(0,a.jsx)("div",{className:"pb-2",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsx)("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:(0,a.jsxs)(s._,{className:"text-xl",htmlFor:null==t?void 0:t._variableName,children:[null==t?void 0:t._variableName," ",(null==t?void 0:t.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]})})})})}),(0,a.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(null==m?void 0:m.schema)&&w(_(null==m?void 0:null===(l=m.types)||void 0===l?void 0:l[null==t?void 0:t.type],null==m?void 0:m.types)).map(e=>{var l,i,o,c,v,u,p,b,f,g,N,_,w,H,$,Y,Q,K,ee,el,ei,ea,en,eo,er,es,et,ed,ec,ev,eu,em,eh,ep,ex;return(0,a.jsxs)(n.Fragment,{children:[console.log("field",e),!V(e)&&"str"===W(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(A.I,{id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(i=m._variables)||void 0===i?void 0:null===(l=i[null==t?void 0:t._variableName])||void 0===l?void 0:l[null==e?void 0:e._variableName])||"",onChange:l=>j(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),autocomplete:"off"})]}),!V(e)&&"text-area"===W(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(E,{id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(c=m._variables)||void 0===c?void 0:null===(o=c[null==t?void 0:t._variableName])||void 0===o?void 0:o[null==e?void 0:e._variableName])||"",onChange:l=>j(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),className:"resize-none",rows:6})]}),!V(e)&&"boolean"===W(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)(D.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)(D.r,{checked:null==m?void 0:null===(u=m._variables)||void 0===u?void 0:null===(v=u[null==t?void 0:t._variableName])||void 0===v?void 0:v[null==e?void 0:e._variableName],onChange:()=>{var l,i;return P(null==m?void 0:null===(i=m._variables)||void 0===i?void 0:null===(l=i[null==t?void 0:t._variableName])||void 0===l?void 0:l[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},className:M((null==m?void 0:null===(b=m._variables)||void 0===b?void 0:null===(p=b[null==t?void 0:t._variableName])||void 0===p?void 0:p[null==e?void 0:e._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:M((null==m?void 0:null===(g=m._variables)||void 0===g?void 0:null===(f=g[null==t?void 0:t._variableName])||void 0===f?void 0:f[null==e?void 0:e._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)(D.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==e?void 0:e._variableName})," ",(null==e?void 0:e.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500",children:"*"}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]})]})})}),!V(e)&&"multi-select"===W(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==m?void 0:null===(_=m._variables)||void 0===_?void 0:null===(N=_[null==t?void 0:t._variableName])||void 0===N?void 0:N[null==e?void 0:e._variableName])&&(null==m?void 0:null===($=m._variables)||void 0===$?void 0:null===(H=$[null==t?void 0:t._variableName])||void 0===H?void 0:null===(w=H[null==e?void 0:e._variableName])||void 0===w?void 0:w.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==m?void 0:null===(Q=m._variables)||void 0===Q?void 0:null===(Y=Q[null==t?void 0:t._variableName])||void 0===Y?void 0:Y[null==e?void 0:e._variableName])&&(null==m?void 0:null===(el=m._variables)||void 0===el?void 0:null===(ee=el[null==t?void 0:t._variableName])||void 0===ee?void 0:null===(K=ee[null==e?void 0:e._variableName])||void 0===K?void 0:K.map((l,i)=>(0,a.jsx)(n.Fragment,{children:(0,a.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(q.Z,{onClick:()=>k(i,null==e?void 0:e._variableName),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]})},l)))]})]}),(0,a.jsxs)("select",{id:null==e?void 0:e.name,name:null==e?void 0:e.name,value:"",onChange:l=>y(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==e?void 0:e.choices)?e.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?X(null==m?void 0:m._variables,e.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("/")?L(e.choices,(0,x.Z)(h)).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==m?void 0:null===(ea=m._variables)||void 0===ea?void 0:null===(ei=ea[null==t?void 0:t._variableName])||void 0===ei?void 0:ei[null==e?void 0:e._variableName]))]}),!V(e)&&"multi-checkbox"===W(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(Z.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:Array.isArray(null==e?void 0:e.choices)?e.choices.map(l=>{var i,n;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.X,{id:l,checked:Array.isArray(null==m?void 0:null===(n=m._variables)||void 0===n?void 0:null===(i=n[null==t?void 0:t._variableName])||void 0===i?void 0:i[null==e?void 0:e._variableName])&&m._variables[t._variableName][e._variableName].includes(l),onCheckedChange:i=>S(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?X(null==m?void 0:m._variables,e.choices).map(l=>{var i,n;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.X,{id:l,checked:Array.isArray(null==m?void 0:null===(n=m._variables)||void 0===n?void 0:null===(i=n[null==t?void 0:t._variableName])||void 0===i?void 0:i[null==e?void 0:e._variableName])&&m._variables[t._variableName][e._variableName].includes(l),onCheckedChange:i=>S(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("/")?L(e.choices,(0,x.Z)(h)).map(l=>{var i,n;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.X,{id:l,checked:Array.isArray(null==m?void 0:null===(n=m._variables)||void 0===n?void 0:null===(i=n[null==t?void 0:t._variableName])||void 0===i?void 0:i[null==e?void 0:e._variableName])&&m._variables[t._variableName][e._variableName].includes(l),onCheckedChange:i=>S(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):null})})})]}),!V(e)&&"select"===W(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(r.Ph,{value:(null==m?void 0:null===(eo=m._variables)||void 0===eo?void 0:null===(en=eo[null==t?void 0:t._variableName])||void 0===en?void 0:en[null==e?void 0:e._variableName])||"",onValueChange:l=>I(l,null==e?void 0:e._variableName),children:[(0,a.jsx)(r.i4,{"aria-label":null==e?void 0:e._variableName,className:"w-[280px]",children:(0,a.jsx)(r.ki,{placeholder:"Select an option"})}),(0,a.jsx)(r.Bw,{children:(0,a.jsxs)(r.DI,{children:[(0,a.jsxs)(r.n5,{children:["Select ",null==e?void 0:e._variableName]}),null===(er=e.choices)||void 0===er?void 0:er.map(e=>(0,a.jsx)(r.Ql,{value:e,children:e},e))]})})]})]}),!V(e)&&"int"===W(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-left",children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{type:"button",onClick:R(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mr-4",children:(0,a.jsx)(J.Z,{className:"h-5 w-5","aria-hidden":"true"})}),(0,a.jsx)("input",{type:"int",className:"w-16 text-center block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(et=m._variables)||void 0===et?void 0:null===(es=et[null==t?void 0:t._variableName])||void 0===es?void 0:es[null==e?void 0:e._variableName])||0,onChange:l=>F(l,null==e?void 0:e._variableName)}),(0,a.jsx)("button",{type:"button",onClick:O(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(B.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})]}),!V(e)&&"json"===W(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{placeholder:"Here you can pass a dictionary as value. e.g. {key: value}",mode:"json",theme:"twilight",name:null==e?void 0:e._variableName,onChange:l=>U(l,null==e?void 0:e._variableName),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==m?void 0:null===(ec=m._variables)||void 0===ec?void 0:null===(ed=ec[null==t?void 0:t._variableName])||void 0===ed?void 0:ed[null==e?void 0:e._variableName])?JSON.stringify(null==m?void 0:null===(eu=m._variables)||void 0===eu?void 0:null===(ev=eu[null==t?void 0:t._variableName])||void 0===ev?void 0:ev[null==e?void 0:e._variableName],null,"	"):(null==m?void 0:null===(eh=m._variables)||void 0===eh?void 0:null===(em=eh[null==t?void 0:t._variableName])||void 0===em?void 0:em[null==e?void 0:e._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]}),!V(e)&&"code"===W(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{placeholder:"Write Python here...",mode:"python",theme:"tomorrow",name:null==e?void 0:e._variableName,onChange:l=>G(l,null==e?void 0:e._variableName),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==m?void 0:null===(ex=m._variables)||void 0===ex?void 0:null===(ep=ex[null==t?void 0:t._variableName])||void 0===ep?void 0:ep[null==e?void 0:e._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]})]},null==e?void 0:e._variableName)}),H(w(_(null==m?void 0:null===(i=m.types)||void 0===i?void 0:i[null==t?void 0:t.type],null==m?void 0:m.types)))&&f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{g(!f)},children:["Show optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" →"})]})})]}),H(w(_(null==m?void 0:null===(o=m.types)||void 0===o?void 0:o[null==t?void 0:t.type],null==m?void 0:m.types)))&&!f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{g(!f)},children:["Hide optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" ←"})]})})]})]})]})}):null};let Y=(0,i(64070).default)(async()=>{let e=await Promise.resolve().then(i.bind(i,22392));return await Promise.resolve().then(i.t.bind(i,83346,23)),await Promise.resolve().then(i.t.bind(i,78187,23)),await Promise.resolve().then(i.t.bind(i,19234,23)),e},{loadableGenerated:{webpack:()=>[19234]},ssr:!1});function Q(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}function K(e,l){return"code"===e?"code":"text-area"===e?"text-area":"str"===e||"string"===e?l?"select":"str":"int"===e?l?"select":"int":"json"===e||"query"===e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e||"multiselect"===e?"multi-select":"multi-checkbox"===e?"multi-checkbox":"multi-str"===e?"multi-str":"complex"===e?"complex":"not_found"}function ee(e){var l,i,o,d,c;let{complexFields:v}=e,m=(0,u.I0)(),h=(0,u.v9)(e=>e.stack.submittedStack),b=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),f=(0,t.useSearchParams)();(0,t.useRouter)();let g=null==v?void 0:null===(l=v[0])||void 0===l?void 0:l._variableName,j=(null===(i=f.get(g))||void 0===i?void 0:i.split(","))||[null==v?void 0:null===(o=v[0])||void 0===o?void 0:o._variableName],[y,k]=(0,n.useState)(()=>null==j?void 0:j.map(e=>(null==v?void 0:v.find(l=>(null==l?void 0:l._variableName)===e))||(null==v?void 0:v[0]))),[S,P]=(0,n.useState)(null===(d=Array(null==v?void 0:v.length))||void 0===d?void 0:d.fill(!0)),F=(e,l)=>{var i,a,n;let o=null==y?void 0:null===(i=y[e])||void 0===i?void 0:i._variableName,r=null===(n=(Array.isArray(null==h?void 0:null===(a=h._variables)||void 0===a?void 0:a[o])?h._variables[o]:[])[e])||void 0===n?void 0:n[l];return void 0!==r?r:[]},I=(e,l,i)=>{var a,n;let o=null==y?void 0:null===(a=y[e])||void 0===a?void 0:a._variableName,r=Array.isArray(null==h?void 0:null===(n=h._variables)||void 0===n?void 0:n[o])?h._variables[o]:[],s=[...r];s[e]={...(null==r?void 0:r[e])||{},[l]:i};let t={...null==h?void 0:h._variables,[o]:s},d={...h,_variables:t};m((0,N.q7)(d))},O=(e,l,i)=>{let a=F(i,l);a.push(e.target.value),I(i,l,a)},R=(e,l,i)=>{let a=F(i,l).filter((l,i)=>i!==e);I(i,l,a)},V=(e,l,i,a)=>{var n,o,r,s;let t=null==y?void 0:null===(n=y[a])||void 0===n?void 0:n._variableName,d=(null==h?void 0:null===(r=h._variables)||void 0===r?void 0:null===(o=r[t])||void 0===o?void 0:o[null==i?void 0:i._variableName])||[];if(!Array.isArray(d)){console.error('Expected an array for field "'.concat(null==i?void 0:i._variableName,'", but got:'),d);return}let c=l?[...d,e]:d.filter(l=>l!==e);m((0,N.q7)({...h,_variables:{...null==h?void 0:h._variables,[t]:{...null==h?void 0:null===(s=h._variables)||void 0===s?void 0:s[t],[null==i?void 0:i._variableName]:c}}}))},U=(e,l,i)=>{I(e,l,!i)},G=(e,l,i)=>{I(e,l,i)},M=(e,l)=>{var i,a,n,o;let r=parseInt(null==h?void 0:null===(o=h._variables)||void 0===o?void 0:null===(a=o[null==y?void 0:null===(n=y[e])||void 0===n?void 0:n._variableName])||void 0===a?void 0:null===(i=a[e])||void 0===i?void 0:i[l])||0;I(e,l,r+1)},W=(e,l)=>{var i,a,n,o;let r=parseInt(null==h?void 0:null===(o=h._variables)||void 0===o?void 0:null===(a=o[null==y?void 0:null===(n=y[e])||void 0===n?void 0:n._variableName])||void 0===a?void 0:null===(i=a[e])||void 0===i?void 0:i[l])||0;I(e,l,r-1)},H=(e,l,i)=>{try{let a=""===i?{}:JSON.parse(i);I(e,l,a)}catch(a){console.error("Error parsing JSON:",a),I(e,l,i)}},$=(e,l,i)=>{I(e,l,i)},ee=e=>{P(l=>{let i=[...l];return i[e]=!i[e],i})},el=e=>{k(l=>l.filter((l,i)=>i!==e));let l={...null==h?void 0:h._variables};Object.keys(l).forEach(i=>{if(Array.isArray(l[i])){var a;l[i]=null==l?void 0:null===(a=l[i])||void 0===a?void 0:a.filter((l,i)=>i!==e)}});let i={...h,_variables:l};m((0,N.q7)(i));let a=j.filter((l,i)=>i!==e),n=new URL(window.location),o=new URLSearchParams(n.search);o.set(g,a.join(",")),window.history.pushState(null,"","".concat(n.pathname,"?").concat(o.toString()))};return h?(0,a.jsxs)(a.Fragment,{children:[y.map((e,l)=>{var i,o;return(0,a.jsxs)("div",{className:"mt-4 mb-2 pt-4 rounded-2xl border-4 border-dashed border-gray-900/25 px-6 py-10",children:[(0,a.jsx)("div",{className:"space-y-12",children:(0,a.jsx)("div",{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:(0,a.jsxs)(s._,{className:"text-xl",htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(null==y?void 0:y.length)>1&&(0,a.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,a.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 outline ring-2 ring-indigo-500",onClick:()=>el(l),children:[(0,a.jsx)("span",{className:"sr-only",children:"Close"}),(0,a.jsx)(q.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]})})}),(0,a.jsx)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:w(_(null==h?void 0:null===(i=h.types)||void 0===i?void 0:i[null==e?void 0:e.type],null==h?void 0:h.types)).map(i=>{var o,t,d,c,v,u,m,f,g,N,j,_,w,k,P,F,ee,el,ei,ea,en,eo,er,es,et,ed,ec,ev,eu,em,eh,ep,ex,eb,ef,eg,eN,ej,ey,e_,ew,ek,eS,eA,eC,eZ,eP,eF,eE,eI,eL,eO,eR,eT,ez,eq,eB,eJ,eD,eV,eU,eG,eX,eM;return(0,a.jsx)(n.Fragment,{children:(!i.optional||S[l])&&(0,a.jsxs)(a.Fragment,{children:["str"===K(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(A.I,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(c=h._variables)||void 0===c?void 0:null===(t=c[null==y?void 0:null===(d=y[l])||void 0===d?void 0:d._variableName])||void 0===t?void 0:null===(o=t[l])||void 0===o?void 0:o[null==i?void 0:i._variableName])||"",onChange:e=>I(l,null==i?void 0:i._variableName,e.target.value),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i._variableName," value here")})]}),"text-area"===K(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(E,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(f=h._variables)||void 0===f?void 0:null===(u=f[null==y?void 0:null===(m=y[l])||void 0===m?void 0:m._variableName])||void 0===u?void 0:null===(v=u[l])||void 0===v?void 0:v[null==i?void 0:i._variableName])||"",onChange:e=>I(l,null==i?void 0:i._variableName,e.target.value),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i._variableName," value here"),className:"resize-none",rows:6})]}),"multi-select"===K(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==i?void 0:i._variableName,children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==h?void 0:null===(_=h._variables)||void 0===_?void 0:null===(N=_[null==y?void 0:null===(j=y[l])||void 0===j?void 0:j._variableName])||void 0===N?void 0:null===(g=N[l])||void 0===g?void 0:g[null==i?void 0:i._variableName])&&(null==h?void 0:null===(ee=h._variables)||void 0===ee?void 0:null===(P=ee[null==y?void 0:null===(F=y[l])||void 0===F?void 0:F._variableName])||void 0===P?void 0:null===(k=P[l])||void 0===k?void 0:null===(w=k[null==i?void 0:i._variableName])||void 0===w?void 0:w.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==h?void 0:null===(en=h._variables)||void 0===en?void 0:null===(ei=en[null==y?void 0:null===(ea=y[l])||void 0===ea?void 0:ea._variableName])||void 0===ei?void 0:null===(el=ei[l])||void 0===el?void 0:el[null==i?void 0:i._variableName])&&(null==h?void 0:null===(et=h._variables)||void 0===et?void 0:null===(er=et[null==y?void 0:null===(es=y[l])||void 0===es?void 0:es._variableName])||void 0===er?void 0:null===(eo=er[l])||void 0===eo?void 0:eo[null==i?void 0:i._variableName].map((e,o)=>(0,a.jsx)(n.Fragment,{children:(0,a.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[e,(0,a.jsx)(q.Z,{onClick:()=>R(o,null==i?void 0:i._variableName,l),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]})},o)))]})]}),(0,a.jsxs)("select",{id:null==i?void 0:i.name,name:null==i?void 0:i.name,value:"",onChange:e=>O(e,null==i?void 0:i._variableName,l),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==i?void 0:i.choices)?i.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==i?void 0:i.choices)&&i.choices.startsWith("$")?X(null==h?void 0:h._variables,i.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==i?void 0:i.choices)&&i.choices.startsWith("/")?L(i.choices,(0,x.Z)(b)).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==h?void 0:null===(ec=h._variables)||void 0===ec?void 0:null===(ed=ec[null==e?void 0:e._variableName])||void 0===ed?void 0:ed[null==i?void 0:i._variableName]))]}),"multi-checkbox"===K(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==i?void 0:i._variableName,children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(Z.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:(null==i?void 0:i.choices)&&(null==i?void 0:i.choices.map(n=>{var o,r,s;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.X,{id:n,checked:null==h?void 0:null===(s=h._variables)||void 0===s?void 0:null===(r=s[null==e?void 0:e._variableName])||void 0===r?void 0:null===(o=r[null==i?void 0:i._variableName])||void 0===o?void 0:o.includes(n),onCheckedChange:e=>V(n,e,i,l)}),(0,a.jsx)("label",{htmlFor:n,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:n})]},n),(0,a.jsx)(T,{className:"my-16"})]})}))})})})]}),"boolean"===K(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)(D.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)(D.r,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),checked:null==h?void 0:null===(eh=h._variables)||void 0===eh?void 0:null===(eu=eh[null==y?void 0:null===(em=y[l])||void 0===em?void 0:em._variableName])||void 0===eu?void 0:null===(ev=eu[l])||void 0===ev?void 0:ev[null==i?void 0:i._variableName],onChange:e=>{var a,n,o,r;return U(l,null==i?void 0:i._variableName,null==h?void 0:null===(r=h._variables)||void 0===r?void 0:null===(n=r[null==y?void 0:null===(o=y[l])||void 0===o?void 0:o._variableName])||void 0===n?void 0:null===(a=n[l])||void 0===a?void 0:a[null==i?void 0:i._variableName])},className:Q((null==h?void 0:null===(ef=h._variables)||void 0===ef?void 0:null===(ex=ef[null==y?void 0:null===(eb=y[l])||void 0===eb?void 0:eb._variableName])||void 0===ex?void 0:null===(ep=ex[l])||void 0===ep?void 0:ep[null==i?void 0:i._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:Q((null==h?void 0:null===(ey=h._variables)||void 0===ey?void 0:null===(eN=ey[null==y?void 0:null===(ej=y[l])||void 0===ej?void 0:ej._variableName])||void 0===eN?void 0:null===(eg=eN[l])||void 0===eg?void 0:eg[null==i?void 0:i._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)(D.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==i?void 0:i._variableName})," ",(null==i?void 0:i.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]})})]},l),"select"===K(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsxs)(r.Ph,{value:(null==h?void 0:null===(eS=h._variables)||void 0===eS?void 0:null===(ew=eS[null==y?void 0:null===(ek=y[l])||void 0===ek?void 0:ek._variableName])||void 0===ew?void 0:null===(e_=ew[l])||void 0===e_?void 0:e_[null==i?void 0:i._variableName])||"",onValueChange:e=>G(l,null==i?void 0:i._variableName,e),children:[(0,a.jsx)(r.i4,{className:"w-[280px]",children:(0,a.jsx)(r.ki,{placeholder:"Select an option"})}),(0,a.jsx)(r.Bw,{children:null==i?void 0:null===(eA=i.choices)||void 0===eA?void 0:eA.map(e=>(0,a.jsx)(r.Ql,{value:e,children:e},e))})]})]}),"int"===K(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>W(l,null==i?void 0:i._variableName),children:(0,a.jsx)(J.Z,{className:"h-4 w-4"})}),(0,a.jsx)(A.I,{type:"number",id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(eF=h._variables)||void 0===eF?void 0:null===(eZ=eF[null==y?void 0:null===(eP=y[l])||void 0===eP?void 0:eP._variableName])||void 0===eZ?void 0:null===(eC=eZ[l])||void 0===eC?void 0:eC[null==i?void 0:i._variableName])||0,onChange:e=>I(l,null==i?void 0:i._variableName,parseInt(e.target.value)),className:"w-20 text-center"}),(0,a.jsx)(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>M(l,null==i?void 0:i._variableName),children:(0,a.jsx)(B.Z,{className:"h-4 w-4"})})]})]}),"json"===K(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(Y,{mode:"json",theme:"github",name:"".concat(l,"-").concat(null==i?void 0:i._variableName),onChange:e=>H(l,null==i?void 0:i._variableName,e),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==h?void 0:null===(eO=h._variables)||void 0===eO?void 0:null===(eI=eO[null==y?void 0:null===(eL=y[l])||void 0===eL?void 0:eL._variableName])||void 0===eI?void 0:null===(eE=eI[l])||void 0===eE?void 0:eE[null==i?void 0:i._variableName])?JSON.stringify(null==h?void 0:null===(eq=h._variables)||void 0===eq?void 0:null===(eT=eq[null==y?void 0:null===(ez=y[l])||void 0===ez?void 0:ez._variableName])||void 0===eT?void 0:null===(eR=eT[l])||void 0===eR?void 0:eR[null==i?void 0:i._variableName],null,2):(null==h?void 0:null===(eV=h._variables)||void 0===eV?void 0:null===(eJ=eV[null==y?void 0:null===(eD=y[l])||void 0===eD?void 0:eD._variableName])||void 0===eJ?void 0:null===(eB=eJ[l])||void 0===eB?void 0:eB[null==i?void 0:i._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]}),"code"===K(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(Y,{mode:"python",theme:"github",name:"".concat(l,"-").concat(null==i?void 0:i._variableName),onChange:e=>$(l,null==i?void 0:i._variableName,e),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==h?void 0:null===(eM=h._variables)||void 0===eM?void 0:null===(eG=eM[null==y?void 0:null===(eX=y[l])||void 0===eX?void 0:eX._variableName])||void 0===eG?void 0:null===(eU=eG[l])||void 0===eU?void 0:eU[null==i?void 0:i._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]})]})},null==i?void 0:i._variableName)})}),w(_(null==h?void 0:null===(o=h.types)||void 0===o?void 0:o[null==e?void 0:e.type],null==h?void 0:h.types)).some(e=>!0===e.optional)&&(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)(p.z,{variant:"link",onClick:()=>ee(l),children:[(null==S?void 0:S[l])?"Hide":"Show"," optional parameters"]})})]},l)}),(null==y?void 0:null===(c=y[0])||void 0===c?void 0:c.sequence)>0&&(0,a.jsx)("div",{className:"flex items-center justify-center mt-6",children:(0,a.jsx)("button",{type:"button",onClick:()=>{let e=null==v?void 0:v[0];k(l=>[...l,e]);let l=[...j,null==e?void 0:e._variableName],i=new URL(window.location),a=new URLSearchParams(i.search);a.set(g,l.join(",")),window.history.pushState(null,"","".concat(i.pathname,"?").concat(a.toString()))},className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(B.Z,{className:"h-5 w-5","aria-hidden":"true"})})})]}):null}var el=e=>{let{header:l="Edit now",description:i="Edit these fields",sequence:o=null,children:r}=e,[s,t]=n.useState(!1),d=(0,u.v9)(e=>e.stack.submittedStack);if(o){var c;let e=0,i=null==d?void 0:null===(c=d._variables)||void 0===c?void 0:c[l];if(i){e=i.length,console.log("variables",i),console.log("currentLength",e);let a=new URL(window.location),n=new URLSearchParams(a.search),o=Array(e).fill(l).join(",");n.set(l,o);let r="".concat(a.origin).concat(a.pathname,"?").concat(n.toString());window.history.replaceState(null,"",r),console.log("Updated URL:",r)}}return(0,a.jsxs)("div",{className:"w-full border border-border rounded-lg shadow-sm flex justify-between items-center p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:l}),(0,a.jsxs)(h.Vq,{open:s,onOpenChange:t,children:[(0,a.jsx)(p.z,{variant:"outline",size:"sm",onClick:()=>t(!0),children:"Edit now"}),(0,a.jsxs)(h.cZ,{className:"sm:max-w-[50vw] sm:h-[80vh] flex flex-col p-0",children:[(0,a.jsxs)(h.fK,{className:"p-6",children:[(0,a.jsx)(h.$N,{children:l}),(0,a.jsx)(h.Be,{children:i})]}),(0,a.jsx)(Z.x,{className:"flex-grow px-6",children:r}),(0,a.jsx)(h.cN,{className:"p-6",children:(0,a.jsx)(p.z,{onClick:()=>t(!1),children:"Close"})})]})]})]})},ei=i(86288),ea=i(23919);function en(){let[e,l]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=setTimeout(()=>{l(!1)},2e3);return()=>clearTimeout(e)},[]),(0,a.jsx)(ei.Zb,{className:"w-full max-w-md",children:(0,a.jsx)(ei.aY,{className:"flex items-center space-x-4 p-6",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ea.Z,{className:"h-10 w-10 text-primary animate-spin"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Loading..."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please wait while we check for schemas."})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(V.Z,{className:"h-10 w-10 text-yellow-500"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"No schema found"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please use Developer Mode to create the application."})]})]})})})}var eo=i(13271);function er(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}let es=e=>(null==e?void 0:e.types)&&"object"==typeof e.types?Object.keys(e.types):[];function et(e,l,i){return"code"===e?"code":"text-area"===e?"text-area":"multi-str"===e?"multi-str":"multi-checkbox"===e?"multi-checkbox":"str"===e||"string"===e?l?"select":"str":"int"===e?l?"select":"int":"json"===e||"query"==e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e?"multi-select":"complex"===e?"complex":i.includes(e)?e:"not_found"}function ed(e){return e.some(e=>!0===e.optional)}var ec=function(e){let{simple:l=!1}=e,i=(0,u.I0)(),o=(0,u.v9)(e=>e.stack.stackSelectedTemplate),t=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),c=(0,u.v9)(e=>e.stack.submittedStack),[m,h]=(0,n.useState)(0),[b,f]=(0,n.useState)(!0),[g,j]=(0,n.useState)([...eo.defaultFormTypes]),[y,k]=(0,n.useState)({}),S=(e,l)=>{let{target:i}=e;k(e=>({...e,[l]:i.value}))};(0,n.useEffect)(()=>{c&&(h(0),j([...g,...es(c)]))},[c]);let P=(e,l)=>{i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[l]:e.target.value}})),h(e=>e+1)},F=(e,l)=>{i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[l]:e}})),h(e=>e+1)},I=(e,l)=>{var a,n,o,r,s;i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[l]:(null==c?void 0:null===(a=c._variables)||void 0===a?void 0:a[l])&&(null==c?void 0:null===(o=c._variables)||void 0===o?void 0:null===(n=o[l])||void 0===n?void 0:n.includes(e.target.value))?[...null==c?void 0:null===(r=c._variables)||void 0===r?void 0:r[l],e.target.value]:[...(null==c?void 0:null===(s=c._variables)||void 0===s?void 0:s[l])||[],e.target.value]}})),h(e=>e+1)},R=(e,l)=>{I({target:{value:e}},l),h(e=>e+1),k(e=>({...e,[l]:""}))},M=(e,l,a)=>{var n,o;let r=l?[...null==c?void 0:null===(n=c._variables)||void 0===n?void 0:n[null==a?void 0:a._variableName],e]:null==c?void 0:null===(o=c._variables)||void 0===o?void 0:o[null==a?void 0:a._variableName].filter(l=>l!==e);i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[null==a?void 0:a._variableName]:r}})),h(e=>e+1)},W=(e,l)=>{var a,n,o;i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[l]:Array.isArray(null==c?void 0:null===(a=c._variables)||void 0===a?void 0:a[l])?null==c?void 0:null===(o=c._variables)||void 0===o?void 0:null===(n=o[l])||void 0===n?void 0:n.filter((l,i)=>i!==e):[]}})),h(e=>e+1)},H=e=>{i((0,N.q7)({...c,identifier:e.target.value})),h(e=>e+1)},Y=(e,l)=>{i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[l]:!e}})),h(e=>e+1)},Q=(e,l)=>{let a=e.target.value;try{let e=parseInt(a,10);isNaN(e)?v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"}):(i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[l]:e}})),h(e=>e+1))}catch(e){console.error("Error:",e),v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"})}},K=e=>()=>{var l;i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[e]:(parseInt(null==c?void 0:null===(l=c._variables)||void 0===l?void 0:l[e])||0)+1}})),h(e=>e+1)},ei=e=>()=>{var l;i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[e]:(parseInt(null==c?void 0:null===(l=c._variables)||void 0===l?void 0:l[e])||0)-1}})),h(e=>e+1)},ea=e=>null!=e&&!!e.optional&&!!b,ec=(e,l)=>{try{let a;""===e?a={}:"string"==typeof e?(a=JSON.parse(e),JSON.stringify(a,null,2)):a={},console.log("Parsed JSON:",a),i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[l]:a}}))}catch(a){console.error("Error parsing JSON:",a),i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[l]:e}}))}},ev=(e,l)=>{try{i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[l]:e}}))}catch(a){console.error("Error parsing JSON:",a),i((0,N.q7)({...c,_variables:{...null==c?void 0:c._variables,[l]:e}}))}};return c?!o||(null==c?void 0:c.schema)?(0,a.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[!l&&(null==c?void 0:c.schema)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-2 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:"identifier",children:["identifier",(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,a.jsx)(z.Z,{popoverheader:"Identifier",popovercontent:(0,a.jsx)("p",{children:"Please provide a unique name for your application. This name is used to identify your application in the system. It should be unique and should not contain any special characters."})})]}),(0,a.jsx)(A.I,{id:"identifier",value:(null==c?void 0:c.identifier)||"",onChange:e=>H(e),placeholder:"<enter-a-unique-identifier>",autocomplete:"off"})]}),(null==c?void 0:c.schema)&&w(_(null==c?void 0:c.schema,null==c?void 0:c.types)).map(e=>{var l,i,o,v,u,m,h,b,f,N,j,_,w,k,H,en,es,ed,eu,em;return(0,a.jsxs)(n.Fragment,{children:[!ea(e)&&"str"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(A.I,{id:null==e?void 0:e._variableName,value:(null==c?void 0:null===(l=c._variables)||void 0===l?void 0:l[null==e?void 0:e._variableName])||"",onChange:l=>P(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),autocomplete:"off"})]}),!ea(e)&&"select"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(r.Ph,{value:(null==c?void 0:null===(i=c._variables)||void 0===i?void 0:i[null==e?void 0:e._variableName])||"",onValueChange:l=>F(l,null==e?void 0:e._variableName),children:[(0,a.jsx)(r.i4,{"aria-label":null==e?void 0:e._variableName,className:"w-[280px]",children:(0,a.jsx)(r.ki,{placeholder:"Select an option"})}),(0,a.jsx)(r.Bw,{children:(0,a.jsxs)(r.DI,{children:[(0,a.jsxs)(r.n5,{children:["Select ",null==e?void 0:e._variableName]}),Array.isArray(null==e?void 0:e.choices)&&e.choices.map(e=>(0,a.jsx)(r.Ql,{value:e,children:e},e))]})})]})]}),!ea(e)&&"not_found"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(U.bZ,{variant:"destructive",children:[(0,a.jsx)(V.Z,{className:"h-4 w-4"}),(0,a.jsx)(U.Cd,{children:"Error"}),(0,a.jsxs)(U.X,{children:["Type: ",(0,a.jsx)(G.C,{variant:"destructive",children:null==e?void 0:e.type})," ","is not a valid type. Please create this type and refer it in the schema."]})]})]}),!ea(e)&&"text-area"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(E,{id:null==e?void 0:e._variableName,value:(null==c?void 0:null===(o=c._variables)||void 0===o?void 0:o[null==e?void 0:e._variableName])||"",onChange:l=>P(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),className:"resize-none",rows:6})]}),!ea(e)&&"boolean"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)(D.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)(D.r,{checked:null==c?void 0:null===(v=c._variables)||void 0===v?void 0:v[null==e?void 0:e._variableName],onChange:()=>{var l;return Y(null==c?void 0:null===(l=c._variables)||void 0===l?void 0:l[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},className:er((null==c?void 0:null===(u=c._variables)||void 0===u?void 0:u[null==e?void 0:e._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:er((null==c?void 0:null===(m=c._variables)||void 0===m?void 0:m[null==e?void 0:e._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)(D.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==e?void 0:e._variableName})," ",(null==e?void 0:e.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500",children:"*"}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]})]})})}),!ea(e)&&"multi-select"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==c?void 0:null===(h=c._variables)||void 0===h?void 0:h[null==e?void 0:e._variableName])&&(null==c?void 0:null===(f=c._variables)||void 0===f?void 0:null===(b=f[null==e?void 0:e._variableName])||void 0===b?void 0:b.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==c?void 0:null===(N=c._variables)||void 0===N?void 0:N[null==e?void 0:e._variableName])&&(null==c?void 0:null===(j=c._variables)||void 0===j?void 0:j[null==e?void 0:e._variableName].map((l,i)=>(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center rounded-full bg-white m-0.5 px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(q.Z,{onClick:()=>W(i,null==e?void 0:e._variableName),className:"ml-1 h-4 w-4 text-gray-400 hover:text-gray-600","aria-hidden":"true"})]},i)))]})]}),(0,a.jsxs)("select",{id:null==e?void 0:e.name,name:null==e?void 0:e.name,value:"",onChange:l=>I(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==e?void 0:e.choices)?e.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?X(null==c?void 0:c._variables,e.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("/")?(0,a.jsx)(O,{choices:e.choices,authHeaderToken:(0,x.Z)(t)}):null]},JSON.stringify(null==c?void 0:null===(_=c._variables)||void 0===_?void 0:_[null==e?void 0:e._variableName]))]}),!ea(e)&&"multi-str"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(null==c?void 0:null===(w=c._variables)||void 0===w?void 0:w[null==e?void 0:e._variableName])&&(null==c?void 0:null===(k=c._variables)||void 0===k?void 0:k[null==e?void 0:e._variableName].map((l,i)=>(0,a.jsxs)("button",{type:"button",className:"inline-flex m-0.5 items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(q.Z,{onClick:()=>W(i,null==e?void 0:e._variableName),className:"ml-1 h-4 w-4 text-gray-400 hover:text-gray-600","aria-hidden":"true"})]},i))),(0,a.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,a.jsx)(A.I,{id:null==e?void 0:e.name,name:null==e?void 0:e.name,type:"text",value:y[null==e?void 0:e._variableName]||"",placeholder:"Type the ".concat(null==e?void 0:e._variableName," value here"),onChange:l=>S(l,null==e?void 0:e._variableName),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6","aria-label":"Enter item"}),(0,a.jsx)(p.z,{type:"button",onClick:()=>{R(y[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},"aria-label":"Add ".concat(null==e?void 0:e._variableName),disabled:!(null===(H=y[null==e?void 0:e._variableName])||void 0===H?void 0:H.trim()),className:"justify-center p-2 rounded bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2",children:(0,a.jsx)(B.Z,{className:"h-4 w-4"})})]})]}),!ea(e)&&"multi-checkbox"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(Z.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:Array.isArray(null==e?void 0:e.choices)?e.choices.map(l=>{var i,n;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.X,{id:l,checked:null==c?void 0:null===(n=c._variables)||void 0===n?void 0:null===(i=n[null==e?void 0:e._variableName])||void 0===i?void 0:i.includes(l),onCheckedChange:i=>M(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?X(null==c?void 0:c._variables,e.choices).map(l=>{var i,n;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.X,{id:l,checked:null==c?void 0:null===(n=c._variables)||void 0===n?void 0:null===(i=n[null==e?void 0:e._variableName])||void 0===i?void 0:i.includes(l),onCheckedChange:i=>M(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("/")?L(e.choices,(0,x.Z)(t)).then(l=>l.map(l=>{var i,n;a.Fragment,C.X,null==c||null===(n=c._variables)||void 0===n||null===(i=n[null==e?void 0:e._variableName])||void 0===i||i.includes(l),i=>M(l,i,e)})):null})})})]}),!ea(e)&&"int"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-left",children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{type:"button",onClick:ei(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mr-4",children:(0,a.jsx)(J.Z,{className:"h-5 w-5","aria-hidden":"true"})}),(0,a.jsx)("input",{type:"int",className:"w-16 text-center block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",id:null==e?void 0:e._variableName,value:(null==c?void 0:null===(en=c._variables)||void 0===en?void 0:en[null==e?void 0:e._variableName])||0,onChange:l=>Q(l,null==e?void 0:e._variableName)}),(0,a.jsx)("button",{type:"button",onClick:K(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(B.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})]}),!ea(e)&&"json"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Here you can pass a dictionary as value. e.g. {key: value}",mode:"json",theme:"twilight",name:null==e?void 0:e._variableName,onChange:l=>ec(l,null==e?void 0:e._variableName),fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==c?void 0:null===(es=c._variables)||void 0===es?void 0:es[null==e?void 0:e._variableName])?JSON.stringify(null==c?void 0:null===(ed=c._variables)||void 0===ed?void 0:ed[null==e?void 0:e._variableName],null,"	"):(null==c?void 0:null===(eu=c._variables)||void 0===eu?void 0:eu[null==e?void 0:e._variableName])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,style:{width:"100%",height:"200px"}})]}),!ea(e)&&"code"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(s._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{className:"mt-2 rounded-md border-2 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Write Python here...",mode:"python",theme:"tomorrow",name:null==e?void 0:e._variableName,onChange:l=>ev(l,null==e?void 0:e._variableName),fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==c?void 0:null===(em=c._variables)||void 0===em?void 0:em[null==e?void 0:e._variableName])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,style:{width:"100%",height:"200px"}})]}),"not_found"!==et(null==e?void 0:e.type,null==e?void 0:e.choices,g)&&!eo.defaultFormTypes.includes(et(null==e?void 0:e.type,null==e?void 0:e.choices,g))&&(!ea(e)||"complex"===et(null==e?void 0:e.type,null==e?void 0:e.choices,g))&&(0,a.jsxs)("div",{children:[(0,a.jsx)("br",{}),(0,a.jsx)(el,{header:null==e?void 0:e._variableName,sequence:null==e?void 0:e.sequence,className:"mt-4",children:(null==e?void 0:e.sequence)?(0,a.jsx)(ee,{complexFields:[e]}):(0,a.jsx)($,{complexField:e})})]})]},null==e?void 0:e._variableName)}),ed(w(_(null==c?void 0:c.schema,null==c?void 0:c.types)))&&b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{f(!b)},children:["Show optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" →"})]})})]}),ed(w(_(null==c?void 0:c.schema,null==c?void 0:c.types)))&&!b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{f(!b)},children:["Hide optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" ←"})]})})]})]}):(0,a.jsx)(en,{}):null};function ev(e){let{simple:l=!1,autoselect:i=!1}=e,d=(0,t.useRouter)();(0,u.v9)(e=>e.environment.environmentLoadedValues);let c=(0,u.v9)(e=>e.stack.stackSelectedTemplate);(0,u.v9)(e=>e.stack.submittedStack);let m=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),h=(0,u.I0)(),[p,b]=(0,n.useState)("{}"),[f,j]=(0,n.useState)({}),y=()=>{d.push("/webui/add-application",void 0,{shallow:!0}),h((0,N.v$)("")),b(""),j({}),h((0,N.q7)(""))};(0,n.useEffect)(()=>{let e=()=>{console.log("Error fetching Services API data. Please check your connection.")};(async()=>{try{let e=await o.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=template")),{headers:{Accept:"application/json",Authorization:(0,x.Z)(m),superduper_reverse_proxy:"http://localhost:8000"}});w([...e.data])}catch(l){e()}})()},[]);let[_,w]=(0,n.useState)(["No template added yet"]);return(0,a.jsxs)(a.Fragment,{children:[!l&&(0,a.jsxs)("div",{className:"max-w-3xl",children:[(0,a.jsxs)(s._,{htmlFor:"terms",children:["Select a template"," ",c&&(0,a.jsx)("span",{onClick:y,className:"bg-transparent border-none text-indigo-500 cursor-pointer p-0",children:"(Remove Selection)"})]}),(0,a.jsxs)(r.Ph,{value:c,onValueChange:e=>{l||y(),h((0,N.v$)(e));let i=()=>{v.ZP.error("Error fetching template API data. Please check your connection. ");let e={error:"Error fetching template API data. No template information found!"};b(JSON.stringify(e,null,2)),h((0,N.q7)(e)),console.log("Error fetching template API data. Please check your connection. So returning to fallback data!")};(async()=>{try{let l=await o.Z.get("".concat("".concat("http://localhost:8000","/db/show_template?identifier=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,x.Z)(m),superduper_reverse_proxy:"http://localhost:8000"}});console.log("/webui/restapi/db/show_template?identifier=".concat(e),l.data),h((0,N.q7)(k(l.data)))}catch(e){i()}})()},children:[(0,a.jsx)(r.i4,{className:"w-3/6 mt-2 mb-2",children:(0,a.jsx)(r.ki,{placeholder:"Select a template"})}),(0,a.jsx)(r.Bw,{children:(0,a.jsxs)(r.DI,{children:[(0,a.jsx)(r.n5,{children:"Select a template"}),_&&_.map((e,l)=>(0,a.jsx)(r.Ql,{value:e,children:e},l))]})})]})]}),!l&&(0,a.jsx)("br",{}),(0,a.jsx)(ec,{simple:l}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),!l&&(0,a.jsx)(g,{})]})}var eu=i(61883),em=i(52269),eh=i(58153),ep=i(64386),ex=i(24878),eb=i(25820);function ef(e){let{id:l="default-id",onGoBack:i=()=>{}}=e,[o,r]=(0,n.useState)([]),[s,t]=(0,n.useState)(!0),[d,c]=(0,n.useState)(null),[v,u]=(0,n.useState)(!1),m=(0,n.useRef)(null),h=async()=>{t(!0),c(null),r([]);try{let e=await fetch("".concat("http://localhost:8000","/stdout?id=").concat(l));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let i=e.body.getReader(),a=new TextDecoder;for(;;){let{value:e,done:l}=await i.read();if(l){console.log("Stream complete");break}let n=a.decode(e,{stream:!0}).split("\n").filter(e=>""!==e.trim());r(e=>[...e,...n]),t(!1)}}catch(e){console.error("Error fetching logs:",e),c("Failed to fetch logs: ".concat(e.message))}finally{t(!1)}};return(0,n.useEffect)(()=>(h(),()=>{}),[l]),(0,n.useEffect)(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[o]),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"py-4 w-full max-w-7xl",children:(0,a.jsx)("a",{href:"/webui/application",onClick:i,children:(0,a.jsxs)(p.z,{className:"flex items-center space-x-2",children:[(0,a.jsx)(eu.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Go back"})]})})}),(0,a.jsx)("div",{className:"w-full max-w-7xl bg-white shadow-lg rounded-lg overflow-hidden",children:(0,a.jsx)("div",{className:"w-full bg-gray-900 ".concat(v?"fixed inset-0 z-50":"min-h-0"),children:(0,a.jsxs)("div",{className:"w-full flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-b border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),(0,a.jsxs)("span",{className:"text-gray-300 ml-4 font-mono",children:["Terminal - Apply Application Logs (",l,")"]})]}),(0,a.jsx)("button",{onClick:()=>{u(!v)},className:"text-gray-400 hover:text-gray-200",children:v?(0,a.jsx)(em.Z,{className:"w-5 h-5"}):(0,a.jsx)(eh.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"p-4 overflow-hidden ".concat(v?"flex-1":"h-[400px]"),children:s?(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-300",children:[(0,a.jsx)(ep.Z,{className:"animate-spin"}),(0,a.jsx)("span",{className:"font-mono",children:"Initializing terminal session..."})]}):d?(0,a.jsxs)("div",{className:"text-red-400 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 font-mono",children:[(0,a.jsx)(V.Z,{className:"w-5 h-5"}),(0,a.jsxs)("span",{children:["Error: ",d]})]}),(0,a.jsxs)("button",{onClick:h,className:"flex items-center space-x-2 px-3 py-1 bg-gray-700 text-gray-200 rounded hover:bg-gray-600 font-mono",children:[(0,a.jsx)(ex.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Retry Connection"})]})]}):o.length>0?(0,a.jsx)("div",{ref:m,className:"font-mono text-sm text-green-400 overflow-y-auto h-full",children:o.map((e,l)=>(0,a.jsx)("div",{className:"whitespace-pre-wrap py-0.5 border-b border-gray-800/50 last:border-0",children:e},l))}):(0,a.jsx)("div",{className:"text-gray-500 font-mono",children:"No logs available. Waiting for data..."})}),(0,a.jsx)("div",{className:"bg-gray-800 p-2 border-t border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 font-mono",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eb.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{children:"Connected to logs"})]}),(0,a.jsx)("span",{children:new Date().toLocaleTimeString()})]})})]})})})]})}var eg=i(56146),eN=i(40837);function ej(){let[e,l]=(0,n.useState)(!1),i=(0,t.useSearchParams)().get("id");return i?(0,a.jsx)(ef,{id:i}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mx-auto max-w-3xl",children:[(0,a.jsx)(eg.aG,{children:(0,a.jsxs)(eg.Jb,{children:[(0,a.jsx)(eg.gN,{children:(0,a.jsx)(eg.At,{href:"/webui",children:"Home"})}),(0,a.jsx)(eg.bg,{}),(0,a.jsx)(eg.gN,{children:(0,a.jsx)(eg.At,{href:"/webui/application",children:"Application"})}),(0,a.jsx)(eg.bg,{}),(0,a.jsx)(eg.gN,{children:(0,a.jsx)(eg.AG,{children:(0,a.jsx)("a",{href:"/webui/application",children:"Add Application"})})})]})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"border-b border-gray-200 pb-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold leading-7 text-gray-900",children:"Create a new application"}),(0,a.jsxs)(p.z,{variant:"outline",onClick:()=>l(!0),className:"flex items-center gap-2",children:[(0,a.jsx)(eN.Z,{className:"w-4 h-4"}),"Developer mode"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Set up your new application in a minute!"}),(0,a.jsx)(h.Vq,{open:e,onOpenChange:l,children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[1000px] max-h-[80vh] flex flex-col",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Developer Mode"}),(0,a.jsx)(h.Be,{children:"Access advanced settings and configurations for your application."})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto py-6",children:(0,a.jsx)("div",{className:"m-2",children:(0,a.jsx)(S,{})})})]})})]}),(0,a.jsx)("br",{}),(0,a.jsx)(ev,{})]})})}var ey=i(70007),e_=(0,i(4867).N)(function(){return(0,a.jsx)(ey.Z,{activeNavItem:"/webui/application",children:(0,a.jsx)("main",{className:"py-10",children:(0,a.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,a.jsx)(ej,{})})})})})})})},72513:function(e,l,i){"use strict";i.d(l,{Cd:function(){return d},X:function(){return c},bZ:function(){return t}});var a=i(27573),n=i(7653),o=i(85145),r=i(18580);let s=(0,o.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),t=n.forwardRef((e,l)=>{let{className:i,variant:n,...o}=e;return(0,a.jsx)("div",{ref:l,role:"alert",className:(0,r.cn)(s({variant:n}),i),...o})});t.displayName="Alert";let d=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)("h5",{ref:l,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",i),...n})});d.displayName="AlertTitle";let c=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)("div",{ref:l,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",i),...n})});c.displayName="AlertDescription"},56146:function(e,l,i){"use strict";i.d(l,{AG:function(){return u},At:function(){return v},Jb:function(){return d},aG:function(){return t},bg:function(){return m},gN:function(){return c}});var a=i(27573),n=i(7653),o=i(85688),r=i(8828),s=i(18580);let t=n.forwardRef((e,l)=>{let{...i}=e;return(0,a.jsx)("nav",{ref:l,"aria-label":"breadcrumb",...i})});t.displayName="Breadcrumb";let d=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)("ol",{ref:l,className:(0,s.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",i),...n})});d.displayName="BreadcrumbList";let c=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)("li",{ref:l,className:(0,s.cn)("inline-flex items-center gap-1.5",i),...n})});c.displayName="BreadcrumbItem";let v=n.forwardRef((e,l)=>{let{asChild:i,className:n,...o}=e,t=i?r.g7:"a";return(0,a.jsx)(t,{ref:l,className:(0,s.cn)("transition-colors hover:text-foreground",n),...o})});v.displayName="BreadcrumbLink";let u=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)("span",{ref:l,role:"link","aria-disabled":"true","aria-current":"page",className:(0,s.cn)("font-normal text-foreground",i),...n})});u.displayName="BreadcrumbPage";let m=e=>{let{children:l,className:i,...n}=e;return(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,s.cn)("[&>svg]:size-3.5",i),...n,children:null!=l?l:(0,a.jsx)(o.XCv,{})})};m.displayName="BreadcrumbSeparator"},86288:function(e,l,i){"use strict";i.d(l,{Ol:function(){return s},SZ:function(){return d},Zb:function(){return r},aY:function(){return c},eW:function(){return v},ll:function(){return t}});var a=i(27573),n=i(7653),o=i(18580);let r=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)("div",{ref:l,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",i),...n})});r.displayName="Card";let s=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)("div",{ref:l,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",i),...n})});s.displayName="CardHeader";let t=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)("h3",{ref:l,className:(0,o.cn)("font-semibold leading-none tracking-tight",i),...n})});t.displayName="CardTitle";let d=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)("p",{ref:l,className:(0,o.cn)("text-sm text-muted-foreground",i),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)("div",{ref:l,className:(0,o.cn)("p-6 pt-0",i),...n})});c.displayName="CardContent";let v=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)("div",{ref:l,className:(0,o.cn)("flex items-center p-6 pt-0",i),...n})});v.displayName="CardFooter"},4216:function(e,l,i){"use strict";i.d(l,{X:function(){return t}});var a=i(27573),n=i(7653),o=i(92999),r=i(85688),s=i(18580);let t=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)(o.fC,{ref:l,className:(0,s.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",i),...n,children:(0,a.jsx)(o.z$,{className:(0,s.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(r.nQG,{className:"h-4 w-4"})})})});t.displayName=o.fC.displayName},24776:function(e,l,i){"use strict";i.d(l,{$N:function(){return p},Be:function(){return x},Vq:function(){return t},cN:function(){return h},cZ:function(){return u},fK:function(){return m},hg:function(){return d}});var a=i(27573),n=i(7653),o=i(67905),r=i(85688),s=i(18580);let t=o.fC,d=o.xz,c=o.h_;o.x8;let v=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)(o.aV,{ref:l,className:(0,s.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...n})});v.displayName=o.aV.displayName;let u=n.forwardRef((e,l)=>{let{className:i,children:n,...t}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(v,{}),(0,a.jsxs)(o.VY,{ref:l,className:(0,s.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...t,children:[n,(0,a.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(r.Pxu,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=o.VY.displayName;let m=e=>{let{className:l,...i}=e;return(0,a.jsx)("div",{className:(0,s.cn)("flex flex-col space-y-1.5 text-center sm:text-left",l),...i})};m.displayName="DialogHeader";let h=e=>{let{className:l,...i}=e;return(0,a.jsx)("div",{className:(0,s.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",l),...i})};h.displayName="DialogFooter";let p=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)(o.Dx,{ref:l,className:(0,s.cn)("text-lg font-semibold leading-none tracking-tight",i),...n})});p.displayName=o.Dx.displayName;let x=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)(o.dk,{ref:l,className:(0,s.cn)("text-sm text-muted-foreground",i),...n})});x.displayName=o.dk.displayName},1930:function(e,l,i){"use strict";i.d(l,{I:function(){return r}});var a=i(27573),n=i(7653),o=i(18580);let r=n.forwardRef((e,l)=>{let{className:i,type:n,...r}=e;return(0,a.jsx)("input",{type:n,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",i),ref:l,...r})});r.displayName="Input"},97747:function(e,l,i){"use strict";i.d(l,{_:function(){return d}});var a=i(27573),n=i(7653),o=i(1001),r=i(85145),s=i(18580);let t=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)(o.f,{ref:l,className:(0,s.cn)(t(),i),...n})});d.displayName=o.f.displayName},46346:function(e,l,i){"use strict";i.d(l,{B:function(){return t},x:function(){return s}});var a=i(27573),n=i(7653),o=i(86705),r=i(18580);let s=n.forwardRef((e,l)=>{let{className:i,children:n,...s}=e;return(0,a.jsxs)(o.fC,{ref:l,className:(0,r.cn)("relative overflow-hidden",i),...s,children:[(0,a.jsx)(o.l_,{className:"h-full w-full rounded-[inherit]",children:n}),(0,a.jsx)(t,{}),(0,a.jsx)(o.Ns,{})]})});s.displayName=o.fC.displayName;let t=n.forwardRef((e,l)=>{let{className:i,orientation:n="vertical",...s}=e;return(0,a.jsx)(o.gb,{ref:l,orientation:n,className:(0,r.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",i),...s,children:(0,a.jsx)(o.q4,{className:"relative flex-1 rounded-full bg-border"})})});t.displayName=o.gb.displayName},63052:function(e,l,i){"use strict";i.d(l,{Bw:function(){return h},DI:function(){return d},Ph:function(){return t},Ql:function(){return x},i4:function(){return v},ki:function(){return c},n5:function(){return p}});var a=i(27573),n=i(7653),o=i(85688),r=i(66240),s=i(18580);let t=r.fC,d=r.ZA,c=r.B4,v=n.forwardRef((e,l)=>{let{className:i,children:n,...t}=e;return(0,a.jsxs)(r.xz,{ref:l,className:(0,s.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",i),...t,children:[n,(0,a.jsx)(r.JO,{asChild:!0,children:(0,a.jsx)(o.jnn,{className:"h-4 w-4 opacity-50"})})]})});v.displayName=r.xz.displayName;let u=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)(r.u_,{ref:l,className:(0,s.cn)("flex cursor-default items-center justify-center py-1",i),...n,children:(0,a.jsx)(o.g8U,{})})});u.displayName=r.u_.displayName;let m=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)(r.$G,{ref:l,className:(0,s.cn)("flex cursor-default items-center justify-center py-1",i),...n,children:(0,a.jsx)(o.v4q,{})})});m.displayName=r.$G.displayName;let h=n.forwardRef((e,l)=>{let{className:i,children:n,position:o="popper",...t}=e;return(0,a.jsx)(r.h_,{children:(0,a.jsxs)(r.VY,{ref:l,className:(0,s.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:o,...t,children:[(0,a.jsx)(u,{}),(0,a.jsx)(r.l_,{className:(0,s.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,a.jsx)(m,{})]})})});h.displayName=r.VY.displayName;let p=n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)(r.__,{ref:l,className:(0,s.cn)("px-2 py-1.5 text-sm font-semibold",i),...n})});p.displayName=r.__.displayName;let x=n.forwardRef((e,l)=>{let{className:i,children:n,...t}=e;return(0,a.jsxs)(r.ck,{ref:l,className:(0,s.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...t,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(o.nQG,{className:"h-4 w-4"})})}),(0,a.jsx)(r.eT,{children:n})]})});x.displayName=r.ck.displayName,n.forwardRef((e,l)=>{let{className:i,...n}=e;return(0,a.jsx)(r.Z0,{ref:l,className:(0,s.cn)("-mx-1 my-1 h-px bg-muted",i),...n})}).displayName=r.Z0.displayName},91894:function(e,l,i){"use strict";var a=i(27573),n=i(7653),o=i(412),r=i(33597),s=i(36531);function t(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6"})})}function d(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m18 15-6-6-6 6"})})}l.Z=()=>{let e=(0,o.v9)(e=>e.uploadFiles.uploadFilesLoadedValues||[]),[l,i]=(0,n.useState)(!1),[c,v]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{0===e.length||c||i(!0)},[e,c]),(0,a.jsxs)("div",{children:[(0,a.jsxs)(s.z,{variant:"secondary",onClick:()=>{i(!l),v(!0)},children:["Upload Artifact",l?(0,a.jsx)(d,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(t,{className:"ml-2 h-4 w-4"})]}),(l||!c&&0!==e.length)&&(0,a.jsx)("div",{className:"col-span-full mt-2",children:(0,a.jsx)(r.Z,{})})]})}},7109:function(e,l,i){"use strict";i.d(l,{Z:function(){return n}});var a=i(74859);function n(e){if(a.env.NEXT_PUBLIC_AUTO_LOGIN_EXTERNAL_SERVICES){let[e,l]=a.env.NEXT_PUBLIC_AUTO_LOGIN_EXTERNAL_SERVICES.split(","),i=e.includes("@")?e.split("@")[0]:e;return"Basic ".concat(btoa("".concat(i,":").concat(l)))}return"jwt"===a.env.AUTH_MECHANISM?"Bearer ".concat(e.token):"Basic ".concat(btoa("".concat(e.username,":").concat(e.password)))}},87191:function(e,l,i){"use strict";i.d(l,{Z:function(){return d}});var a=i(27573),n=i(7653),o=i(22392);i(40020),i(19234),i(83346);var r=i(412),s=i(24017),t=i(93296);function d(e){let{data:l,height:i="300px"}=e,d=(0,r.I0)(),[c,v]=(0,n.useState)(JSON.stringify(l,null,"	"));return(0,n.useRef)(null),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.default,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Stack result JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{try{v(e),d((0,s.q7)(JSON.parse(e)))}catch(e){t.ZP.error("Error updating...",{id:"stack-update-error"})}},fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:c,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:i,width:"100%"})})}},5772:function(e,l,i){"use strict";var a=i(27573);i(7653),l.Z=e=>{let l=e.times||4;return(0,a.jsxs)("div",{role:"status",className:"max-w-full p-4 space-y-4 border border-gray-200 divide-y divide-gray-200 rounded shadow animate-pulse gray:divide-gray-700 md:p-6 gray:border-gray-700",children:[[...Array(l)].map((e,l)=>(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"h-2.5 bg-gray-300 rounded-full gray:bg-gray-600 w-24 mb-2.5"}),(0,a.jsx)("div",{className:"w-32 h-2 bg-gray-200 rounded-full gray:bg-gray-700"})]}),(0,a.jsx)("div",{className:"h-2.5 bg-gray-300 rounded-full gray:bg-gray-700 w-12"})]},l)),(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})]})}},80923:function(e,l,i){"use strict";i.d(l,{Z:function(){return c}});var a=i(27573),n=i(7653),o=i(86527),r=i(18580);let s=o.fC,t=o.xz,d=n.forwardRef((e,l)=>{let{className:i,align:n="center",sideOffset:s=4,...t}=e;return(0,a.jsx)(o.VY,{ref:l,align:n,sideOffset:s,className:(0,r.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...t})});d.displayName=o.VY.displayName;var c=e=>{let{label:l,popoverheader:i,popovercontent:n}=e;return(0,a.jsxs)(s,{children:[(0,a.jsx)(t,{children:(0,a.jsx)("label",{className:"text-sm font-medium leading-6 text-gray-900 inline-flex items-center",children:(0,a.jsxs)("p",{children:[l," ",(0,a.jsx)("button",{type:"button",className:"align-middle mb-1",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20","stroke-width":"1.5",stroke:"currentColor",className:"w-4 h-4 hover:text-gray-500 rounded-sm align-middle",children:(0,a.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.375 9.375l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M17.5 10a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-7.5-3.125h.008v.008H10V6.875Z"})})})]})})}),(0,a.jsxs)(d,{className:"text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm overflow-visible",children:[i&&(0,a.jsx)("div",{className:"px-3 py-2 bg-gray-100 border-b border-gray-200 rounded-lg dark:border-gray-600 dark:bg-gray-700 overflow-visible",children:(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white overflow-visible",children:i})}),(0,a.jsx)("div",{className:"px-3 py-2",children:n})]})]})}},55623:function(e){"use strict";e.exports=["str","string","bool","select","boolean","text-area","multi-select","multi-str","multi-checkbox","complex","int","json","code"]},13271:function(e,l,i){"use strict";let a=i(36509),n=i(53971),o=i(33181),r=i(55623);e.exports={tailwindConfig:a,postcssConfig:n,nextBaseConfig:o,defaultFormTypes:r}},33181:function(e,l,i){"use strict";var a=i(74859);e.exports={output:"export",reactStrictMode:!1,eslint:{ignoreDuringBuilds:!0},swcMinify:!0,headers:async()=>[{source:"/api/:path*",headers:[{key:"Access-Control-Allow-Credentials",value:"true"},{key:"Access-Control-Allow-Origin",value:"*"},{key:"Access-Control-Allow-Methods",value:"GET,DELETE,PATCH,POST,PUT"},{key:"Access-Control-Allow-Headers",value:"X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version"}]}],assetPrefix:void 0,experimental:{missingSuspenseWithCSRBailout:!1,proxyTimeout:36e4},redirects:async()=>[{source:"/",destination:"/webui",permanent:!0}],rewrites:async()=>[{source:"/webui/apiserver/:path*",destination:"".concat("","/:path*")},{source:"/webui/restapi/:path*",destination:"".concat(a.env.NEXT_PUBLIC_REVERSE_PROXY||"http://localhost:8000","/:path*")},{source:"/webui_api/:path*",destination:"/api/:path*"}]}},53971:function(e){"use strict";e.exports={plugins:{tailwindcss:{},autoprefixer:{}}}},36509:function(e,l,i){"use strict";e.exports={darkMode:["class"],content:["./pages/**/*.{js,ts,jsx,tsx,mdx}","./components/**/*.{js,ts,jsx,tsx,mdx}","./app/**/*.{js,ts,jsx,tsx,mdx}","./src/**/*.{js,ts,jsx,tsx,mdx}","../components/**/*.{js,ts,jsx,tsx,mdx}","../../components/**/*.{js,ts,jsx,tsx,mdx}","../../utils/**/*.{js,ts,jsx,tsx,mdx}"],prefix:"",theme:{container:{center:!0,padding:"2rem",screens:{"2xl":"1400px"}},extend:{colors:{indigo:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},supercolor:{50:"#ede7ff",100:"#d2befd",200:"#b692fc",300:"#9a67ea",400:"#7f3dfd",500:"#7628f8",600:"#5b0cb8",700:"#4c0a91",800:"#3e086b",900:"#32074f"},border:"hsl(var(--border))",input:"hsl(var(--input))",ring:"hsl(var(--ring))",background:"hsl(var(--background))",backgroundImage:{"gradient-radial":"radial-gradient(var(--tw-gradient-stops))","gradient-conic":"conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))"},foreground:"hsl(var(--foreground))",primary:{DEFAULT:"hsl(var(--primary))",foreground:"hsl(var(--primary-foreground))"},secondary:{DEFAULT:"hsl(var(--secondary))",foreground:"hsl(var(--secondary-foreground))"},destructive:{DEFAULT:"hsl(var(--destructive))",foreground:"hsl(var(--destructive-foreground))"},muted:{DEFAULT:"hsl(var(--muted))",foreground:"hsl(var(--muted-foreground))"},accent:{DEFAULT:"hsl(var(--accent))",foreground:"hsl(var(--accent-foreground))"},popover:{DEFAULT:"hsl(var(--popover))",foreground:"hsl(var(--popover-foreground))"},card:{DEFAULT:"hsl(var(--card))",foreground:"hsl(var(--card-foreground))"}},borderRadius:{lg:"var(--radius)",md:"calc(var(--radius) - 2px)",sm:"calc(var(--radius) - 4px)"},keyframes:{"accordion-down":{from:{height:"0"},to:{height:"var(--radix-accordion-content-height)"}},"accordion-up":{from:{height:"var(--radix-accordion-content-height)"},to:{height:"0"}}},animation:{"accordion-down":"accordion-down 0.2s ease-out","accordion-up":"accordion-up 0.2s ease-out"}}},plugins:[i(4821),i(58173)]}}},function(e){e.O(0,[5458,7441,3296,8320,8374,3908,5383,6340,6700,9115,3406,8113,8743,9769,935,2895,1293,1528,1744],function(){return e(e.s=78186)}),_N_E=e.O()}]);