(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6511],{87170:function(e,t,n){Promise.resolve().then(n.bind(n,24516))},24516:function(e,t,n){"use strict";n.r(t);var s=n(27573),r=n(70007),l=n(58991),i=n(88280),a=n(4867);t.default=(0,a.N)(function(){return(0,s.jsx)(i.Z,{children:(0,s.jsx)(r.Z,{activeNavItem:"/webui",children:(0,s.jsx)("main",{className:"py-10",children:(0,s.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,s.jsx)(l.Z,{})})})})})})})})},4867:function(e,t,n){"use strict";n.d(t,{N:function(){return s}}),n(27573),n(81695),n(7653),n(412),n(88280),n(39e3),n(74531),n(93296),n(74859);let s=e=>(e.displayName||e.name,e)},58991:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var s=n(27573),r=n(7653),l=n(12198),i=n(34527),a=n(82440),c=n(66465),o=n(53896),d=n(86288),u=n(13908),m=n(81695),x=n(7109),f=n(412),p=n(70790),y=n(74859);let h=[{key:"initializing",icon:l.Z,label:"Initializing",duration:3e3},{key:"building",icon:i.Z,label:"Building",duration:3e3},{key:"deploying",icon:a.Z,label:"Deploying",duration:3e3},{key:"success",icon:c.Z,label:"Success",duration:3e3}];function g(){let[e,t]=(0,r.useState)("initializing"),[n,l]=(0,r.useState)(0),i=(0,f.v9)(e=>e.environment.environmentLoadedValues),a=(0,f.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),c=(0,m.useRouter)(),g=(0,f.v9)(e=>e.deploymentName.deploymentNameLoadedValues.name),v=async e=>(await u.Z.get(e,{headers:{Accept:"application/json",Authorization:(0,x.Z)(a),superduper_reverse_proxy:y.env.NEXT_PUBLIC_API||i.NEXT_PUBLIC_API}})).data,{data:k,error:N}=(0,p.ZP)("".concat("".concat(y.env.NEXT_PUBLIC_API,"/deployments/").concat(g)),"".concat("".concat(y.env.NEXT_PUBLIC_API,"/deployments/").concat(g,"/")),v,{refreshInterval:0,revalidateOnFocus:!1,revalidateOnReconnect:!1,shouldRetryOnError:!1});(0,r.useEffect)(()=>{k&&c.push("/webui?deployment=done&query=1m",void 0,{shallow:!0})},[k]),(0,r.useEffect)(()=>{j()},[]);let j=()=>{t("initializing"),l(0)};return(0,r.useEffect)(()=>{if("success"===e)return;let n=h.find(t=>t.key===e),s=h.findIndex(t=>t.key===e);l(0);let r=setInterval(()=>{l(e=>{let t=e+100/(n.duration/100);return t>=100?100:t})},100),i=setTimeout(()=>{s<h.length-1?t(h[s+1].key):t("success")},n.duration);return()=>{clearInterval(r),clearTimeout(i)}},[e]),(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen w-full",children:(0,s.jsxs)(d.Zb,{className:"w-full max-w-6xl relative -mt-20",children:[(0,s.jsxs)(d.Ol,{className:"text-center space-y-2",children:[(0,s.jsx)(d.ll,{className:"text-4xl font-extrabold tracking-tight",children:"Deployment Status"}),(0,s.jsx)("p",{className:"text-xl text-muted-foreground",children:"Tracking progress of your deployment"})]}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,s.jsxs)("div",{className:"w-full md:w-1/3 md:border-r md:pr-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Deployment Stages"}),(0,s.jsx)("ul",{className:"space-y-6",children:h.map(t=>{let n=t.icon,r=t.key===e,l=h.findIndex(t=>t.key===e)>h.findIndex(e=>e.key===t.key);return(0,s.jsxs)("li",{className:"flex items-center space-x-3 ".concat(r?"text-primary font-medium":l?"text-green-600":"text-muted-foreground"),children:[(0,s.jsx)(n,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:t.label}),l&&(0,s.jsx)(o.Z,{className:"w-4 h-4 text-green-600"})]},t.key)})})]}),(0,s.jsxs)("div",{className:"w-full md:w-2/3 md:pl-8 flex flex-col items-center",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Progress"}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center mb-8",children:["success"===e?(0,s.jsx)(o.Z,{className:"text-green-500 w-24 h-24 mb-4"}):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("svg",{className:"w-24 h-24",viewBox:"0 0 100 100",children:[(0,s.jsx)("circle",{className:"text-gray-200",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"42",cx:"50",cy:"50"}),(0,s.jsx)("circle",{className:"text-primary",strokeWidth:"8",strokeDasharray:264,strokeDashoffset:264-n/100*264,strokeLinecap:"round",stroke:"url(#gradient)",fill:"transparent",r:"42",cx:"50",cy:"50"}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"hsl(var(--primary))"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})})]}),(0,s.jsxs)("span",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xl font-semibold",children:[Math.round(n),"%"]})]}),(0,s.jsx)("p",{className:"text-center text-lg font-medium mt-4",children:(()=>{switch(e){case"initializing":return"Deployment ongoing, initializing...";case"building":return"Deployment ongoing, building files...";case"deploying":return"Deployment ongoing, finalizing production setup...";case"success":return"Deployment ongoing, almost live!";default:return"Deployment ongoing, wrapping up..."}})()})]})]})]})})]})})}},84313:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(7653),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let n=(0,s.forwardRef)((n,i)=>{let{color:a="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=n;return(0,s.createElement)("svg",{ref:i,...r,width:c,height:c,stroke:a,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(l(e)),u].join(" "),...x},[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(m)?m:[m]])});return n.displayName="".concat(e),n}},53896:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(84313).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},34527:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(84313).Z)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},82440:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(84313).Z)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]])},66465:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(84313).Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},12198:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(84313).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},function(e){e.O(0,[3296,4496,4458,790,7976,9401,1293,1528,1744],function(){return e(e.s=87170)}),_N_E=e.O()}]);