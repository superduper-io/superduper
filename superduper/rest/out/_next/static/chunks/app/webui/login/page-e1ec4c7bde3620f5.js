(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6071],{52178:function(e,r,t){Promise.resolve().then(t.bind(t,32179))},32179:function(e,r,t){"use strict";t.r(r);var n=t(27573),s=t(88280),o=t(41664);r.default=function(){return(0,n.jsx)(s.Z,{children:(0,n.jsx)(o.Z,{})})}},41664:function(e,r,t){"use strict";t.d(r,{Z:function(){return h}});var n=t(27573),s=t(7653),o=t(1930),i=t(97747),a=t(88146),l=t(36531),c=t(93296),d=t(39e3),u=t(412),p=t(13908),g=t(7109),f=t(67412),m=t(74859);function h(){let e=(0,u.I0)(),[r,t]=(0,s.useState)(""),[h,w]=(0,s.useState)(""),[x,v]=(0,s.useState)("");async function y(e,r){try{let t="".concat(m.env.NEXT_PUBLIC_API,"/secrets?deployment=").concat(r),n=await p.Z.get(t,{headers:{Accept:"application/json",Authorization:(0,g.Z)(e),superduper_reverse_proxy:m.env.NEXT_PUBLIC_API}});console.log("Secrets retrieved successfully:",n.data);let s=(0,f.Z)(n.data);return console.log("Empty Secrets:",s),s}catch(e){return console.error("Error occurred while fetching secrets:",e),[]}}async function b(){try{c.ZP.loading("Logging in...",{id:"login-loading"}),console.log("email",r),console.log("password",h);let t=await fetch("/webui_api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:h})});if(console.log("response",t),401===t.status){v("Invalid email or password"),c.ZP.error("Invalid email or password",{id:"login-error"}),c.ZP.dismiss("login-loading"),e((0,d.v)({token:""}));return}if(200===t.status){let n=await t.json();if(console.log("response.data",n),e((0,d.v)(n)),console.log("Login successful"),"true"===m.env.NEXT_PUBLIC_SNOWFLAKE)try{if((await y(n,r)).length>0)window.location.assign("/webui/deployment?onboarding=true");else try{let e=await p.Z.get("".concat("".concat("","/health")),{headers:{Accept:"application/json",Authorization:(0,g.Z)(n),superduper_reverse_proxy:""}});200===e.status?window.location.assign("/webui/deployment"):window.location.assign("/webui/deployment?onboarding=true")}catch(e){console.error("Health check failed:",e),window.location.assign("/webui/deployment?onboarding=true")}}catch(e){console.error("Empty Secret request failed:",e),window.location.assign("/webui/deployment?onboarding=true")}else window.location.assign("/webui");c.ZP.success("Login successful.",{id:"login-success",duration:3e3,style:{backgroundColor:"#10B981",color:"#fff"}}),c.ZP.dismiss("login-loading")}else{let r=await t.text()||"An error occurred while loading!";v(r),e((0,d.v)({token:""})),c.ZP.error(r,{id:"login-error"}),c.ZP.dismiss("login-loading")}}catch(r){console.error("An error occurred:",r),c.ZP.error("An error occurred. Please try again later.",{id:"login-error"}),c.ZP.dismiss("login-loading"),e((0,d.v)({token:""}))}}return(0,n.jsx)("div",{className:"w-full lg:grid lg:min-h-[600px] lg:grid-cols-1 place-items-center",children:(0,n.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,n.jsxs)("div",{className:"mx-auto grid w-[350px] gap-6",children:[(0,n.jsx)("div",{className:"grid gap-2 text-center",children:(0,n.jsx)("div",{className:"flex h-auto shrink-0 items-center pb-4",children:(0,n.jsx)("a",{href:"/webui",children:(0,n.jsx)("img",{className:"h-auto w-auto",src:"/webui_asset/superduper-logo.png",alt:"Superduper.io Inc."})})})}),(0,n.jsxs)("div",{className:"grid gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(i._,{htmlFor:"email",children:"Username or email"}),(0,n.jsx)(o.I,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:r,onChange:e=>t(e.target.value)})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(i._,{htmlFor:"password",children:"Password"}),(0,n.jsx)(a.default,{href:"/webui/support",className:"ml-auto inline-block text-sm underline",children:"Forgot your password?"})]}),(0,n.jsx)(o.I,{id:"password",type:"password",required:!0,value:h,onChange:e=>w(e.target.value)})]}),x&&(0,n.jsx)("p",{className:"text-red-500",children:x}),(0,n.jsx)(l.z,{id:"login-button-homepage",className:"w-full",onClick:b,children:"Log in"})]}),(0,n.jsxs)("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",(0,n.jsx)(a.default,{href:"/webui/support",className:"underline",children:"Contact Enterprise Support"})]})]})})})}},1930:function(e,r,t){"use strict";t.d(r,{I:function(){return i}});var n=t(27573),s=t(7653),o=t(18580);let i=s.forwardRef((e,r)=>{let{className:t,type:s,...i}=e;return(0,n.jsx)("input",{type:s,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...i})});i.displayName="Input"},97747:function(e,r,t){"use strict";t.d(r,{_:function(){return c}});var n=t(27573),s=t(7653),o=t(1001),i=t(85145),a=t(18580);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(o.f,{ref:r,className:(0,a.cn)(l(),t),...s})});c.displayName=o.f.displayName},88146:function(e,r,t){"use strict";t.d(r,{default:function(){return s.a}});var n=t(16340),s=t.n(n)},67412:function(e,r,t){"use strict";function n(e){try{if(console.log("Processing payload:",e),!e||!Array.isArray(e.items))return[];return e.items.filter(e=>e.status&&!0===e.status.isEmpty).map(e=>e.name)}catch(e){return console.error("Error processing payload:",e),[]}}t.d(r,{Z:function(){return n}})},1001:function(e,r,t){"use strict";t.d(r,{f:function(){return a}});var n=t(7653),s=t(78378),o=t(27573),i=n.forwardRef((e,r)=>(0,o.jsx)(s.WV.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var a=i}},function(e){e.O(0,[3296,5941,6340,218,1293,1528,1744],function(){return e(e.s=52178)}),_N_E=e.O()}]);