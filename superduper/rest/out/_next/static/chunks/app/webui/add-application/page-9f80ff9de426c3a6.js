(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5834],{59745:function(e,a,l){Promise.resolve().then(l.bind(l,52651))},52651:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return eo}});var i=l(57437),s=l(2265),n=l(65236),r=l(42126),t=l(46260),o=l(10464),d=l(16463),c=l(72498);l(35149),l(24016),l(29390);var v=l(87138),u=l(88726),m=l(11444),h=l(32910),x=l(68639),b=l(56360),p=l(89155),g=l(28590);function N(){(0,m.v9)(e=>e.environment.environmentLoadedValues);let e=(0,m.v9)(e=>{var a;return null==e?void 0:null===(a=e.userInfo)||void 0===a?void 0:a.userInfoLoadedValues}),a=(0,d.useRouter)(),l=(0,m.v9)(e=>e.stack.stackUpdateByIndex),n=(0,m.v9)(e=>e.stack.submittedStack),[r,t]=(0,s.useState)(null),[o,c]=(0,s.useState)(!1),[N,f]=(0,s.useState)(!1),[j,_]=(0,s.useState)(null);function y(){if(!n){u.ZP.error("Error adding application",{id:"form-error"});return}let l=(0,g.Z)();setTimeout(()=>{N||a.push("/webui/add-application?id=".concat(l),void 0,{shallow:!0})},1e3),u.ZP.loading("Adding application...",{id:"adding"});try{fetch("".concat("".concat("http://localhost:8000","/db/apply?id=").concat(l)),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:(0,p.Z)(e),superduper_reverse_proxy:"http://localhost:8000"},body:JSON.stringify(n,null,"	")}).then(e=>{if(!e.ok){if(500===e.status)return e.json().then(e=>{throw console.log("Error response data:",e),_(e),Error("Server error")});throw Error("Network response was not ok")}return e.json()}).then(e=>{u.ZP.dismiss("adding"),console.log("Data from:",e),u.ZP.success("Application added successfully"),setTimeout(()=>{N||a.push("/webui/add-application?id=".concat(l),void 0,{shallow:!0})},1e3)}).catch(e=>{f(!0),console.error("Error fetching API data",e),u.ZP.error("Error adding application",{id:"form-error"}),u.ZP.dismiss("adding")})}catch(e){u.ZP.dismiss("adding"),f(!0),u.ZP.error("Error adding application",{id:"form-error"})}}return l?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,i.jsx)(v.default,{href:"/webui/add-application",children:(0,i.jsx)("button",{type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})}),(0,i.jsx)("button",{onClick:e=>{e.preventDefault,c(!0)},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Add Application"})]}),(0,i.jsx)("br",{}),(0,i.jsx)(x.Vq,{open:o,onOpenChange:()=>c(!1),children:(0,i.jsxs)(x.cZ,{className:"sm:max-w-[768px]",children:[(0,i.jsxs)(x.fK,{children:[(0,i.jsx)(x.$N,{children:"Review the application"}),(0,i.jsx)(x.Be,{children:"This will be added to the database. Please review the application before confirming."})]}),n?(0,i.jsx)(h.Z,{data:n}):"Preparing application...",(0,i.jsx)(x.cN,{children:(0,i.jsx)(b.z,{type:"submit",onClick:()=>{y()},children:"Save changes"})})]})}),(0,i.jsx)(x.Vq,{open:N,onOpenChange:()=>{c(!1),f(!1)},children:(0,i.jsxs)(x.cZ,{className:"sm:max-w-[768px]",children:[(0,i.jsxs)(x.fK,{children:[(0,i.jsx)(x.$N,{children:"Failed Adding Application"}),(0,i.jsx)(x.Be,{children:"Please review the error message and try again."})]}),(0,i.jsx)("strong",{children:"Error Message"}),j?(0,i.jsx)(h.Z,{data:j,height:100}):"Loading ...",(0,i.jsx)("strong",{children:"Submitted"}),n?(0,i.jsx)(h.Z,{data:n,height:"150px"}):"Preparing application...",(0,i.jsx)(x.cN,{children:(0,i.jsx)(b.z,{onClick:()=>{y()},children:"Retry now"})})]})})]}):null}var f=l(24437),j=l(40841),_=l(32695);function y(){let e=(0,m.v9)(e=>e.stack.submittedStack),a=(0,m.v9)(e=>{var a;return null==e?void 0:null===(a=e.stack)||void 0===a?void 0:a.stackSelectedTemplate});(0,m.v9)(e=>e.environment.environmentLoadedValues);let l=(0,m.v9)(e=>{var a;return null==e?void 0:null===(a=e.userInfo)||void 0===a?void 0:a.userInfoLoadedValues}),n=(0,m.I0)(),v=(0,d.useRouter)(),[h,x]=(0,s.useState)("{}"),[b,g]=(0,s.useState)(""),y=async e=>{let a=e.target.files[0];if(a){if("application/json"===a.type){let e=u.ZP.loading("Loading JSON file..."),l=new FileReader;l.onload=a=>{try{let l=JSON.parse(a.target.result);g(JSON.stringify(l,null,2)),x(JSON.stringify(l,null,2)),n((0,f.q7)(l)),u.ZP.success("JSON file loaded successfully!",{id:e})}catch(a){g("Invalid JSON file."),x("Invalid JSON file."),u.ZP.error("Failed to load JSON file.",{id:e})}},l.readAsText(a)}else if("application/zip"===a.type||a.name.endsWith(".zip")){let e=u.ZP.loading("Uploading ZIP file..."),t=new FormData;t.append("raw",a,a.name);try{var i,s;let a=await r.Z.put("".concat("".concat("http://localhost:8000","/db/upload")),t,{headers:{"Content-Type":"multipart/form-data",accept:"application/json",Authorization:(0,p.Z)(l),superduper_reverse_proxy:"http://localhost:8000"}}),o=JSON.parse(JSON.stringify(null==a?void 0:null===(i=a.data)||void 0===i?void 0:i.component));n((0,j.Xs)([...null==a?void 0:null===(s=a.data)||void 0===s?void 0:s.artifacts])),g(JSON.stringify(o,null,2)),x(JSON.stringify(o,null,2)),n((0,f.q7)(o)),u.ZP.success("ZIP file uploaded successfully!",{id:e})}catch(a){u.ZP.error((null==a?void 0:a.message)||"Failed to upload ZIP file.",{id:e,duration:1e4}),console.log("Error uploading ZIP file:",a)}}else g("Please upload a valid JSON or ZIP file."),u.ZP.error("Invalid file type.")}else g("No file selected."),u.ZP.error("No file selected.")},w=(0,s.useRef)(null),S=()=>{v.push("/webui/add-application",void 0,{shallow:!0}),n((0,f.v$)("")),g(""),x(""),n((0,f.q7)(""))};(0,s.useEffect)(()=>{let e=()=>{console.log("Error fetching Services API data. Please check your connection.")};(async()=>{try{let e=await r.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=template")),{headers:{Accept:"application/json",Authorization:(0,p.Z)(l),superduper_reverse_proxy:"http://localhost:8000"}});P([...e.data])}catch(a){e()}})()},[]);let[k,P]=(0,s.useState)(["No template added yet"]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"max-w-3xl",children:[(0,i.jsxs)(o._,{htmlFor:"terms",children:["Select a template"," ",a&&(0,i.jsx)("span",{onClick:S,className:"bg-transparent border-none text-indigo-500 cursor-pointer p-0",children:"(Remove Selection)"})]}),(0,i.jsxs)(t.Ph,{value:a,onValueChange:e=>{S(),n((0,f.v$)(e));let a=()=>{u.ZP.error("Error fetching template API data. Please check your connection. ");let e={error:"Error fetching template API data. No template information found!"};g(JSON.stringify(e,null,2)),x(JSON.stringify(e,null,2)),n((0,f.q7)(e)),console.log("Error fetching template API data. Please check your connection. So returning to fallback data!")};(async()=>{try{let a=await r.Z.get("".concat("".concat("http://localhost:8000","/db/show_template?identifier=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,p.Z)(l),superduper_reverse_proxy:"http://localhost:8000"}});console.log("/webui/restapi/db/show_template?identifier=".concat(e),a.data),n((0,f.q7)(a.data))}catch(e){a()}})()},children:[(0,i.jsx)(t.i4,{className:"w-3/6 mt-2 mb-2",children:(0,i.jsx)(t.ki,{placeholder:"Select a template to populate the JSON field"})}),(0,i.jsx)(t.Bw,{children:(0,i.jsxs)(t.DI,{children:[(0,i.jsx)(t.n5,{children:"Select a template for populating"}),k&&k.map((e,a)=>(0,i.jsx)(t.Ql,{value:e,children:e},a))]})})]})]}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center my-4",children:[(0,i.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,i.jsx)("span",{className:"mx-4 text-gray-500 dark:text-gray-400",children:"OR"}),(0,i.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,i.jsxs)("div",{className:"border-gray-900/10 pb-2",children:[(0,i.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Upload your template json file"}),(0,i.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"You can type or upload a JSON file here to automatically fill in the JSON field."})]})]}),(0,i.jsx)("div",{className:"mt-2 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:(0,i.jsxs)("div",{className:"sm:col-span-3",children:[(0,i.jsx)(c.default,{ref:w,className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Add your JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{x(e);try{let a=JSON.parse(e);n((0,f.q7)(a))}catch(e){}},fontSize:13,showPrintMargin:!0,showGutter:!1,highlightActiveLine:!0,value:e?JSON.stringify(e,null,2):h,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:"500px",width:"200%"}),(0,i.jsx)("input",{type:"file",accept:".json,.zip",className:"block mt-2 w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:y}),(0,i.jsx)("p",{className:"text-xs pl-2 text-muted-foreground",children:"*You can upload a json file to populate the json field. Or you can upload a zip file."})]})}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(_.Z,{}),(0,i.jsx)(N,{})]})}var w=l(77700);let S=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,i.jsx)("textarea",{className:(0,w.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l),ref:a,...s})});S.displayName="Textarea";var k=l(92404),P=l(63617),A=l(51349),C=l(75265);l(31777),l(52994),l(13715);var Z=l(81056);function O(e,a){if(!e||"object"!=typeof e)return{};let l={};for(let[i,s]of Object.entries(e))"string"==typeof s?a&&s in a?l[i]=a[s]:l[i]={type:s}:l[i]=s;return l}function F(e){return e&&"object"==typeof e?Object.keys(e).map(a=>({_variableName:a,...e[a]})):[]}function I(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];return a.filter(Boolean).join(" ")}function J(e,a){return"code"===e?"code":"text-area"===e?"text-area":"str"===e||"string"===e?a?"select":"str":"int"===e?a?"select":"int":"json"===e||"query"==e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e?"multi-select":"complex"===e?"complex":"json"}function q(e){return e.some(e=>!0===e.optional)}var z=function(e){var a,l,n;let{complexField:r}=e,d=(0,m.I0)(),v=(0,m.v9)(e=>e.stack.submittedStack),[h,x]=(0,s.useState)(0),[b,p]=(0,s.useState)(!0),g=(e,a)=>{d((0,f.q7)({...v,_variables:{...v._variables,[r._variableName]:{...v._variables[r._variableName],[a]:e.target.value}}})),x(e=>e+1)},N=(e,a)=>{var l,i,s,n,t,o,c,u,m;d((0,f.q7)({...v,_variables:{...v._variables,[r._variableName]:{...v._variables[r._variableName],[a]:(null==v?void 0:null===(i=v._variables)||void 0===i?void 0:null===(l=i[r._variableName])||void 0===l?void 0:l[a])&&(null==v?void 0:null===(t=v._variables)||void 0===t?void 0:null===(n=t[r._variableName])||void 0===n?void 0:null===(s=n[a])||void 0===s?void 0:s.includes(e.target.value))?[...null==v?void 0:null===(c=v._variables)||void 0===c?void 0:null===(o=c[r._variableName])||void 0===o?void 0:o[a]]:[...(null==v?void 0:null===(m=v._variables)||void 0===m?void 0:null===(u=m[r._variableName])||void 0===u?void 0:u[a])||[],e.target.value]}}})),x(e=>e+1)},j=(e,a)=>{var l,i,s,n;d((0,f.q7)({...v,_variables:{...v._variables,[r._variableName]:{...v._variables[r._variableName],[a]:Array.isArray(null===(i=v._variables)||void 0===i?void 0:null===(l=i[r._variableName])||void 0===l?void 0:l[a])?null===(n=v._variables)||void 0===n?void 0:null===(s=n[r._variableName])||void 0===s?void 0:s[a].filter(a=>a!==e):[]}}})),x(e=>e+1)},_=(e,a)=>{var l;d((0,f.q7)({...v,_variables:{...v._variables,[r._variableName]:{...null==v?void 0:null===(l=v._variables)||void 0===l?void 0:l[null==r?void 0:r._variableName],[a]:!e}}})),x(e=>e+1)},y=(e,a)=>{let l=e.target.value;try{let e=parseInt(l,10);isNaN(e)?u.ZP.error("The value for ".concat(a," must be an integer."),{id:"integer-error"}):(d((0,f.q7)({...v,_variables:{...v._variables,[r._variableName]:{...v._variables[r._variableName],[a]:e}}})),x(e=>e+1))}catch(e){console.error("Error:",e),u.ZP.error("The value for ".concat(a," must be an integer."),{id:"integer-error"})}},w=(e,a)=>{d((0,f.q7)({...v,_variables:{...v._variables,[r._variableName]:{...v._variables[r._variableName],[a]:e}}})),x(e=>e+1)},z=e=>()=>{var a,l,i;d((0,f.q7)({...v,_variables:{...v._variables,[r._variableName]:{...null===(a=v._variables)||void 0===a?void 0:a[null==r?void 0:r._variableName],[e]:(parseInt(null===(i=v._variables)||void 0===i?void 0:null===(l=i[null==r?void 0:r._variableName])||void 0===l?void 0:l[e])||0)+1}}})),x(e=>e+1)},L=e=>()=>{d((0,f.q7)({...v,_variables:{...v._variables,[r._variableName]:{...v._variables[r._variableName],[e]:(parseInt(v._variables[r._variableName][e])||0)-1}}})),x(e=>e+1)},E=e=>null!=e&&!!e.optional&&!!b,T=(e,a)=>{try{let l;""===e?l={}:"string"==typeof e?(l=JSON.parse(e),JSON.stringify(l,null,2)):l={},console.log("Parsed JSON:",l),d((0,f.q7)({...v,_variables:{...v._variables,[r._variableName]:{...v._variables[r._variableName],[a]:l}}}))}catch(l){console.error("Error parsing JSON:",l),d((0,f.q7)({...v,_variables:{...v._variables,[r._variableName]:{...v._variables[r._variableName],[a]:e}}}))}},R=(e,a)=>{try{d((0,f.q7)({...v,_variables:{...v._variables,[r._variableName]:{...v._variables[r._variableName],[a]:e}}}))}catch(l){console.error("Error parsing JSON:",l),d((0,f.q7)({...v,_variables:{...v._variables,[a]:e}}))}};return v?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"mt-4 mb-2 pt-4 rounded-2xl border-4 border-dashed border-gray-900/25 px-6 py-10",children:[(0,i.jsx)("div",{className:"space-y-12",children:(0,i.jsx)("div",{className:"pb-2",children:(0,i.jsx)("div",{className:"flex items-start justify-between",children:(0,i.jsx)("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:(0,i.jsxs)(o._,{className:"text-xl",htmlFor:r._variableName,children:[r._variableName," ",(null==r?void 0:r.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})})})})}),(0,i.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(null==v?void 0:v.schema)&&F(O(null==v?void 0:null===(a=v.types)||void 0===a?void 0:a[null==r?void 0:r.type],null==v?void 0:v.types)).map(e=>{var a,l,n,d,u,m,h,x,b,p,f,O,F,q,B,G,D,U,V,M,$,H,W,Q,Y,K,X,ee,ea,el,ei,es,en;return(0,i.jsxs)(s.Fragment,{children:[console.log("field",e),!E(e)&&"str"===J(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(k.I,{id:e._variableName,value:(null==v?void 0:null===(l=v._variables)||void 0===l?void 0:null===(a=l[null==r?void 0:r._variableName])||void 0===a?void 0:a[null==e?void 0:e._variableName])||"",onChange:a=>g(a,e._variableName),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e._variableName," value here"),autocomplete:"off"})]}),!E(e)&&"text-area"===J(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(S,{id:e._variableName,value:(null==v?void 0:null===(d=v._variables)||void 0===d?void 0:null===(n=d[null==r?void 0:r._variableName])||void 0===n?void 0:n[null==e?void 0:e._variableName])||"",onChange:a=>g(a,e._variableName),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e._variableName," value here"),className:"resize-none",rows:4})]}),!E(e)&&"boolean"===J(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(Z.r.Group,{as:"div",className:"flex items-center",children:[(0,i.jsx)(Z.r,{checked:null==v?void 0:null===(m=v._variables)||void 0===m?void 0:null===(u=m[null==r?void 0:r._variableName])||void 0===u?void 0:u[e._variableName],onChange:()=>{var a,l;return _(null==v?void 0:null===(l=v._variables)||void 0===l?void 0:null===(a=l[null==r?void 0:r._variableName])||void 0===a?void 0:a[e._variableName],e._variableName)},className:I((null==v?void 0:null===(x=v._variables)||void 0===x?void 0:null===(h=x[null==r?void 0:r._variableName])||void 0===h?void 0:h[null==e?void 0:e._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,i.jsx)("span",{"aria-hidden":"true",className:I((null==v?void 0:null===(p=v._variables)||void 0===p?void 0:null===(b=p[null==r?void 0:r._variableName])||void 0===b?void 0:b[e._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,i.jsxs)(Z.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,i.jsx)("span",{className:"font-medium text-gray-900",children:e._variableName})," ",(null==e?void 0:e.optional)?(0,i.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})]})})}),!E(e)&&"multi-select"===J(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"mt-4 mb-2",children:[(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,i.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,i.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==v?void 0:null===(O=v._variables)||void 0===O?void 0:null===(f=O[null==r?void 0:r._variableName])||void 0===f?void 0:f[null==e?void 0:e._variableName])&&(null==v?void 0:null===(q=v._variables)||void 0===q?void 0:null===(F=q[null==r?void 0:r._variableName])||void 0===F?void 0:F[null==e?void 0:e._variableName].length)===0&&(0,i.jsx)("span",{children:"None"})]}),(null==v?void 0:null===(G=v._variables)||void 0===G?void 0:null===(B=G[null==r?void 0:r._variableName])||void 0===B?void 0:B[null==e?void 0:e._variableName])&&(null==v?void 0:null===(U=v._variables)||void 0===U?void 0:null===(D=U[null==r?void 0:r._variableName])||void 0===D?void 0:D[null==e?void 0:e._variableName].map((a,l)=>(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[a,(0,i.jsx)(P.Z,{onClick:()=>j(a,e._variableName),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]}),(0,i.jsx)("br",{})]},a)))]})]}),(0,i.jsxs)("select",{id:e.name,name:e.name,value:"",onChange:a=>N(a,e._variableName),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,i.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),e.choices?null==e?void 0:e.choices.map(e=>(0,i.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==v?void 0:null===(M=v._variables)||void 0===M?void 0:null===(V=M[null==r?void 0:r._variableName])||void 0===V?void 0:V[null==e?void 0:e._variableName]))]}),!E(e)&&"select"===J(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",e.optional?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsxs)(t.Ph,{value:(null==v?void 0:null===(H=v._variables)||void 0===H?void 0:null===($=H[null==r?void 0:r._variableName])||void 0===$?void 0:$[null==e?void 0:e._variableName])||"",onValueChange:a=>w(a,e._variableName),children:[(0,i.jsx)(t.i4,{"aria-label":e._variableName,className:"w-[280px]",children:(0,i.jsx)(t.ki,{placeholder:"Select an option"})}),(0,i.jsx)(t.Bw,{children:(0,i.jsxs)(t.DI,{children:[(0,i.jsxs)(t.n5,{children:["Select ",e._variableName]}),null===(W=e.choices)||void 0===W?void 0:W.map(e=>(0,i.jsx)(t.Ql,{value:e,children:e},e))]})})]})]}),!E(e)&&"int"===J(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsxs)("div",{className:"flex items-center justify-left",children:[(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{type:"button",onClick:L(e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mr-4",children:(0,i.jsx)(A.Z,{className:"h-5 w-5","aria-hidden":"true"})}),(0,i.jsx)("input",{type:"int",className:"w-16 text-center block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",id:e._variableName,value:(null==v?void 0:null===(Y=v._variables)||void 0===Y?void 0:null===(Q=Y[null==r?void 0:r._variableName])||void 0===Q?void 0:Q[e._variableName])||0,onChange:a=>y(a,e._variableName)}),(0,i.jsx)("button",{type:"button",onClick:z(e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,i.jsx)(C.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})]}),!E(e)&&"json"===J(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(c.default,{placeholder:"Here you can pass a dictionary as value. e.g. {key: value}",mode:"json",theme:"twilight",name:e._variableName,onChange:a=>T(a,e._variableName),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==v?void 0:null===(X=v._variables)||void 0===X?void 0:null===(K=X[null==r?void 0:r._variableName])||void 0===K?void 0:K[null==e?void 0:e._variableName])?JSON.stringify(null==v?void 0:null===(ea=v._variables)||void 0===ea?void 0:null===(ee=ea[null==r?void 0:r._variableName])||void 0===ee?void 0:ee[e._variableName],null,"	"):(null==v?void 0:null===(ei=v._variables)||void 0===ei?void 0:null===(el=ei[null==r?void 0:r._variableName])||void 0===el?void 0:el[null==e?void 0:e._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]}),!E(e)&&"code"===J(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(c.default,{placeholder:"Write Python here...",mode:"python",theme:"tomorrow",name:e._variableName,onChange:a=>R(a,e._variableName),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==v?void 0:null===(en=v._variables)||void 0===en?void 0:null===(es=en[null==r?void 0:r._variableName])||void 0===es?void 0:es[null==e?void 0:e._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]})]},e._variableName)}),q(F(O(null==v?void 0:null===(l=v.types)||void 0===l?void 0:l[null==r?void 0:r.type],null==v?void 0:v.types)))&&b&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,i.jsx)("div",{className:"mt-6 flex",children:(0,i.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{p(!b)},children:["Show optional parameters",(0,i.jsx)("span",{"aria-hidden":"true",children:" →"})]})})]}),q(F(O(null==v?void 0:null===(n=v.types)||void 0===n?void 0:n[null==r?void 0:r.type],null==v?void 0:v.types)))&&!b&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,i.jsx)("div",{className:"mt-6 flex",children:(0,i.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{p(!b)},children:["Hide optional parameters",(0,i.jsx)("span",{"aria-hidden":"true",children:" ←"})]})})]})]})]})}):null};let L=(0,l(57818).default)(async()=>{let e=await Promise.resolve().then(l.bind(l,72498));return await Promise.resolve().then(l.t.bind(l,29390,23)),await Promise.resolve().then(l.t.bind(l,52994,23)),await Promise.resolve().then(l.t.bind(l,24016,23)),e},{loadableGenerated:{webpack:()=>[24016]},ssr:!1});function E(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];return a.filter(Boolean).join(" ")}function T(e,a){return"code"===e?"code":"text-area"===e?"text-area":"str"===e||"string"===e?a?"select":"str":"int"===e?a?"select":"int":"json"===e||"query"===e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e||"multiselect"===e?"multi-select":"complex"===e?"complex":"json"}function R(e){var a,l;let{complexFields:n}=e,r=(0,m.I0)(),c=(0,m.v9)(e=>e.stack.submittedStack),v=(0,d.useSearchParams)();(0,d.useRouter)();let u=n[0]._variableName,h=(null===(a=v.get(u))||void 0===a?void 0:a.split(","))||[n[0]._variableName],[x,p]=(0,s.useState)(()=>h.map(e=>n.find(a=>a._variableName===e)||n[0])),[g,N]=(0,s.useState)(Array(n.length).fill(!0)),j=(e,a,l)=>{let i=x[e]._variableName,s=c._variables[i]||[],n=[...s];n[e]={...s[e]||{},[a]:l};let t={...c._variables,[i]:n},o={...c,_variables:t};r((0,f.q7)(o))},_=(e,a,l)=>{var i,s,n,t,o,d,v,u,m;let h=x[l]._variableName;r((0,f.q7)({...c,_variables:{...c._variables,[h]:{...c._variables[h],[a]:(null==c?void 0:null===(s=c._variables)||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i[a])&&(null==c?void 0:null===(o=c._variables)||void 0===o?void 0:null===(t=o[h])||void 0===t?void 0:null===(n=t[a])||void 0===n?void 0:n.includes(e.target.value))?[...null==c?void 0:null===(v=c._variables)||void 0===v?void 0:null===(d=v[h])||void 0===d?void 0:d[a]]:[...(null==c?void 0:null===(m=c._variables)||void 0===m?void 0:null===(u=m[h])||void 0===u?void 0:u[a])||[],e.target.value]}}}))},y=(e,a,l)=>{var i,s,n,t;let o=x[l]._variableName;r((0,f.q7)({...c,_variables:{...c._variables,[o]:{...c._variables[o],[a]:Array.isArray(null===(s=c._variables)||void 0===s?void 0:null===(i=s[o])||void 0===i?void 0:i[a])?null===(t=c._variables)||void 0===t?void 0:null===(n=t[o])||void 0===n?void 0:n[a].filter(a=>a!==e):[]}}}))},w=(e,a,l)=>{j(e,a,!l)},I=(e,a,l)=>{j(e,a,l)},J=(e,a)=>{var l,i,s,n;let r=parseInt(null===(n=c._variables)||void 0===n?void 0:null===(i=n[null===(s=x[e])||void 0===s?void 0:s._variableName])||void 0===i?void 0:null===(l=i[e])||void 0===l?void 0:l[a])||0;j(e,a,r+1)},q=(e,a)=>{var l,i,s,n;let r=parseInt(null===(n=c._variables)||void 0===n?void 0:null===(i=n[null===(s=x[e])||void 0===s?void 0:s._variableName])||void 0===i?void 0:null===(l=i[e])||void 0===l?void 0:l[a])||0;j(e,a,r-1)},z=(e,a,l)=>{try{let i=""===l?{}:JSON.parse(l);j(e,a,i)}catch(i){console.error("Error parsing JSON:",i),j(e,a,l)}},R=(e,a,l)=>{j(e,a,l)},B=e=>{N(a=>{let l=[...a];return l[e]=!l[e],l})},G=e=>{p(a=>a.filter((a,l)=>l!==e));let a={...c._variables};Object.keys(a).forEach(l=>{Array.isArray(a[l])&&(a[l]=a[l].filter((a,l)=>l!==e))});let l={...c,_variables:a};r((0,f.q7)(l));let i=h.filter((a,l)=>l!==e),s=new URL(window.location),n=new URLSearchParams(s.search);n.set(u,i.join(",")),window.history.pushState(null,"","".concat(s.pathname,"?").concat(n.toString()))};return c?(0,i.jsxs)(i.Fragment,{children:[x.map((e,a)=>{var l,n;return(0,i.jsxs)("div",{className:"mt-4 mb-2 pt-4 rounded-2xl border-4 border-dashed border-gray-900/25 px-6 py-10",children:[(0,i.jsx)("div",{className:"space-y-12",children:(0,i.jsx)("div",{className:"pb-2",children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:(0,i.jsxs)(o._,{className:"text-xl",htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),x.length>1&&(0,i.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,i.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 outline ring-2 ring-indigo-500",onClick:()=>G(a),children:[(0,i.jsx)("span",{className:"sr-only",children:"Close"}),(0,i.jsx)(P.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]})})}),(0,i.jsx)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:F(O(null==c?void 0:null===(l=c.types)||void 0===l?void 0:l[null==e?void 0:e.type],null==c?void 0:c.types)).map(l=>{var n,r,d,v,u,m,h,p,N,f,O,F,B,G,D,U,V,M,$,H,W,Q,Y,K,X,ee,ea,el,ei,es,en,er,et,eo,ed,ec,ev,eu,em,eh,ex,eb,ep,eg,eN,ef,ej,e_,ey;return(0,i.jsx)(s.Fragment,{children:(!l.optional||g[a])&&(0,i.jsxs)(i.Fragment,{children:["str"===T(null==l?void 0:l.type,null==l?void 0:l.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:"".concat(a,"-").concat(l._variableName),children:[l._variableName," ",(null==l?void 0:l.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(k.I,{id:"".concat(a,"-").concat(l._variableName),value:(null==c?void 0:null===(d=c._variables)||void 0===d?void 0:null===(r=d[x[a]._variableName])||void 0===r?void 0:null===(n=r[a])||void 0===n?void 0:n[null==l?void 0:l._variableName])||"",onChange:e=>j(a,l._variableName,e.target.value),placeholder:l.default?"Default: ".concat(l.default):"Type the ".concat(l._variableName," value here")})]}),"text-area"===T(null==l?void 0:l.type,null==l?void 0:l.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:"".concat(a,"-").concat(l._variableName),children:[l._variableName," ",(null==l?void 0:l.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(S,{id:"".concat(a,"-").concat(l._variableName),value:(null==c?void 0:null===(m=c._variables)||void 0===m?void 0:null===(u=m[x[a]._variableName])||void 0===u?void 0:null===(v=u[a])||void 0===v?void 0:v[null==l?void 0:l._variableName])||"",onChange:e=>j(a,l._variableName,e.target.value),placeholder:l.default?"Default: ".concat(l.default):"Type the ".concat(l._variableName," value here"),className:"resize-none",rows:4})]}),"multi-select"===T(null==l?void 0:l.type,null==l?void 0:l.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"mt-4 mb-2",children:[(0,i.jsxs)(o._,{htmlFor:l._variableName,children:[l._variableName," ",(null==l?void 0:l.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,i.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,i.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==c?void 0:null===(N=c._variables)||void 0===N?void 0:null===(p=N[x[a]._variableName])||void 0===p?void 0:null===(h=p[a])||void 0===h?void 0:h[null==l?void 0:l._variableName])&&(null==c?void 0:null===(F=c._variables)||void 0===F?void 0:null===(O=F[x[a]._variableName])||void 0===O?void 0:null===(f=O[a])||void 0===f?void 0:f[null==l?void 0:l._variableName].length)===0&&(0,i.jsx)("span",{children:"None"})]}),(null==c?void 0:null===(G=c._variables)||void 0===G?void 0:null===(B=G[null==e?void 0:e._variableName])||void 0===B?void 0:B[null==l?void 0:l._variableName])&&(null==c?void 0:null===(U=c._variables)||void 0===U?void 0:null===(D=U[null==e?void 0:e._variableName])||void 0===D?void 0:D[null==l?void 0:l._variableName].map((e,n)=>(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[e,(0,i.jsx)(P.Z,{onClick:()=>y(e,l._variableName,a),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]}),(0,i.jsx)("br",{})]},e)))]})]}),(0,i.jsxs)("select",{id:l.name,name:l.name,value:"",onChange:e=>_(e,l._variableName,a),placeholder:l.default?"Default: ".concat(l.default):"Type the ".concat(l.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,i.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),l.choices?null==l?void 0:l.choices.map(e=>(0,i.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==c?void 0:null===(M=c._variables)||void 0===M?void 0:null===(V=M[null==e?void 0:e._variableName])||void 0===V?void 0:V[null==l?void 0:l._variableName]))]}),"boolean"===T(null==l?void 0:l.type,null==l?void 0:l.choices)&&(0,i.jsxs)("div",{children:[" ",(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(Z.r.Group,{as:"div",className:"flex items-center",children:[(0,i.jsx)(Z.r,{id:"".concat(a,"-").concat(l._variableName),checked:null==c?void 0:null===(W=c._variables)||void 0===W?void 0:null===(H=W[x[a]._variableName])||void 0===H?void 0:null===($=H[a])||void 0===$?void 0:$[null==l?void 0:l._variableName],onChange:e=>{var i,s,n;return w(a,l._variableName,null==c?void 0:null===(n=c._variables)||void 0===n?void 0:null===(s=n[x[a]._variableName])||void 0===s?void 0:null===(i=s[a])||void 0===i?void 0:i[null==l?void 0:l._variableName])},className:E((null==c?void 0:null===(K=c._variables)||void 0===K?void 0:null===(Y=K[x[a]._variableName])||void 0===Y?void 0:null===(Q=Y[a])||void 0===Q?void 0:Q[null==l?void 0:l._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,i.jsx)("span",{"aria-hidden":"true",className:E((null==c?void 0:null===(ea=c._variables)||void 0===ea?void 0:null===(ee=ea[x[a]._variableName])||void 0===ee?void 0:null===(X=ee[a])||void 0===X?void 0:X[null==l?void 0:l._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,i.jsxs)(Z.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,i.jsx)("span",{className:"font-medium text-gray-900",children:l._variableName})," ",(null==l?void 0:l.optional)?(0,i.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})]})})]},a),"select"===T(null==l?void 0:l.type,null==l?void 0:l.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:"".concat(a,"-").concat(l._variableName),children:[l._variableName," ",l.optional?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsxs)(t.Ph,{value:(null==c?void 0:null===(es=c._variables)||void 0===es?void 0:null===(ei=es[x[a]._variableName])||void 0===ei?void 0:null===(el=ei[a])||void 0===el?void 0:el[null==l?void 0:l._variableName])||"",onValueChange:e=>I(a,l._variableName,e),children:[(0,i.jsx)(t.i4,{className:"w-[280px]",children:(0,i.jsx)(t.ki,{placeholder:"Select an option"})}),(0,i.jsx)(t.Bw,{children:null===(en=l.choices)||void 0===en?void 0:en.map(e=>(0,i.jsx)(t.Ql,{value:e,children:e},e))})]})]}),"int"===T(null==l?void 0:l.type,null==l?void 0:l.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:"".concat(a,"-").concat(l._variableName),children:[l._variableName," ",(null==l?void 0:l.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(b.z,{type:"button",variant:"outline",size:"icon",onClick:()=>q(a,l._variableName),children:(0,i.jsx)(A.Z,{className:"h-4 w-4"})}),(0,i.jsx)(k.I,{type:"number",id:"".concat(a,"-").concat(l._variableName),value:(null==c?void 0:null===(eo=c._variables)||void 0===eo?void 0:null===(et=eo[x[a]._variableName])||void 0===et?void 0:null===(er=et[a])||void 0===er?void 0:er[null==l?void 0:l._variableName])||0,onChange:e=>j(a,l._variableName,parseInt(e.target.value)),className:"w-20 text-center"}),(0,i.jsx)(b.z,{type:"button",variant:"outline",size:"icon",onClick:()=>J(a,l._variableName),children:(0,i.jsx)(C.Z,{className:"h-4 w-4"})})]})]}),"json"===T(null==l?void 0:l.type,null==l?void 0:l.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:"".concat(a,"-").concat(l._variableName),children:[l._variableName," ",(null==l?void 0:l.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(L,{mode:"json",theme:"github",name:"".concat(a,"-").concat(l._variableName),onChange:e=>z(a,l._variableName,e),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==c?void 0:null===(eu=c._variables)||void 0===eu?void 0:null===(ec=eu[null==x?void 0:null===(ev=x[a])||void 0===ev?void 0:ev._variableName])||void 0===ec?void 0:null===(ed=ec[a])||void 0===ed?void 0:ed[null==l?void 0:l._variableName])?JSON.stringify(null==c?void 0:null===(eb=c._variables)||void 0===eb?void 0:null===(eh=eb[null==x?void 0:null===(ex=x[a])||void 0===ex?void 0:ex._variableName])||void 0===eh?void 0:null===(em=eh[a])||void 0===em?void 0:em[null==l?void 0:l._variableName],null,2):(null==c?void 0:null===(ef=c._variables)||void 0===ef?void 0:null===(eg=ef[null==x?void 0:null===(eN=x[a])||void 0===eN?void 0:eN._variableName])||void 0===eg?void 0:null===(ep=eg[a])||void 0===ep?void 0:ep[null==l?void 0:l._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]}),"code"===T(null==l?void 0:l.type,null==l?void 0:l.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:"".concat(a,"-").concat(l._variableName),children:[l._variableName," ",(null==l?void 0:l.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(L,{mode:"python",theme:"github",name:"".concat(a,"-").concat(l._variableName),onChange:e=>R(a,l._variableName,e),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==c?void 0:null===(ey=c._variables)||void 0===ey?void 0:null===(e_=ey[x[a]._variableName])||void 0===e_?void 0:null===(ej=e_[a])||void 0===ej?void 0:ej[null==l?void 0:l._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]})]})},l._variableName)})}),F(O(null==c?void 0:null===(n=c.types)||void 0===n?void 0:n[null==e?void 0:e.type],null==c?void 0:c.types)).some(e=>!0===e.optional)&&(0,i.jsx)("div",{className:"mt-6 flex",children:(0,i.jsxs)(b.z,{variant:"link",onClick:()=>B(a),children:[g[a]?"Hide":"Show"," optional parameters"]})})]},a)}),(null===(l=x[0])||void 0===l?void 0:l.sequence)>0&&(0,i.jsx)("div",{className:"flex items-center justify-center mt-6",children:(0,i.jsx)("button",{type:"button",onClick:()=>{let e=n[0];p(a=>[...a,e]);let a=[...h,e._variableName],l=new URL(window.location),i=new URLSearchParams(l.search);i.set(u,a.join(",")),window.history.pushState(null,"","".concat(l.pathname,"?").concat(i.toString()))},className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,i.jsx)(C.Z,{className:"h-5 w-5","aria-hidden":"true"})})})]}):null}var B=l(25797),G=e=>{let{header:a="Edit now",description:l="Edit these fields",children:n}=e,[r,t]=s.useState(!1);return(0,i.jsxs)("div",{className:"w-full border border-border rounded-lg shadow-sm flex justify-between items-center p-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold",children:a}),(0,i.jsxs)(x.Vq,{open:r,onOpenChange:t,children:[(0,i.jsx)(b.z,{variant:"outline",size:"sm",onClick:()=>t(!0),children:"Edit Now"}),(0,i.jsxs)(x.cZ,{className:"sm:max-w-[425px]",children:[(0,i.jsxs)(x.fK,{children:[(0,i.jsx)(x.$N,{children:a}),(0,i.jsx)(x.Be,{children:l})]}),(0,i.jsx)(B.x,{className:"h-[300px] w-full rounded-md border p-4",children:n}),(0,i.jsx)(x.cN,{children:(0,i.jsx)(b.z,{onClick:()=>t(!1),children:"Close"})})]})]})]})},D=l(10273),U=l(74109),V=l(77515);function M(){let[e,a]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=setTimeout(()=>{a(!1)},2e3);return()=>clearTimeout(e)},[]),(0,i.jsx)(D.Zb,{className:"w-full max-w-md",children:(0,i.jsx)(D.aY,{className:"flex items-center space-x-4 p-6",children:e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U.Z,{className:"h-10 w-10 text-primary animate-spin"}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"Loading..."}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please wait while we check for schemas."})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(V.Z,{className:"h-10 w-10 text-yellow-500"}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"No schema found"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please use JSON to create the application."})]})]})})})}function $(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];return a.filter(Boolean).join(" ")}function H(e,a){return"code"===e?"code":"text-area"===e?"text-area":"str"===e||"string"===e?a?"select":"str":"int"===e?a?"select":"int":"json"===e||"query"==e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e?"multi-select":"complex"}function W(e){return e.some(e=>!0===e.optional)}var Q=function(){let e=(0,m.I0)(),a=(0,m.v9)(e=>e.stack.stackSelectedTemplate),l=(0,m.v9)(e=>e.stack.submittedStack),[n,r]=(0,s.useState)(0),[t,d]=(0,s.useState)(!0),v=(a,i)=>{e((0,f.q7)({...l,_variables:{...l._variables,[i]:a.target.value}})),r(e=>e+1)},h=(a,i)=>{var s,n,t,o,d;e((0,f.q7)({...l,_variables:{...l._variables,[i]:(null==l?void 0:null===(s=l._variables)||void 0===s?void 0:s[i])&&(null==l?void 0:null===(t=l._variables)||void 0===t?void 0:null===(n=t[i])||void 0===n?void 0:n.includes(a.target.value))?[...null==l?void 0:null===(o=l._variables)||void 0===o?void 0:o[i]]:[...(null==l?void 0:null===(d=l._variables)||void 0===d?void 0:d[i])||[],a.target.value]}})),r(e=>e+1)},x=(a,i)=>{var s;e((0,f.q7)({...l,_variables:{...l._variables,[i]:Array.isArray(null===(s=l._variables)||void 0===s?void 0:s[i])?l._variables[i].filter(e=>e!==a):[]}})),r(e=>e+1)},b=a=>{e((0,f.q7)({...l,identifier:a.target.value})),r(e=>e+1)},p=(a,i)=>{e((0,f.q7)({...l,_variables:{...l._variables,[i]:!a}})),r(e=>e+1)},g=(a,i)=>{let s=a.target.value;try{let a=parseInt(s,10);isNaN(a)?u.ZP.error("The value for ".concat(i," must be an integer."),{id:"integer-error"}):(e((0,f.q7)({...l,_variables:{...l._variables,[i]:a}})),r(e=>e+1))}catch(e){console.error("Error:",e),u.ZP.error("The value for ".concat(i," must be an integer."),{id:"integer-error"})}},N=a=>()=>{e((0,f.q7)({...l,_variables:{...l._variables,[a]:(parseInt(l._variables[a])||0)+1}})),r(e=>e+1)},j=a=>()=>{e((0,f.q7)({...l,_variables:{...l._variables,[a]:(parseInt(l._variables[a])||0)-1}})),r(e=>e+1)},_=e=>null!=e&&!!e.optional&&!!t,y=(a,i)=>{try{let s;""===a?s={}:"string"==typeof a?(s=JSON.parse(a),JSON.stringify(s,null,2)):s={},console.log("Parsed JSON:",s),e((0,f.q7)({...l,_variables:{...l._variables,[i]:s}}))}catch(s){console.error("Error parsing JSON:",s),e((0,f.q7)({...l,_variables:{...l._variables,[i]:a}}))}},w=(a,i)=>{try{e((0,f.q7)({...l,_variables:{...l._variables,[i]:a}}))}catch(s){console.error("Error parsing JSON:",s),e((0,f.q7)({...l,_variables:{...l._variables,[i]:a}}))}};return l?!a||(null==l?void 0:l.schema)?(0,i.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(null==l?void 0:l.schema)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-2 mb-2",children:(0,i.jsxs)(o._,{htmlFor:"identifier",children:["identifier",(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(k.I,{id:"identifier",value:(null==l?void 0:l.identifier)||"",onChange:e=>b(e),placeholder:"<enter-a-unique-identifier>",autocomplete:"off"})]}),(null==l?void 0:l.schema)&&F(O(null==l?void 0:l.schema,null==l?void 0:l.types)).map(e=>{var a,n,r,t,d,u,m,b,f,O,F,I,J,q,L;return(0,i.jsxs)(s.Fragment,{children:[!_(e)&&"str"===H(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(k.I,{id:e._variableName,value:(null==l?void 0:null===(a=l._variables)||void 0===a?void 0:a[e._variableName])||"",onChange:a=>v(a,e._variableName),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e._variableName," value here"),autocomplete:"off"})]}),!_(e)&&"text-area"===H(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(S,{id:e._variableName,value:(null==l?void 0:null===(n=l._variables)||void 0===n?void 0:n[e._variableName])||"",onChange:a=>v(a,e._variableName),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e._variableName," value here"),className:"resize-none",rows:4})]}),!_(e)&&"boolean"===H(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(Z.r.Group,{as:"div",className:"flex items-center",children:[(0,i.jsx)(Z.r,{checked:null==l?void 0:null===(r=l._variables)||void 0===r?void 0:r[e._variableName],onChange:()=>{var a;return p(null==l?void 0:null===(a=l._variables)||void 0===a?void 0:a[e._variableName],e._variableName)},className:$((null==l?void 0:null===(t=l._variables)||void 0===t?void 0:t[e._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,i.jsx)("span",{"aria-hidden":"true",className:$((null==l?void 0:null===(d=l._variables)||void 0===d?void 0:d[e._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,i.jsxs)(Z.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,i.jsx)("span",{className:"font-medium text-gray-900",children:e._variableName})," ",(null==e?void 0:e.optional)?(0,i.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})]})})}),!_(e)&&"multi-select"===H(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"mt-4 mb-2",children:[(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,i.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,i.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==l?void 0:null===(u=l._variables)||void 0===u?void 0:u[e._variableName])&&(null==l?void 0:null===(m=l._variables)||void 0===m?void 0:m[e._variableName].length)===0&&(0,i.jsx)("span",{children:"None"})]}),(null==l?void 0:null===(b=l._variables)||void 0===b?void 0:b[e._variableName])&&(null==l?void 0:null===(f=l._variables)||void 0===f?void 0:f[e._variableName].map((a,l)=>(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[a,(0,i.jsx)(P.Z,{onClick:()=>x(a,e._variableName),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]}),(0,i.jsx)("br",{})]},a)))]})]}),(0,i.jsxs)("select",{id:e.name,name:e.name,value:"",onChange:a=>h(a,e._variableName),placeholder:e.default?"Default: ".concat(e.default):"Type the ".concat(e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,i.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),e.choices?null==e?void 0:e.choices.map(e=>(0,i.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==l?void 0:null===(O=l._variables)||void 0===O?void 0:O[e._variableName]))]}),!_(e)&&"int"===H(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsxs)("div",{className:"flex items-center justify-left",children:[(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{type:"button",onClick:j(e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mr-4",children:(0,i.jsx)(A.Z,{className:"h-5 w-5","aria-hidden":"true"})}),(0,i.jsx)("input",{type:"int",className:"w-16 text-center block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",id:e._variableName,value:(null==l?void 0:null===(F=l._variables)||void 0===F?void 0:F[e._variableName])||0,onChange:a=>g(a,e._variableName)}),(0,i.jsx)("button",{type:"button",onClick:N(e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,i.jsx)(C.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})]}),!_(e)&&"json"===H(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(c.default,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Here you can pass a dictionary as value. e.g. {key: value}",mode:"json",theme:"twilight",name:e._variableName,onChange:a=>y(a,e._variableName),fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==l?void 0:null===(I=l._variables)||void 0===I?void 0:I[e._variableName])?JSON.stringify(null==l?void 0:null===(J=l._variables)||void 0===J?void 0:J[e._variableName],null,"	"):(null==l?void 0:null===(q=l._variables)||void 0===q?void 0:q[e._variableName])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,style:{width:"100%",height:"200px"}})]}),!_(e)&&"code"===H(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-4 mb-2",children:(0,i.jsxs)(o._,{htmlFor:e._variableName,children:[e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,i.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,i.jsx)(c.default,{className:"mt-2 rounded-md border-2 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Write Python here...",mode:"python",theme:"tomorrow",name:e._variableName,onChange:a=>w(a,e._variableName),fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==l?void 0:null===(L=l._variables)||void 0===L?void 0:L[e._variableName])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,style:{width:"100%",height:"200px"}})]}),!_(e)&&"complex"===H(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,i.jsxs)("div",{children:[(0,i.jsx)("br",{}),(0,i.jsx)(G,{header:e._variableName,className:"mt-4",children:(null==e?void 0:e.sequence)?(0,i.jsx)(R,{complexFields:[e]}):(0,i.jsx)(z,{complexField:e})})]})]},e._variableName)}),W(F(O(null==l?void 0:l.schema,null==l?void 0:l.types)))&&t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,i.jsx)("div",{className:"mt-6 flex",children:(0,i.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{d(!t)},children:["Show optional parameters",(0,i.jsx)("span",{"aria-hidden":"true",children:" →"})]})})]}),W(F(O(null==l?void 0:l.schema,null==l?void 0:l.types)))&&!t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,i.jsx)("div",{className:"mt-6 flex",children:(0,i.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{d(!t)},children:["Hide optional parameters",(0,i.jsx)("span",{"aria-hidden":"true",children:" ←"})]})})]})]}):(0,i.jsx)(M,{}):null};function Y(){let e=(0,d.useRouter)();(0,m.v9)(e=>e.environment.environmentLoadedValues);let a=(0,m.v9)(e=>e.stack.stackSelectedTemplate),l=(0,m.v9)(e=>{var a;return null==e?void 0:null===(a=e.userInfo)||void 0===a?void 0:a.userInfoLoadedValues}),n=(0,m.I0)(),[c,v]=(0,s.useState)("{}"),[h,x]=(0,s.useState)({}),b=()=>{e.push("/webui/add-application",void 0,{shallow:!0}),n((0,f.v$)("")),v(""),x({}),n((0,f.q7)(""))};(0,s.useEffect)(()=>{let e=()=>{console.log("Error fetching Services API data. Please check your connection.")};(async()=>{try{let e=await r.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=template")),{headers:{Accept:"application/json",Authorization:(0,p.Z)(l),superduper_reverse_proxy:"http://localhost:8000"}});j([...e.data])}catch(a){e()}})()},[]);let[g,j]=(0,s.useState)(["No template added yet"]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"max-w-3xl",children:[(0,i.jsxs)(o._,{htmlFor:"terms",children:["Select a template"," ",a&&(0,i.jsx)("span",{onClick:b,className:"bg-transparent border-none text-indigo-500 cursor-pointer p-0",children:"(Remove Selection)"})]}),(0,i.jsxs)(t.Ph,{value:a,onValueChange:e=>{b(),n((0,f.v$)(e));let a=()=>{u.ZP.error("Error fetching template API data. Please check your connection. ");let e={error:"Error fetching template API data. No template information found!"};v(JSON.stringify(e,null,2)),n((0,f.q7)(e)),console.log("Error fetching template API data. Please check your connection. So returning to fallback data!")};(async()=>{try{let a=await r.Z.get("".concat("".concat("http://localhost:8000","/db/show_template?identifier=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,p.Z)(l),superduper_reverse_proxy:"http://localhost:8000"}});console.log("/webui/restapi/db/show_template?identifier=".concat(e),a.data),n((0,f.q7)(a.data))}catch(e){a()}})()},children:[(0,i.jsx)(t.i4,{className:"w-3/6 mt-2 mb-2",children:(0,i.jsx)(t.ki,{placeholder:"Select a template"})}),(0,i.jsx)(t.Bw,{children:(0,i.jsxs)(t.DI,{children:[(0,i.jsx)(t.n5,{children:"Select a template"}),g&&g.map((e,a)=>(0,i.jsx)(t.Ql,{value:e,children:e},a))]})})]})]}),(0,i.jsx)("br",{}),(0,i.jsx)(Q,{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(N,{})]})}var K=l(95137),X=l(97063),ee=l(71106),ea=l(28165),el=l(44378),ei=l(73772);function es(e){let{id:a="default-id",onGoBack:l=()=>{}}=e,[n,r]=(0,s.useState)([]),[t,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(null),[v,u]=(0,s.useState)(!1),m=(0,s.useRef)(null),h=async()=>{o(!0),c(null),r([]);try{let e=await fetch("".concat("http://localhost:8000","/stdout?id=").concat(a));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let l=e.body.getReader(),i=new TextDecoder;for(;;){let{value:e,done:a}=await l.read();if(a){console.log("Stream complete");break}let s=i.decode(e,{stream:!0}).split("\n").filter(e=>""!==e.trim());r(e=>[...e,...s]),o(!1)}}catch(e){console.error("Error fetching logs:",e),c("Failed to fetch logs: ".concat(e.message))}finally{o(!1)}};return(0,s.useEffect)(()=>(h(),()=>{}),[a]),(0,s.useEffect)(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[n]),(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,i.jsx)("div",{className:"py-4 w-full max-w-7xl",children:(0,i.jsx)("a",{href:"/webui/application",onClick:l,children:(0,i.jsxs)(b.z,{className:"flex items-center space-x-2",children:[(0,i.jsx)(K.Z,{className:"mr-2 h-4 w-4"}),(0,i.jsx)("span",{children:"Go back"})]})})}),(0,i.jsx)("div",{className:"w-full max-w-7xl bg-white shadow-lg rounded-lg overflow-hidden",children:(0,i.jsx)("div",{className:"w-full bg-gray-900 ".concat(v?"fixed inset-0 z-50":"min-h-0"),children:(0,i.jsxs)("div",{className:"w-full flex flex-col h-full",children:[(0,i.jsxs)("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-b border-gray-700",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,i.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,i.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),(0,i.jsxs)("span",{className:"text-gray-300 ml-4 font-mono",children:["Terminal - Apply Application Logs (",a,")"]})]}),(0,i.jsx)("button",{onClick:()=>{u(!v)},className:"text-gray-400 hover:text-gray-200",children:v?(0,i.jsx)(X.Z,{className:"w-5 h-5"}):(0,i.jsx)(ee.Z,{className:"w-5 h-5"})})]}),(0,i.jsx)("div",{className:"p-4 overflow-hidden ".concat(v?"flex-1":"h-[400px]"),children:t?(0,i.jsxs)("div",{className:"flex items-center space-x-2 text-gray-300",children:[(0,i.jsx)(ea.Z,{className:"animate-spin"}),(0,i.jsx)("span",{className:"font-mono",children:"Initializing terminal session..."})]}):d?(0,i.jsxs)("div",{className:"text-red-400 space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 font-mono",children:[(0,i.jsx)(V.Z,{className:"w-5 h-5"}),(0,i.jsxs)("span",{children:["Error: ",d]})]}),(0,i.jsxs)("button",{onClick:h,className:"flex items-center space-x-2 px-3 py-1 bg-gray-700 text-gray-200 rounded hover:bg-gray-600 font-mono",children:[(0,i.jsx)(el.Z,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Retry Connection"})]})]}):n.length>0?(0,i.jsx)("div",{ref:m,className:"font-mono text-sm text-green-400 overflow-y-auto h-full",children:n.map((e,a)=>(0,i.jsx)("div",{className:"whitespace-pre-wrap py-0.5 border-b border-gray-800/50 last:border-0",children:e},a))}):(0,i.jsx)("div",{className:"text-gray-500 font-mono",children:"No logs available. Waiting for data..."})}),(0,i.jsx)("div",{className:"bg-gray-800 p-2 border-t border-gray-700",children:(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 font-mono",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(ei.Z,{className:"w-4 h-4 text-green-500"}),(0,i.jsx)("span",{children:"Connected to logs"})]}),(0,i.jsx)("span",{children:new Date().toLocaleTimeString()})]})})]})})})]})}var en=l(11340);function er(){let e=(0,d.useSearchParams)().get("id");return e?(0,i.jsx)(es,{id:e}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"mx-auto max-w-3xl",children:[(0,i.jsx)(en.aG,{children:(0,i.jsxs)(en.Jb,{children:[(0,i.jsx)(en.gN,{children:(0,i.jsx)(en.At,{href:"/webui",children:"Home"})}),(0,i.jsx)(en.bg,{}),(0,i.jsx)(en.gN,{children:(0,i.jsx)(en.At,{href:"/webui/application",children:"Application"})}),(0,i.jsx)(en.bg,{}),(0,i.jsx)(en.gN,{children:(0,i.jsx)(en.AG,{children:(0,i.jsx)("a",{href:"/webui/application",children:"Add Application"})})})]})}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{className:"space-y-0",children:(0,i.jsx)("div",{className:"border-gray-900/10 pb-2",children:(0,i.jsx)("h1",{className:"text-base font-semibold leading-7 text-gray-900",children:"Create a new application"})})}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{className:"space-y-12",children:(0,i.jsxs)("div",{className:"border-gray-900/10 pb-2",children:[(0,i.jsx)("h1",{className:"text-base font-semibold leading-7 text-gray-900",children:"Select Application Creation Method"}),(0,i.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"You can select UI to add applications with forms or upload a JSON file to create applications."})]})}),(0,i.jsx)("br",{}),(0,i.jsxs)(n.mQ,{defaultValue:"UI",className:"w-full",children:[(0,i.jsxs)(n.dr,{className:"grid w-full grid-cols-2",children:[(0,i.jsx)(n.SP,{value:"UI",children:"UI"}),(0,i.jsx)(n.SP,{value:"JSON",children:"JSON"})]}),(0,i.jsxs)(n.nU,{value:"UI",children:[(0,i.jsx)("br",{}),(0,i.jsx)(Y,{})]}),(0,i.jsxs)(n.nU,{value:"JSON",children:[(0,i.jsx)("br",{}),(0,i.jsx)(y,{})]})]})]})})}var et=l(7989),eo=(0,l(22282).N)(function(){return(0,i.jsx)(et.Z,{activeNavItem:"/webui/application",children:(0,i.jsx)("main",{className:"py-10",children:(0,i.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,i.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,i.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,i.jsx)(er,{})})})})})})})},11340:function(e,a,l){"use strict";l.d(a,{AG:function(){return u},At:function(){return v},Jb:function(){return d},aG:function(){return o},bg:function(){return m},gN:function(){return c}});var i=l(57437),s=l(2265),n=l(4867),r=l(71538),t=l(77700);let o=s.forwardRef((e,a)=>{let{...l}=e;return(0,i.jsx)("nav",{ref:a,"aria-label":"breadcrumb",...l})});o.displayName="Breadcrumb";let d=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,i.jsx)("ol",{ref:a,className:(0,t.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",l),...s})});d.displayName="BreadcrumbList";let c=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,i.jsx)("li",{ref:a,className:(0,t.cn)("inline-flex items-center gap-1.5",l),...s})});c.displayName="BreadcrumbItem";let v=s.forwardRef((e,a)=>{let{asChild:l,className:s,...n}=e,o=l?r.g7:"a";return(0,i.jsx)(o,{ref:a,className:(0,t.cn)("transition-colors hover:text-foreground",s),...n})});v.displayName="BreadcrumbLink";let u=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,i.jsx)("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:(0,t.cn)("font-normal text-foreground",l),...s})});u.displayName="BreadcrumbPage";let m=e=>{let{children:a,className:l,...s}=e;return(0,i.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,t.cn)("[&>svg]:size-3.5",l),...s,children:null!=a?a:(0,i.jsx)(n.XCv,{})})};m.displayName="BreadcrumbSeparator"},46260:function(e,a,l){"use strict";l.d(a,{Bw:function(){return h},DI:function(){return d},Ph:function(){return o},Ql:function(){return b},i4:function(){return v},ki:function(){return c},n5:function(){return x}});var i=l(57437),s=l(2265),n=l(4867),r=l(48297),t=l(77700);let o=r.fC,d=r.ZA,c=r.B4,v=s.forwardRef((e,a)=>{let{className:l,children:s,...o}=e;return(0,i.jsxs)(r.xz,{ref:a,className:(0,t.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",l),...o,children:[s,(0,i.jsx)(r.JO,{asChild:!0,children:(0,i.jsx)(n.jnn,{className:"h-4 w-4 opacity-50"})})]})});v.displayName=r.xz.displayName;let u=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,i.jsx)(r.u_,{ref:a,className:(0,t.cn)("flex cursor-default items-center justify-center py-1",l),...s,children:(0,i.jsx)(n.g8U,{})})});u.displayName=r.u_.displayName;let m=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,i.jsx)(r.$G,{ref:a,className:(0,t.cn)("flex cursor-default items-center justify-center py-1",l),...s,children:(0,i.jsx)(n.v4q,{})})});m.displayName=r.$G.displayName;let h=s.forwardRef((e,a)=>{let{className:l,children:s,position:n="popper",...o}=e;return(0,i.jsx)(r.h_,{children:(0,i.jsxs)(r.VY,{ref:a,className:(0,t.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",l),position:n,...o,children:[(0,i.jsx)(u,{}),(0,i.jsx)(r.l_,{className:(0,t.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,i.jsx)(m,{})]})})});h.displayName=r.VY.displayName;let x=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,i.jsx)(r.__,{ref:a,className:(0,t.cn)("px-2 py-1.5 text-sm font-semibold",l),...s})});x.displayName=r.__.displayName;let b=s.forwardRef((e,a)=>{let{className:l,children:s,...o}=e;return(0,i.jsxs)(r.ck,{ref:a,className:(0,t.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),...o,children:[(0,i.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(r.wU,{children:(0,i.jsx)(n.nQG,{className:"h-4 w-4"})})}),(0,i.jsx)(r.eT,{children:s})]})});b.displayName=r.ck.displayName,s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,i.jsx)(r.Z0,{ref:a,className:(0,t.cn)("-mx-1 my-1 h-px bg-muted",l),...s})}).displayName=r.Z0.displayName},32695:function(e,a,l){"use strict";var i=l(57437),s=l(2265),n=l(11444),r=l(21125),t=l(56360);function o(e){return(0,i.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"m6 9 6 6 6-6"})})}function d(e){return(0,i.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"m18 15-6-6-6 6"})})}a.Z=()=>{let e=(0,n.v9)(e=>e.uploadFiles.uploadFilesLoadedValues||[]),[a,l]=(0,s.useState)(!1),[c,v]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{0===e.length||c||l(!0)},[e,c]),(0,i.jsxs)("div",{children:[(0,i.jsxs)(t.z,{variant:"secondary",onClick:()=>{l(!a),v(!0)},children:["Upload Artifact",a?(0,i.jsx)(d,{className:"ml-2 h-4 w-4"}):(0,i.jsx)(o,{className:"ml-2 h-4 w-4"})]}),(a||!c&&0!==e.length)&&(0,i.jsx)("div",{className:"col-span-full mt-2",children:(0,i.jsx)(r.Z,{})})]})}},32910:function(e,a,l){"use strict";l.d(a,{Z:function(){return d}});var i=l(57437),s=l(2265),n=l(72498);l(35149),l(24016),l(29390);var r=l(11444),t=l(24437),o=l(88726);function d(e){let{data:a,height:l="300px"}=e,d=(0,r.I0)(),[c,v]=(0,s.useState)(JSON.stringify(a,null,"	"));return(0,s.useRef)(null),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.default,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Stack result JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{try{v(e),d((0,t.q7)(JSON.parse(e)))}catch(e){o.ZP.error("Error updating...",{id:"stack-update-error"})}},fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:c,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:l,width:"100%"})})}}},function(e){e.O(0,[8310,2408,8726,5641,9743,231,2126,9192,2447,8659,8297,4731,7769,3376,2710,5901,2237,5932,2971,7023,1744],function(){return e(e.s=59745)}),_N_E=e.O()}]);