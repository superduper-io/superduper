(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6332],{24286:function(e,t,a){Promise.resolve().then(a.bind(a,56999))},56999:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var r=a(27573),s=a(70790),n=a(13908),o=a(5772),i=a(412),l=a(45246),d=a(7653),c=a(80840),u=a(87285),p=a(92859),h=a(93296),m=a(7109);function v(e){return e.filter(e=>"template"===e.type_id)}function x(){(0,i.v9)(e=>e.environment.environmentLoadedValues);let e=(0,i.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),[t,a]=(0,d.useState)(null),[l,x]=(0,d.useState)(null),f=async t=>{try{h.ZP.loading("Fetching latest data",{id:"fetching",position:"bottom-center"});let t=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show")),{headers:{Accept:"application/json",Authorization:(0,m.Z)(e),superduper_reverse_proxy:"http://localhost:8000"}});return console.log("/db/show/ API data:",t.data),h.ZP.dismiss("fetching"),t.data}catch(e){h.ZP.dismiss("fetching"),console.error("Error fetching Services API data")}},j=e=>{let t={};return e.forEach((e,a)=>{let r=e.type_id;t[r]||(t[r]={type_id:r,payload:[]}),t[r].payload.push({id:a+1,identifier:e.identifier,type_id:e.type_id,status:"online",timestamp:"Retrieved 1 minute ago"})}),Object.values(t)},{data:g,error:y}=(0,s.ZP)("".concat("".concat("http://localhost:8000","/db/show")),f,{refreshInterval:6e4,shouldRetryOnError:!1});(0,d.useEffect)(()=>{g?(a(j(g.filter(e=>"application"!==e.type_id))),x(j(v(g)))):(a(j(v([]))),x(j(v([]))))},[g,y]);let[b,Z]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{if(l&&0===l.length){let e=setTimeout(()=>{Z(!0)},1e3);return()=>clearTimeout(e)}Z(!1)},[l]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{title:"Templates",description:"See, add and delete AI app and workflow templates which you can use to create applications.",buttonText:"Add Template",buttonLink:"/webui/add-template"}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{children:[l?l.length>0?l.map((e,t)=>(0,r.jsx)(c.Z,{data:e},t)):!b&&(0,r.jsx)(o.Z,{}):(0,r.jsx)(o.Z,{}),b&&(0,r.jsx)(u.Z,{header:"No Template Found",description:"Get started by adding a new custom template.",createDeployment:"hide"})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})}let{getReasonPhrase:f}=a(70194);function j(){(0,i.v9)(e=>e.environment.environmentLoadedValues);let e=(0,i.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),t=async t=>{try{return(await n.Z.get(t,{headers:{Accept:"application/json",Authorization:(0,m.Z)(e),superduper_reverse_proxy:"http://localhost:8000"}})).data}catch(e){var a,r;throw{status:(null===(a=e.response)||void 0===a?void 0:a.status)||500,message:(null===(r=e.response)||void 0===r?void 0:r.data)||"An unexpected error occurred"}}},{data:a,error:d}=(0,s.ZP)("".concat("".concat("http://localhost:8000","/health")),t,{refreshInterval:3e4,shouldRetryOnError:!1});if(!a&&!d)return(0,r.jsx)(o.Z,{times:6});if(d){console.error("Error Details:",d);let e=d.status||404,t=f(e)||"Service Unavailable";return(0,r.jsx)(l.Z,{header:"REST API",shortMessage:t,status:e,description:"Status: ".concat(e,", Message: ").concat("string"==typeof d.message?d.message:JSON.stringify(d.message))})}return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x,{})})}var g=a(70007),y=a(50233),b=(0,a(4867).N)(function(){return(0,r.jsx)(y.Z,{children:(0,r.jsx)(g.Z,{activeNavItem:"/webui/templates",children:(0,r.jsx)("main",{className:"py-10",children:(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,r.jsx)(j,{})})})})})})})})}},function(e){e.O(0,[5458,7441,3296,8320,8374,3908,5383,6600,6700,7888,9345,6096,9769,935,3030,8130,8509,1293,1528,1744],function(){return e(e.s=24286)}),_N_E=e.O()}]);