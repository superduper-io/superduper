(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5834],{69386:function(e,l,i){Promise.resolve().then(i.bind(i,7038))},7038:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return ek}});var a=i(27573),o=i(7653),n=i(13908),s=i(63052),r=i(97747),t=i(81695),d=i(22392);i(40020),i(19234),i(83346);var c=i(88146),v=i(93296),u=i(412),m=i(87191),h=i(24776),p=i(36531),x=i(7109),b=i(63612),f=i(74859);function g(e){let{simple:l=!1}=e,i=(0,t.useSearchParams)(),n=i.get("identifier"),s=i.get("type_id");(0,u.v9)(e=>e.environment.environmentLoadedValues);let r=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues});(0,t.useRouter)();let d=(0,u.v9)(e=>e.stack.stackUpdateByIndex),g=(0,u.v9)(e=>e.stack.submittedStack),[N,j]=(0,o.useState)(null),[y,_]=(0,o.useState)(!1),[w,k]=(0,o.useState)(!1),[S,A]=(0,o.useState)(null);function Z(){if(!g){v.ZP.error("Error adding application",{id:"form-error"});return}let e=(0,b.Z)();v.ZP.loading("Adding application...",{id:"adding"});try{fetch("".concat("".concat("http://localhost:8000","/db/apply?id=").concat(e)),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:(0,x.Z)(r),superduper_reverse_proxy:"http://localhost:8000"},body:JSON.stringify(g,null,"	")}).then(e=>{if(!e.ok){if(500===e.status)return e.json().then(e=>{throw console.log("Error response data:",e),A(e),Error("Server error")});throw Error("Network response was not ok")}return e.json()}).then(l=>{v.ZP.dismiss("adding"),console.log("Data from:",l),v.ZP.success("Application added successfully"),setTimeout(()=>{w||("true"===f.env.NEXT_PUBLIC_SNOWFLAKE?window.location.assign("/webui/add-application"):window.location.assign("/webui/add-application?id=".concat(e)))},1e3)}).catch(e=>{k(!0),console.error("Error fetching API data",e),v.ZP.error("Error adding application",{id:"form-error"}),v.ZP.dismiss("adding")})}catch(e){v.ZP.dismiss("adding"),k(!0),v.ZP.error("Error adding application",{id:"form-error"})}}return d?l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:e=>{e.preventDefault,_(!0)},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:s&&n?"Apply Changes":"Add Application"}),(0,a.jsx)(h.Vq,{open:y,onOpenChange:()=>_(!1),children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Review the application"}),(0,a.jsx)(h.Be,{children:"This will be added to the database. Please review the application before confirming."})]}),g?(0,a.jsx)(m.Z,{data:g}):"Preparing application...",(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{type:"submit",onClick:()=>{Z()},children:"Save changes"})})]})}),(0,a.jsx)(h.Vq,{open:w,onOpenChange:e=>{e||(_(!1),k(!1))},children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Failed Adding Application"}),(0,a.jsx)(h.Be,{children:"Please review the error message and try again."})]}),(0,a.jsx)("strong",{children:"Error Message"}),S?(0,a.jsx)(m.Z,{data:S,height:100}):"Loading ...",(0,a.jsx)("strong",{children:"Submitted"}),g?(0,a.jsx)(m.Z,{data:g,height:"150px"}):"Preparing application...",(0,a.jsxs)(h.cN,{children:[(0,a.jsx)(p.z,{onClick:()=>{Z()},children:"Retry now"}),(0,a.jsx)(p.z,{variant:"secondary",onClick:()=>{_(!1),k(!1)},children:"Close"})]})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,a.jsx)(c.default,{href:"/webui/add-application",children:(0,a.jsx)("button",{type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault,_(!0)},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:s&&n?"Apply Changes":"Add Application"})]}),(0,a.jsx)("br",{}),(0,a.jsx)(h.Vq,{open:y,onOpenChange:()=>_(!1),children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Review the application"}),(0,a.jsx)(h.Be,{children:"This will be added to the database. Please review the application before confirming."})]}),g?(0,a.jsx)(m.Z,{data:g}):"Preparing application...",(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{type:"submit",onClick:()=>{Z()},children:"Save changes"})})]})}),(0,a.jsx)(h.Vq,{open:w,onOpenChange:e=>{e||(_(!1),k(!1))},children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Failed Adding Application"}),(0,a.jsx)(h.Be,{children:"Please review the error message and try again."})]}),(0,a.jsx)("strong",{children:"Error Message"}),S?(0,a.jsx)(m.Z,{data:S,height:100}):"Loading ...",(0,a.jsx)("strong",{children:"Submitted"}),g?(0,a.jsx)(m.Z,{data:g,height:"150px"}):"Preparing application...",(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{onClick:()=>{Z()},children:"Retry now"})})]})})]}):null}var N=i(24017),j=i(1070),y=i(91894);function _(e,l){if(!e||"object"!=typeof e)return{};let i={};for(let[r,t]of Object.entries(e))if("string"==typeof t){if(l&&t in l){var a,o,n,s;(null==l?void 0:null===(a=l[t])||void 0===a?void 0:a.type)==="complex"?i[r]={type:t,sequence:(null==l?void 0:null===(o=l[t])||void 0===o?void 0:o.sequence)||!1,optional:(null==l?void 0:null===(n=l[t])||void 0===n?void 0:n.optional)||!1,default:(null==l?void 0:null===(s=l[t])||void 0===s?void 0:s.default)||null}:i[r]=l[t]}else i[r]={type:t}}else i[r]=t;return console.log("transformWithTrueType Result:",i),i}function w(e){return e&&"object"==typeof e?Object.keys(e).map(l=>({_variableName:l,...e[l]})):[]}let k=e=>{if(!e)return e;let l=w(_(null==e?void 0:e.schema,null==e?void 0:e.types)).reduce((e,l)=>((null==l?void 0:l.default)&&(e[null==l?void 0:l._variableName]=l.default),e),{});return{...e,_variables:{...null==e?void 0:e._variables,...l}}};function S(e){let{simple:l=!1}=e,i=(0,u.v9)(e=>e.stack.submittedStack),c=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.stack)||void 0===l?void 0:l.stackSelectedTemplate});(0,u.v9)(e=>e.environment.environmentLoadedValues);let m=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),h=(0,u.I0)(),p=(0,t.useRouter)(),[b,f]=(0,o.useState)("{}"),[_,w]=(0,o.useState)(""),S=async e=>{let l=e.target.files[0];if(l){if("application/json"===l.type){let e=v.ZP.loading("Loading JSON file..."),i=new FileReader;i.onload=l=>{try{let i=JSON.parse(l.target.result);w(JSON.stringify(i,null,2)),f(JSON.stringify(i,null,2)),h((0,N.q7)(i)),v.ZP.success("JSON file loaded successfully!",{id:e})}catch(l){w("Invalid JSON file."),f("Invalid JSON file."),v.ZP.error("Failed to load JSON file.",{id:e})}},i.readAsText(l)}else if("application/zip"===l.type||l.name.endsWith(".zip")){let e=v.ZP.loading("Uploading ZIP file..."),o=new FormData;o.append("raw",l,l.name);try{var i,a;let l=await n.Z.put("".concat("".concat("http://localhost:8000","/db/upload")),o,{headers:{"Content-Type":"multipart/form-data",accept:"application/json",Authorization:(0,x.Z)(m),superduper_reverse_proxy:"http://localhost:8000"}}),s=JSON.parse(JSON.stringify(null==l?void 0:null===(i=l.data)||void 0===i?void 0:i.component));h((0,j.Xs)([...null==l?void 0:null===(a=l.data)||void 0===a?void 0:a.artifacts])),w(JSON.stringify(s,null,2)),f(JSON.stringify(s,null,2)),h((0,N.q7)(s)),v.ZP.success("ZIP file uploaded successfully!",{id:e})}catch(l){v.ZP.error((null==l?void 0:l.message)||"Failed to upload ZIP file.",{id:e,duration:1e4}),console.log("Error uploading ZIP file:",l)}}else w("Please upload a valid JSON or ZIP file."),v.ZP.error("Invalid file type.")}else w("No file selected."),v.ZP.error("No file selected.")},A=(0,o.useRef)(null),Z=()=>{p.push("/webui/add-application",void 0,{shallow:!0}),h((0,N.v$)("")),w(""),f(""),h((0,N.q7)(""))};(0,o.useEffect)(()=>{let e=async()=>{try{let e=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=template")),{headers:{Accept:"application/json",Authorization:(0,x.Z)(m),superduper_reverse_proxy:"http://localhost:8000"}});P([...e.data])}catch(e){i()}},i=()=>{console.log("Error fetching Services API data. Please check your connection.")};l||e()},[]);let[C,P]=(0,o.useState)(["No template added yet"]);return(0,a.jsxs)(a.Fragment,{children:[!l&&(0,a.jsxs)("div",{className:"max-w-3xl",children:[(0,a.jsxs)(r._,{htmlFor:"terms",children:["Select a template"," ",c&&(0,a.jsx)("span",{onClick:Z,className:"bg-transparent border-none text-indigo-500 cursor-pointer p-0",children:"(Remove Selection)"})]}),(0,a.jsxs)(s.Ph,{value:c,onValueChange:e=>{l||Z(),h((0,N.v$)(e));let i=()=>{v.ZP.error("Error fetching template API data. Please check your connection. ");let e={error:"Error fetching template API data. No template information found!"};w(JSON.stringify(e,null,2)),f(JSON.stringify(e,null,2)),h((0,N.q7)(e)),console.log("Error fetching template API data. Please check your connection. So returning to fallback data!")};(async()=>{try{let l=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show_template?identifier=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,x.Z)(m),superduper_reverse_proxy:"http://localhost:8000"}});console.log("/webui/restapi/db/show_template?identifier=".concat(e),l.data),h((0,N.q7)(k(l.data)))}catch(e){i()}})()},children:[(0,a.jsx)(s.i4,{className:"w-3/6 mt-2 mb-2",children:(0,a.jsx)(s.ki,{placeholder:"Select a template to populate the JSON field"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsx)(s.n5,{children:"Select a template for populating"}),C&&C.map((e,l)=>(0,a.jsx)(s.Ql,{value:e,children:e},l))]})})]})]}),!l&&(0,a.jsx)("br",{}),!l&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center my-4",children:[(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,a.jsx)("span",{className:"mx-4 text-gray-500 dark:text-gray-400",children:"OR"}),(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,a.jsxs)("div",{className:"border-gray-900/10 pb-2",children:[(0,a.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Upload your template json file"}),(0,a.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"You can type or upload a JSON file here to automatically fill in the JSON field."})]})]}),(0,a.jsx)("div",{className:"mt-2 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:(0,a.jsxs)("div",{className:"sm:col-span-3",children:[(0,a.jsx)(d.default,{ref:A,className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Add your JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{f(e);try{let l=JSON.parse(e);h((0,N.q7)(l))}catch(e){}},fontSize:13,showPrintMargin:!0,showGutter:!1,highlightActiveLine:!0,value:i?JSON.stringify(i,null,2):b,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:"500px",width:"200%"}),(0,a.jsx)("input",{type:"file",accept:".json,.zip",className:"block mt-2 w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:S}),(0,a.jsx)("p",{className:"text-xs pl-2 text-muted-foreground",children:"*You can upload a json file to populate the json field. Or you can upload a zip file."})]})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(y.Z,{}),!l&&(0,a.jsx)(g,{})]})}var A=i(1930),Z=i(4216),C=i(46346),P=i(18580);let F=e=>{let{textAreaRef:l,triggerAutoSize:i,maxHeight:a=Number.MAX_SAFE_INTEGER,minHeight:n=0}=e,[s,r]=o.useState(!0);o.useEffect(()=>{let e=l.current;if(e){s&&(e.style.minHeight="".concat(n+2,"px"),a>n&&(e.style.maxHeight="".concat(a,"px")),r(!1)),e.style.height="".concat(n+2,"px");let l=e.scrollHeight;l>a?e.style.height="".concat(a,"px"):e.style.height="".concat(l+2,"px")}},[l.current,i])},E=o.forwardRef((e,l)=>{let{maxHeight:i=Number.MAX_SAFE_INTEGER,minHeight:n=52,className:s,onChange:r,value:t,...d}=e,c=o.useRef(null),[v,u]=o.useState("");return F({textAreaRef:c,triggerAutoSize:v,maxHeight:i,minHeight:n}),(0,o.useImperativeHandle)(l,()=>({textArea:c.current,focus:()=>{var e;return null==c?void 0:null===(e=c.current)||void 0===e?void 0:e.focus()},maxHeight:i,minHeight:n})),o.useEffect(()=>{u(t)},[null==d?void 0:d.defaultValue,t]),(0,a.jsx)("textarea",{...d,value:t,ref:c,className:(0,P.cn)("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),onChange:e=>{u(e.target.value),null==r||r(e)}})});E.displayName="AutosizeTextarea";var O=i(74859);let I=async(e,l)=>{try{let i=await n.Z.post("".concat("".concat("http://localhost:8000").concat(e)),{},{headers:{Accept:"application/json",Authorization:l,superduper_reverse_proxy:O.env.NEXT_PUBLIC_API}});if(200===i.status&&i.data){let e=i.data;if(Array.isArray(e))return e;console.error("Response data is not an array")}else console.error("Invalid response status or missing data from API")}catch(e){console.error("Error in getTableArray:",e.message)}return[]};var L=e=>{let{choices:l,authHeaderToken:i}=e,[n,s]=(0,o.useState)([]);return(0,o.useEffect)(()=>{(async()=>{try{let e=await I(l,i);s(e||[])}catch(e){console.error("Error fetching options:",e.message),s([])}})()},[l,i]),(0,a.jsx)(a.Fragment,{children:n.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})},q=i(32041);let T=o.forwardRef((e,l)=>{let{className:i,orientation:o="horizontal",decorative:n=!0,...s}=e;return(0,a.jsx)(q.f,{ref:l,decorative:n,orientation:o,className:(0,P.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",i),...s})});T.displayName=q.f.displayName;var z=i(80923),R=i(34209),J=i(2187),B=i(23611);i(98295),i(78187),i(39166);var D=i(30897),V=i(46065),U=i(72513),G=i(12900);function M(e,l){let i=l.replace("$","").split("."),a=e;for(let e of i)if(Array.isArray(a))a=a.map(l=>l[e]);else{if(!a||"object"!=typeof a)return[];a=a[e]}return Array.isArray(a)?a:[]}function W(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}function $(e,l){return"code"===e?"code":"text-area"===e?"text-area":"str"===e||"string"===e?l?"select":"str":"multi-str"===e?"multi-str":"int"===e?l?"select":"int":"json"===e||"query"==e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e?"multi-select":"multi-checkbox"===e?"multi-checkbox":"complex"===e?"complex":"not_found_type"}function X(e){return e.some(e=>!0===e.optional)}var H=function(e){var l,i,n;let{complexField:t}=e,c=(0,u.I0)(),m=(0,u.v9)(e=>e.stack.submittedStack),h=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),[p,b]=(0,o.useState)(0),[f,g]=(0,o.useState)(!0),j=(e,l)=>{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:e.target.value}}})),b(e=>e+1)},y=(e,l)=>{var i,a,o;let{target:n}=e,s=null==n?void 0:n.value;if(!s)return;let r=null==t?void 0:t._variableName,d=(null==m?void 0:null===(a=m._variables)||void 0===a?void 0:null===(i=a[r])||void 0===i?void 0:i[l])||[];if(!Array.isArray(d)){console.error("Existing field value is not an array:",d);return}c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[r]:{...null==m?void 0:null===(o=m._variables)||void 0===o?void 0:o[r],[l]:[...d,s]}}})),b(e=>e+1)},k=(e,l)=>{var i,a,o,n,s;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:Array.isArray(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(a=o[null==t?void 0:t._variableName])||void 0===a?void 0:a[l])?null==m?void 0:null===(s=m._variables)||void 0===s?void 0:null===(n=s[null==t?void 0:t._variableName])||void 0===n?void 0:n[l].filter((l,i)=>i!==e):[]}}})),b(e=>e+1)},S=(e,l,i)=>{var a,o,n;let s=null==t?void 0:t._variableName,r=(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(a=o[null==t?void 0:t._variableName])||void 0===a?void 0:a[null==i?void 0:i._variableName])||[];if(!Array.isArray(r)){console.error('Expected an array for field "'.concat(null==i?void 0:i._variableName,'", but got:'),r);return}let d=l?[...r,e]:r.filter(l=>l!==e);c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[s]:{...null==m?void 0:null===(n=m._variables)||void 0===n?void 0:n[s],[null==i?void 0:i._variableName]:d}}})),b(e=>e+1)},P=(e,l)=>{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:!e}}})),b(e=>e+1)},F=(e,l)=>{let i=e.target.value;try{let e=parseInt(i,10);if(isNaN(e))v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"});else{var a;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(a=m._variables)||void 0===a?void 0:a[null==t?void 0:t._variableName],[l]:e}}})),b(e=>e+1)}}catch(e){console.error("Error:",e),v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"})}},O=(e,l)=>{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:e}}})),b(e=>e+1)},L=e=>()=>{var l,i,a;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(l=m._variables)||void 0===l?void 0:l[null==t?void 0:t._variableName],[e]:(parseInt(null==m?void 0:null===(a=m._variables)||void 0===a?void 0:null===(i=a[null==t?void 0:t._variableName])||void 0===i?void 0:i[e])||0)+1}}})),b(e=>e+1)},q=e=>()=>{var l;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(l=m._variables)||void 0===l?void 0:l[null==t?void 0:t._variableName],[e]:(parseInt(null==m?void 0:m._variables[null==t?void 0:t._variableName][e])||0)-1}}})),b(e=>e+1)},V=e=>null!=e&&!!e.optional&&!!f,U=(e,l)=>{var i,a;try{let a;""===e?a={}:"string"==typeof e?(a=JSON.parse(e),JSON.stringify(a,null,2)):a={},console.log("Parsed JSON:",a),c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:a}}}))}catch(i){console.error("Error parsing JSON:",i),c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(a=m._variables)||void 0===a?void 0:a[null==t?void 0:t._variableName],[l]:e}}}))}},G=(e,l)=>{try{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==t?void 0:t._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==t?void 0:t._variableName],[l]:e}}}))}catch(i){console.error("Error parsing JSON:",i),c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[l]:e}}))}};return m?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mt-4 mb-2 pt-4 rounded-2xl border-4 border-dashed border-gray-900/25 px-6 py-10",children:[(0,a.jsx)("div",{className:"space-y-12",children:(0,a.jsx)("div",{className:"pb-2",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsx)("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:(0,a.jsxs)(r._,{className:"text-xl",htmlFor:null==t?void 0:t._variableName,children:[null==t?void 0:t._variableName," ",(null==t?void 0:t.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]})})})})}),(0,a.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(null==m?void 0:m.schema)&&w(_(null==m?void 0:null===(l=m.types)||void 0===l?void 0:l[null==t?void 0:t.type],null==m?void 0:m.types)).map(e=>{var l,i,n,c,v,u,p,b,f,g,N,_,w,X,H,Q,K,Y,ee,el,ei,ea,eo,en,es,er,et,ed,ec,ev,eu,em,eh,ep,ex;return(0,a.jsxs)(o.Fragment,{children:[console.log("field",e),!V(e)&&"str"===$(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(A.I,{id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(i=m._variables)||void 0===i?void 0:null===(l=i[null==t?void 0:t._variableName])||void 0===l?void 0:l[null==e?void 0:e._variableName])||"",onChange:l=>j(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),autocomplete:"off"})]}),!V(e)&&"text-area"===$(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(E,{id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(c=m._variables)||void 0===c?void 0:null===(n=c[null==t?void 0:t._variableName])||void 0===n?void 0:n[null==e?void 0:e._variableName])||"",onChange:l=>j(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),className:"resize-none",rows:6})]}),!V(e)&&"boolean"===$(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)(D.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)(D.r,{checked:null==m?void 0:null===(u=m._variables)||void 0===u?void 0:null===(v=u[null==t?void 0:t._variableName])||void 0===v?void 0:v[null==e?void 0:e._variableName],onChange:()=>{var l,i;return P(null==m?void 0:null===(i=m._variables)||void 0===i?void 0:null===(l=i[null==t?void 0:t._variableName])||void 0===l?void 0:l[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},className:W((null==m?void 0:null===(b=m._variables)||void 0===b?void 0:null===(p=b[null==t?void 0:t._variableName])||void 0===p?void 0:p[null==e?void 0:e._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:W((null==m?void 0:null===(g=m._variables)||void 0===g?void 0:null===(f=g[null==t?void 0:t._variableName])||void 0===f?void 0:f[null==e?void 0:e._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)(D.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==e?void 0:e._variableName})," ",(null==e?void 0:e.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500",children:"*"}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]})]})})}),!V(e)&&"multi-select"===$(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==m?void 0:null===(_=m._variables)||void 0===_?void 0:null===(N=_[null==t?void 0:t._variableName])||void 0===N?void 0:N[null==e?void 0:e._variableName])&&(null==m?void 0:null===(H=m._variables)||void 0===H?void 0:null===(X=H[null==t?void 0:t._variableName])||void 0===X?void 0:null===(w=X[null==e?void 0:e._variableName])||void 0===w?void 0:w.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==m?void 0:null===(K=m._variables)||void 0===K?void 0:null===(Q=K[null==t?void 0:t._variableName])||void 0===Q?void 0:Q[null==e?void 0:e._variableName])&&(null==m?void 0:null===(el=m._variables)||void 0===el?void 0:null===(ee=el[null==t?void 0:t._variableName])||void 0===ee?void 0:null===(Y=ee[null==e?void 0:e._variableName])||void 0===Y?void 0:Y.map((l,i)=>(0,a.jsx)(o.Fragment,{children:(0,a.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(R.Z,{onClick:()=>k(i,null==e?void 0:e._variableName),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]})},l)))]})]}),(0,a.jsxs)("select",{id:null==e?void 0:e.name,name:null==e?void 0:e.name,value:"",onChange:l=>y(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==e?void 0:e.choices)?e.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?M(null==m?void 0:m._variables,e.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("/")?I(e.choices,(0,x.Z)(h)).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==m?void 0:null===(ea=m._variables)||void 0===ea?void 0:null===(ei=ea[null==t?void 0:t._variableName])||void 0===ei?void 0:ei[null==e?void 0:e._variableName]))]}),!V(e)&&"multi-checkbox"===$(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(C.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:Array.isArray(null==e?void 0:e.choices)?e.choices.map(l=>{var i,o;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:l,checked:Array.isArray(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(i=o[null==t?void 0:t._variableName])||void 0===i?void 0:i[null==e?void 0:e._variableName])&&m._variables[t._variableName][e._variableName].includes(l),onCheckedChange:i=>S(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?M(null==m?void 0:m._variables,e.choices).map(l=>{var i,o;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:l,checked:Array.isArray(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(i=o[null==t?void 0:t._variableName])||void 0===i?void 0:i[null==e?void 0:e._variableName])&&m._variables[t._variableName][e._variableName].includes(l),onCheckedChange:i=>S(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("/")?I(e.choices,(0,x.Z)(h)).map(l=>{var i,o;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:l,checked:Array.isArray(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(i=o[null==t?void 0:t._variableName])||void 0===i?void 0:i[null==e?void 0:e._variableName])&&m._variables[t._variableName][e._variableName].includes(l),onCheckedChange:i=>S(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):null})})})]}),!V(e)&&"select"===$(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(s.Ph,{value:(null==m?void 0:null===(en=m._variables)||void 0===en?void 0:null===(eo=en[null==t?void 0:t._variableName])||void 0===eo?void 0:eo[null==e?void 0:e._variableName])||"",onValueChange:l=>O(l,null==e?void 0:e._variableName),children:[(0,a.jsx)(s.i4,{"aria-label":null==e?void 0:e._variableName,className:"w-[280px]",children:(0,a.jsx)(s.ki,{placeholder:"Select an option"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsxs)(s.n5,{children:["Select ",null==e?void 0:e._variableName]}),null===(es=e.choices)||void 0===es?void 0:es.map(e=>(0,a.jsx)(s.Ql,{value:e,children:e},e))]})})]})]}),!V(e)&&"int"===$(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-left",children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{type:"button",onClick:q(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mr-4",children:(0,a.jsx)(B.Z,{className:"h-5 w-5","aria-hidden":"true"})}),(0,a.jsx)("input",{type:"int",className:"w-16 text-center block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(et=m._variables)||void 0===et?void 0:null===(er=et[null==t?void 0:t._variableName])||void 0===er?void 0:er[null==e?void 0:e._variableName])||0,onChange:l=>F(l,null==e?void 0:e._variableName)}),(0,a.jsx)("button",{type:"button",onClick:L(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(J.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})]}),!V(e)&&"json"===$(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{placeholder:"Here you can pass a dictionary as value. e.g. {key: value}",mode:"json",theme:"twilight",name:null==e?void 0:e._variableName,onChange:l=>U(l,null==e?void 0:e._variableName),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==m?void 0:null===(ec=m._variables)||void 0===ec?void 0:null===(ed=ec[null==t?void 0:t._variableName])||void 0===ed?void 0:ed[null==e?void 0:e._variableName])?JSON.stringify(null==m?void 0:null===(eu=m._variables)||void 0===eu?void 0:null===(ev=eu[null==t?void 0:t._variableName])||void 0===ev?void 0:ev[null==e?void 0:e._variableName],null,"	"):(null==m?void 0:null===(eh=m._variables)||void 0===eh?void 0:null===(em=eh[null==t?void 0:t._variableName])||void 0===em?void 0:em[null==e?void 0:e._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]}),!V(e)&&"code"===$(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{placeholder:"Write Python here...",mode:"python",theme:"tomorrow",name:null==e?void 0:e._variableName,onChange:l=>G(l,null==e?void 0:e._variableName),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==m?void 0:null===(ex=m._variables)||void 0===ex?void 0:null===(ep=ex[null==t?void 0:t._variableName])||void 0===ep?void 0:ep[null==e?void 0:e._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]})]},null==e?void 0:e._variableName)}),X(w(_(null==m?void 0:null===(i=m.types)||void 0===i?void 0:i[null==t?void 0:t.type],null==m?void 0:m.types)))&&f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{g(!f)},children:["Show optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" →"})]})})]}),X(w(_(null==m?void 0:null===(n=m.types)||void 0===n?void 0:n[null==t?void 0:t.type],null==m?void 0:m.types)))&&!f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{g(!f)},children:["Hide optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" ←"})]})})]})]})]})}):null};let Q=(0,i(64070).default)(async()=>{let e=await Promise.resolve().then(i.bind(i,22392));return await Promise.resolve().then(i.t.bind(i,83346,23)),await Promise.resolve().then(i.t.bind(i,78187,23)),await Promise.resolve().then(i.t.bind(i,19234,23)),e},{loadableGenerated:{webpack:()=>[19234]},ssr:!1});function K(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}function Y(e,l){return"code"===e?"code":"text-area"===e?"text-area":"str"===e||"string"===e?l?"select":"str":"int"===e?l?"select":"int":"json"===e||"query"===e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e||"multiselect"===e?"multi-select":"multi-checkbox"===e?"multi-checkbox":"multi-str"===e?"multi-str":"complex"===e?"complex":"not_found"}function ee(e){var l,i,n,d,c;let{complexFields:v}=e,m=(0,u.I0)(),h=(0,u.v9)(e=>e.stack.submittedStack),b=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),f=(0,t.useSearchParams)();(0,t.useRouter)();let g=null==v?void 0:null===(l=v[0])||void 0===l?void 0:l._variableName,j=(null===(i=f.get(g))||void 0===i?void 0:i.split(","))||[null==v?void 0:null===(n=v[0])||void 0===n?void 0:n._variableName],[y,k]=(0,o.useState)(()=>null==j?void 0:j.map(e=>(null==v?void 0:v.find(l=>(null==l?void 0:l._variableName)===e))||(null==v?void 0:v[0]))),[S,P]=(0,o.useState)(null===(d=Array(null==v?void 0:v.length))||void 0===d?void 0:d.fill(!0)),F=(e,l)=>{var i,a,o;let n=null==y?void 0:null===(i=y[e])||void 0===i?void 0:i._variableName,s=null===(o=(Array.isArray(null==h?void 0:null===(a=h._variables)||void 0===a?void 0:a[n])?h._variables[n]:[])[e])||void 0===o?void 0:o[l];return void 0!==s?s:[]},O=(e,l,i)=>{var a,o;let n=null==y?void 0:null===(a=y[e])||void 0===a?void 0:a._variableName,s=Array.isArray(null==h?void 0:null===(o=h._variables)||void 0===o?void 0:o[n])?h._variables[n]:[],r=[...s];r[e]={...(null==s?void 0:s[e])||{},[l]:i};let t={...null==h?void 0:h._variables,[n]:r},d={...h,_variables:t};m((0,N.q7)(d))},L=(e,l,i)=>{let a=F(i,l);a.push(e.target.value),O(i,l,a)},q=(e,l,i)=>{let a=F(i,l).filter((l,i)=>i!==e);O(i,l,a)},V=(e,l,i,a)=>{var o,n,s,r;let t=null==y?void 0:null===(o=y[a])||void 0===o?void 0:o._variableName,d=(null==h?void 0:null===(s=h._variables)||void 0===s?void 0:null===(n=s[t])||void 0===n?void 0:n[null==i?void 0:i._variableName])||[];if(!Array.isArray(d)){console.error('Expected an array for field "'.concat(null==i?void 0:i._variableName,'", but got:'),d);return}let c=l?[...d,e]:d.filter(l=>l!==e);m((0,N.q7)({...h,_variables:{...null==h?void 0:h._variables,[t]:{...null==h?void 0:null===(r=h._variables)||void 0===r?void 0:r[t],[null==i?void 0:i._variableName]:c}}}))},U=(e,l,i)=>{O(e,l,!i)},G=(e,l,i)=>{O(e,l,i)},W=(e,l)=>{var i,a,o,n;let s=parseInt(null==h?void 0:null===(n=h._variables)||void 0===n?void 0:null===(a=n[null==y?void 0:null===(o=y[e])||void 0===o?void 0:o._variableName])||void 0===a?void 0:null===(i=a[e])||void 0===i?void 0:i[l])||0;O(e,l,s+1)},$=(e,l)=>{var i,a,o,n;let s=parseInt(null==h?void 0:null===(n=h._variables)||void 0===n?void 0:null===(a=n[null==y?void 0:null===(o=y[e])||void 0===o?void 0:o._variableName])||void 0===a?void 0:null===(i=a[e])||void 0===i?void 0:i[l])||0;O(e,l,s-1)},X=(e,l,i)=>{try{let a=""===i?{}:JSON.parse(i);O(e,l,a)}catch(a){console.error("Error parsing JSON:",a),O(e,l,i)}},H=(e,l,i)=>{O(e,l,i)},ee=e=>{P(l=>{let i=[...l];return i[e]=!i[e],i})},el=e=>{k(l=>l.filter((l,i)=>i!==e));let l={...null==h?void 0:h._variables};Object.keys(l).forEach(i=>{if(Array.isArray(l[i])){var a;l[i]=null==l?void 0:null===(a=l[i])||void 0===a?void 0:a.filter((l,i)=>i!==e)}});let i={...h,_variables:l};m((0,N.q7)(i));let a=j.filter((l,i)=>i!==e),o=new URL(window.location),n=new URLSearchParams(o.search);n.set(g,a.join(",")),window.history.pushState(null,"","".concat(o.pathname,"?").concat(n.toString()))};return h?(0,a.jsxs)(a.Fragment,{children:[y.map((e,l)=>{var i,n;return(0,a.jsxs)("div",{className:"mt-4 mb-2 pt-4 rounded-2xl border-4 border-dashed border-gray-900/25 px-6 py-10",children:[(0,a.jsx)("div",{className:"space-y-12",children:(0,a.jsx)("div",{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:(0,a.jsxs)(r._,{className:"text-xl",htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(null==y?void 0:y.length)>1&&(0,a.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,a.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 outline ring-2 ring-indigo-500",onClick:()=>el(l),children:[(0,a.jsx)("span",{className:"sr-only",children:"Close"}),(0,a.jsx)(R.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]})})}),(0,a.jsx)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:w(_(null==h?void 0:null===(i=h.types)||void 0===i?void 0:i[null==e?void 0:e.type],null==h?void 0:h.types)).map(i=>{var n,t,d,c,v,u,m,f,g,N,j,_,w,k,P,F,ee,el,ei,ea,eo,en,es,er,et,ed,ec,ev,eu,em,eh,ep,ex,eb,ef,eg,eN,ej,ey,e_,ew,ek,eS,eA,eZ,eC,eP,eF,eE,eO,eI,eL,eq,eT,ez,eR,eJ,eB,eD,eV,eU,eG,eM,eW;return(0,a.jsx)(o.Fragment,{children:(!i.optional||S[l])&&(0,a.jsxs)(a.Fragment,{children:["str"===Y(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(A.I,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(c=h._variables)||void 0===c?void 0:null===(t=c[null==y?void 0:null===(d=y[l])||void 0===d?void 0:d._variableName])||void 0===t?void 0:null===(n=t[l])||void 0===n?void 0:n[null==i?void 0:i._variableName])||"",onChange:e=>O(l,null==i?void 0:i._variableName,e.target.value),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i._variableName," value here")})]}),"text-area"===Y(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(E,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(f=h._variables)||void 0===f?void 0:null===(u=f[null==y?void 0:null===(m=y[l])||void 0===m?void 0:m._variableName])||void 0===u?void 0:null===(v=u[l])||void 0===v?void 0:v[null==i?void 0:i._variableName])||"",onChange:e=>O(l,null==i?void 0:i._variableName,e.target.value),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i._variableName," value here"),className:"resize-none",rows:6})]}),"multi-select"===Y(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==i?void 0:i._variableName,children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==h?void 0:null===(_=h._variables)||void 0===_?void 0:null===(N=_[null==y?void 0:null===(j=y[l])||void 0===j?void 0:j._variableName])||void 0===N?void 0:null===(g=N[l])||void 0===g?void 0:g[null==i?void 0:i._variableName])&&(null==h?void 0:null===(ee=h._variables)||void 0===ee?void 0:null===(P=ee[null==y?void 0:null===(F=y[l])||void 0===F?void 0:F._variableName])||void 0===P?void 0:null===(k=P[l])||void 0===k?void 0:null===(w=k[null==i?void 0:i._variableName])||void 0===w?void 0:w.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==h?void 0:null===(eo=h._variables)||void 0===eo?void 0:null===(ei=eo[null==y?void 0:null===(ea=y[l])||void 0===ea?void 0:ea._variableName])||void 0===ei?void 0:null===(el=ei[l])||void 0===el?void 0:el[null==i?void 0:i._variableName])&&(null==h?void 0:null===(et=h._variables)||void 0===et?void 0:null===(es=et[null==y?void 0:null===(er=y[l])||void 0===er?void 0:er._variableName])||void 0===es?void 0:null===(en=es[l])||void 0===en?void 0:en[null==i?void 0:i._variableName].map((e,n)=>(0,a.jsx)(o.Fragment,{children:(0,a.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[e,(0,a.jsx)(R.Z,{onClick:()=>q(n,null==i?void 0:i._variableName,l),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]})},n)))]})]}),(0,a.jsxs)("select",{id:null==i?void 0:i.name,name:null==i?void 0:i.name,value:"",onChange:e=>L(e,null==i?void 0:i._variableName,l),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==i?void 0:i.choices)?i.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==i?void 0:i.choices)&&i.choices.startsWith("$")?M(null==h?void 0:h._variables,i.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==i?void 0:i.choices)&&i.choices.startsWith("/")?I(i.choices,(0,x.Z)(b)).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==h?void 0:null===(ec=h._variables)||void 0===ec?void 0:null===(ed=ec[null==e?void 0:e._variableName])||void 0===ed?void 0:ed[null==i?void 0:i._variableName]))]}),"multi-checkbox"===Y(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==i?void 0:i._variableName,children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(C.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:(null==i?void 0:i.choices)&&(null==i?void 0:i.choices.map(o=>{var n,s,r;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:o,checked:null==h?void 0:null===(r=h._variables)||void 0===r?void 0:null===(s=r[null==e?void 0:e._variableName])||void 0===s?void 0:null===(n=s[null==i?void 0:i._variableName])||void 0===n?void 0:n.includes(o),onCheckedChange:e=>V(o,e,i,l)}),(0,a.jsx)("label",{htmlFor:o,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:o})]},o),(0,a.jsx)(T,{className:"my-16"})]})}))})})})]}),"boolean"===Y(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)(D.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)(D.r,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),checked:null==h?void 0:null===(eh=h._variables)||void 0===eh?void 0:null===(eu=eh[null==y?void 0:null===(em=y[l])||void 0===em?void 0:em._variableName])||void 0===eu?void 0:null===(ev=eu[l])||void 0===ev?void 0:ev[null==i?void 0:i._variableName],onChange:e=>{var a,o,n,s;return U(l,null==i?void 0:i._variableName,null==h?void 0:null===(s=h._variables)||void 0===s?void 0:null===(o=s[null==y?void 0:null===(n=y[l])||void 0===n?void 0:n._variableName])||void 0===o?void 0:null===(a=o[l])||void 0===a?void 0:a[null==i?void 0:i._variableName])},className:K((null==h?void 0:null===(ef=h._variables)||void 0===ef?void 0:null===(ex=ef[null==y?void 0:null===(eb=y[l])||void 0===eb?void 0:eb._variableName])||void 0===ex?void 0:null===(ep=ex[l])||void 0===ep?void 0:ep[null==i?void 0:i._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:K((null==h?void 0:null===(ey=h._variables)||void 0===ey?void 0:null===(eN=ey[null==y?void 0:null===(ej=y[l])||void 0===ej?void 0:ej._variableName])||void 0===eN?void 0:null===(eg=eN[l])||void 0===eg?void 0:eg[null==i?void 0:i._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)(D.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==i?void 0:i._variableName})," ",(null==i?void 0:i.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]})})]},l),"select"===Y(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsxs)(s.Ph,{value:(null==h?void 0:null===(eS=h._variables)||void 0===eS?void 0:null===(ew=eS[null==y?void 0:null===(ek=y[l])||void 0===ek?void 0:ek._variableName])||void 0===ew?void 0:null===(e_=ew[l])||void 0===e_?void 0:e_[null==i?void 0:i._variableName])||"",onValueChange:e=>G(l,null==i?void 0:i._variableName,e),children:[(0,a.jsx)(s.i4,{className:"w-[280px]",children:(0,a.jsx)(s.ki,{placeholder:"Select an option"})}),(0,a.jsx)(s.Bw,{children:null==i?void 0:null===(eA=i.choices)||void 0===eA?void 0:eA.map(e=>(0,a.jsx)(s.Ql,{value:e,children:e},e))})]})]}),"int"===Y(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>$(l,null==i?void 0:i._variableName),children:(0,a.jsx)(B.Z,{className:"h-4 w-4"})}),(0,a.jsx)(A.I,{type:"number",id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(eF=h._variables)||void 0===eF?void 0:null===(eC=eF[null==y?void 0:null===(eP=y[l])||void 0===eP?void 0:eP._variableName])||void 0===eC?void 0:null===(eZ=eC[l])||void 0===eZ?void 0:eZ[null==i?void 0:i._variableName])||0,onChange:e=>O(l,null==i?void 0:i._variableName,parseInt(e.target.value)),className:"w-20 text-center"}),(0,a.jsx)(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>W(l,null==i?void 0:i._variableName),children:(0,a.jsx)(J.Z,{className:"h-4 w-4"})})]})]}),"json"===Y(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(Q,{mode:"json",theme:"github",name:"".concat(l,"-").concat(null==i?void 0:i._variableName),onChange:e=>X(l,null==i?void 0:i._variableName,e),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==h?void 0:null===(eL=h._variables)||void 0===eL?void 0:null===(eO=eL[null==y?void 0:null===(eI=y[l])||void 0===eI?void 0:eI._variableName])||void 0===eO?void 0:null===(eE=eO[l])||void 0===eE?void 0:eE[null==i?void 0:i._variableName])?JSON.stringify(null==h?void 0:null===(eR=h._variables)||void 0===eR?void 0:null===(eT=eR[null==y?void 0:null===(ez=y[l])||void 0===ez?void 0:ez._variableName])||void 0===eT?void 0:null===(eq=eT[l])||void 0===eq?void 0:eq[null==i?void 0:i._variableName],null,2):(null==h?void 0:null===(eV=h._variables)||void 0===eV?void 0:null===(eB=eV[null==y?void 0:null===(eD=y[l])||void 0===eD?void 0:eD._variableName])||void 0===eB?void 0:null===(eJ=eB[l])||void 0===eJ?void 0:eJ[null==i?void 0:i._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]}),"code"===Y(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(Q,{mode:"python",theme:"github",name:"".concat(l,"-").concat(null==i?void 0:i._variableName),onChange:e=>H(l,null==i?void 0:i._variableName,e),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==h?void 0:null===(eW=h._variables)||void 0===eW?void 0:null===(eG=eW[null==y?void 0:null===(eM=y[l])||void 0===eM?void 0:eM._variableName])||void 0===eG?void 0:null===(eU=eG[l])||void 0===eU?void 0:eU[null==i?void 0:i._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]})]})},null==i?void 0:i._variableName)})}),w(_(null==h?void 0:null===(n=h.types)||void 0===n?void 0:n[null==e?void 0:e.type],null==h?void 0:h.types)).some(e=>!0===e.optional)&&(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)(p.z,{variant:"link",onClick:()=>ee(l),children:[(null==S?void 0:S[l])?"Hide":"Show"," optional parameters"]})})]},l)}),(null==y?void 0:null===(c=y[0])||void 0===c?void 0:c.sequence)>0&&(0,a.jsx)("div",{className:"flex items-center justify-center mt-6",children:(0,a.jsx)("button",{type:"button",onClick:()=>{let e=null==v?void 0:v[0];k(l=>[...l,e]);let l=[...j,null==e?void 0:e._variableName],i=new URL(window.location),a=new URLSearchParams(i.search);a.set(g,l.join(",")),window.history.pushState(null,"","".concat(i.pathname,"?").concat(a.toString()))},className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(J.Z,{className:"h-5 w-5","aria-hidden":"true"})})})]}):null}var el=e=>{let{header:l="Edit now",description:i="Edit these fields",sequence:n=null,children:s}=e,[r,t]=o.useState(!1),d=(0,u.v9)(e=>e.stack.submittedStack);if(n){var c;let e=0,i=null==d?void 0:null===(c=d._variables)||void 0===c?void 0:c[l];if(i){e=i.length,console.log("variables",i),console.log("currentLength",e);let a=new URL(window.location),o=new URLSearchParams(a.search),n=Array(e).fill(l).join(",");o.set(l,n);let s="".concat(a.origin).concat(a.pathname,"?").concat(o.toString());window.history.replaceState(null,"",s),console.log("Updated URL:",s)}}return(0,a.jsxs)("div",{className:"w-full border border-border rounded-lg shadow-sm flex justify-between items-center p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:l}),(0,a.jsxs)(h.Vq,{open:r,onOpenChange:t,children:[(0,a.jsx)(p.z,{variant:"outline",size:"sm",onClick:()=>t(!0),children:"Edit now"}),(0,a.jsxs)(h.cZ,{className:"sm:max-w-[50vw] sm:h-[80vh] flex flex-col p-0",children:[(0,a.jsxs)(h.fK,{className:"p-6",children:[(0,a.jsx)(h.$N,{children:l}),(0,a.jsx)(h.Be,{children:i})]}),(0,a.jsx)(C.x,{className:"flex-grow px-6",children:s}),(0,a.jsx)(h.cN,{className:"p-6",children:(0,a.jsx)(p.z,{onClick:()=>t(!1),children:"Close"})})]})]})]})},ei=i(86288),ea=i(23919);function eo(){let[e,l]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let e=setTimeout(()=>{l(!1)},2e3);return()=>clearTimeout(e)},[]),(0,a.jsx)(ei.Zb,{className:"w-full max-w-md",children:(0,a.jsx)(ei.aY,{className:"flex items-center space-x-4 p-6",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ea.Z,{className:"h-10 w-10 text-primary animate-spin"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Loading..."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please wait while we check for schemas."})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(V.Z,{className:"h-10 w-10 text-yellow-500"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"No schema found"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please use Developer Mode to create the application."})]})]})})})}var en=i(13271);function es(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}let er=e=>(null==e?void 0:e.types)&&"object"==typeof e.types?Object.keys(e.types):[];function et(e,l,i){return"code"===e?"code":"text-area"===e?"text-area":"multi-str"===e?"multi-str":"multi-checkbox"===e?"multi-checkbox":"str"===e||"string"===e?l?"select":"str":"int"===e?l?"select":"int":"json"===e||"query"==e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e?"multi-select":"complex"===e?"complex":i.includes(e)?e:"not_found"}function ed(e){return e.some(e=>!0===e.optional)}var ec=function(e){let{simple:l=!1}=e,i=(0,t.useSearchParams)(),n=i.get("identifier");i.get("type_id");let c=(0,u.I0)(),m=(0,u.v9)(e=>e.stack.stackSelectedTemplate),h=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),b=(0,u.v9)(e=>e.stack.submittedStack),[f,g]=(0,o.useState)(0),[j,y]=(0,o.useState)(!0),[k,S]=(0,o.useState)([...en.defaultFormTypes]),[P,F]=(0,o.useState)({}),O=(e,l)=>{let{target:i}=e;F(e=>({...e,[l]:i.value}))};(0,o.useEffect)(()=>{b&&(g(0),S([...k,...er(b)]))},[b]);let I=(e,l)=>{c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e.target.value}})),g(e=>e+1)},q=(e,l)=>{c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e}})),g(e=>e+1)},W=(e,l)=>{var i,a,o,n,s;c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:(null==b?void 0:null===(i=b._variables)||void 0===i?void 0:i[l])&&(null==b?void 0:null===(o=b._variables)||void 0===o?void 0:null===(a=o[l])||void 0===a?void 0:a.includes(e.target.value))?[...null==b?void 0:null===(n=b._variables)||void 0===n?void 0:n[l],e.target.value]:[...(null==b?void 0:null===(s=b._variables)||void 0===s?void 0:s[l])||[],e.target.value]}})),g(e=>e+1)},$=(e,l)=>{W({target:{value:e}},l),g(e=>e+1),F(e=>({...e,[l]:""}))},X=(e,l,i)=>{var a,o;let n=l?[...null==b?void 0:null===(a=b._variables)||void 0===a?void 0:a[null==i?void 0:i._variableName],e]:null==b?void 0:null===(o=b._variables)||void 0===o?void 0:o[null==i?void 0:i._variableName].filter(l=>l!==e);c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[null==i?void 0:i._variableName]:n}})),g(e=>e+1)},Q=(e,l)=>{var i,a,o;c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:Array.isArray(null==b?void 0:null===(i=b._variables)||void 0===i?void 0:i[l])?null==b?void 0:null===(o=b._variables)||void 0===o?void 0:null===(a=o[l])||void 0===a?void 0:a.filter((l,i)=>i!==e):[]}})),g(e=>e+1)},K=e=>{c((0,N.q7)({...b,identifier:e.target.value})),g(e=>e+1)};(0,o.useEffect)(()=>{b&&n&&!(null==b?void 0:b.identifier)&&c((0,N.q7)({...b,identifier:n}))},[n,b]);let Y=(e,l)=>{c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:!e}})),g(e=>e+1)},ei=(e,l)=>{let i=e.target.value;try{let e=parseInt(i,10);isNaN(e)?v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"}):(c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e}})),g(e=>e+1))}catch(e){console.error("Error:",e),v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"})}},ea=e=>()=>{var l;c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[e]:(parseInt(null==b?void 0:null===(l=b._variables)||void 0===l?void 0:l[e])||0)+1}})),g(e=>e+1)},ec=e=>()=>{var l;c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[e]:(parseInt(null==b?void 0:null===(l=b._variables)||void 0===l?void 0:l[e])||0)-1}})),g(e=>e+1)},ev=e=>null!=e&&!!e.optional&&!!j,eu=(e,l)=>{try{let i;""===e?i={}:"string"==typeof e?(i=JSON.parse(e),JSON.stringify(i,null,2)):i={},console.log("Parsed JSON:",i),c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:i}}))}catch(i){console.error("Error parsing JSON:",i),c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e}}))}},em=(e,l)=>{try{c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e}}))}catch(i){console.error("Error parsing JSON:",i),c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e}}))}};return b?!m||(null==b?void 0:b.schema)?(0,a.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[!l&&(null==b?void 0:b.schema)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-2 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:"identifier",children:["identifier",(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,a.jsx)(z.Z,{popoverheader:"Identifier",popovercontent:(0,a.jsx)("p",{children:"Please provide a unique name for your application. This name is used to identify your application in the system. It should be unique and should not contain any special characters."})})]}),(0,a.jsx)(A.I,{id:"identifier",value:(null==b?void 0:b.identifier)||"",onChange:e=>K(e),placeholder:"<enter-a-unique-identifier>",autocomplete:"off"})]}),(null==b?void 0:b.schema)&&w(_(null==b?void 0:b.schema,null==b?void 0:b.types)).map(e=>{var l,i,n,t,c,v,u,m,f,g,N,j,y,_,w,S,F,K,eo,er;return(0,a.jsxs)(o.Fragment,{children:[!ev(e)&&"str"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(A.I,{id:null==e?void 0:e._variableName,value:(null==b?void 0:null===(l=b._variables)||void 0===l?void 0:l[null==e?void 0:e._variableName])||"",onChange:l=>I(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),autocomplete:"off"})]}),!ev(e)&&"select"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(s.Ph,{value:(null==b?void 0:null===(i=b._variables)||void 0===i?void 0:i[null==e?void 0:e._variableName])||"",onValueChange:l=>q(l,null==e?void 0:e._variableName),children:[(0,a.jsx)(s.i4,{"aria-label":null==e?void 0:e._variableName,className:"w-[280px]",children:(0,a.jsx)(s.ki,{placeholder:"Select an option"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsxs)(s.n5,{children:["Select ",null==e?void 0:e._variableName]}),Array.isArray(null==e?void 0:e.choices)&&e.choices.map(e=>(0,a.jsx)(s.Ql,{value:e,children:e},e))]})})]})]}),!ev(e)&&"not_found"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(U.bZ,{variant:"destructive",children:[(0,a.jsx)(V.Z,{className:"h-4 w-4"}),(0,a.jsx)(U.Cd,{children:"Error"}),(0,a.jsxs)(U.X,{children:["Type: ",(0,a.jsx)(G.C,{variant:"destructive",children:null==e?void 0:e.type})," ","is not a valid type. Please create this type and refer it in the schema."]})]})]}),!ev(e)&&"text-area"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(E,{id:null==e?void 0:e._variableName,value:(null==b?void 0:null===(n=b._variables)||void 0===n?void 0:n[null==e?void 0:e._variableName])||"",onChange:l=>I(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),className:"resize-none",rows:6})]}),!ev(e)&&"boolean"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)(D.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)(D.r,{checked:null==b?void 0:null===(t=b._variables)||void 0===t?void 0:t[null==e?void 0:e._variableName],onChange:()=>{var l;return Y(null==b?void 0:null===(l=b._variables)||void 0===l?void 0:l[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},className:es((null==b?void 0:null===(c=b._variables)||void 0===c?void 0:c[null==e?void 0:e._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:es((null==b?void 0:null===(v=b._variables)||void 0===v?void 0:v[null==e?void 0:e._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)(D.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==e?void 0:e._variableName})," ",(null==e?void 0:e.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500",children:"*"}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]})]})})}),!ev(e)&&"multi-select"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==b?void 0:null===(u=b._variables)||void 0===u?void 0:u[null==e?void 0:e._variableName])&&(null==b?void 0:null===(f=b._variables)||void 0===f?void 0:null===(m=f[null==e?void 0:e._variableName])||void 0===m?void 0:m.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==b?void 0:null===(g=b._variables)||void 0===g?void 0:g[null==e?void 0:e._variableName])&&(null==b?void 0:null===(N=b._variables)||void 0===N?void 0:N[null==e?void 0:e._variableName].map((l,i)=>(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center rounded-full bg-white m-0.5 px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(R.Z,{onClick:()=>Q(i,null==e?void 0:e._variableName),className:"ml-1 h-4 w-4 text-gray-400 hover:text-gray-600","aria-hidden":"true"})]},i)))]})]}),(0,a.jsxs)("select",{id:null==e?void 0:e.name,name:null==e?void 0:e.name,value:"",onChange:l=>W(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==e?void 0:e.choices)?e.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?M(null==b?void 0:b._variables,e.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("/")?(0,a.jsx)(L,{choices:e.choices,authHeaderToken:(0,x.Z)(h)}):null]},JSON.stringify(null==b?void 0:null===(j=b._variables)||void 0===j?void 0:j[null==e?void 0:e._variableName]))]}),!ev(e)&&"multi-str"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(null==b?void 0:null===(y=b._variables)||void 0===y?void 0:y[null==e?void 0:e._variableName])&&(null==b?void 0:null===(_=b._variables)||void 0===_?void 0:_[null==e?void 0:e._variableName].map((l,i)=>(0,a.jsxs)("button",{type:"button",className:"inline-flex m-0.5 items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(R.Z,{onClick:()=>Q(i,null==e?void 0:e._variableName),className:"ml-1 h-4 w-4 text-gray-400 hover:text-gray-600","aria-hidden":"true"})]},i))),(0,a.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,a.jsx)(A.I,{id:null==e?void 0:e.name,name:null==e?void 0:e.name,type:"text",value:P[null==e?void 0:e._variableName]||"",placeholder:"Type the ".concat(null==e?void 0:e._variableName," value here"),onChange:l=>O(l,null==e?void 0:e._variableName),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6","aria-label":"Enter item"}),(0,a.jsx)(p.z,{type:"button",onClick:()=>{$(P[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},"aria-label":"Add ".concat(null==e?void 0:e._variableName),disabled:!(null===(w=P[null==e?void 0:e._variableName])||void 0===w?void 0:w.trim()),className:"justify-center p-2 rounded bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2",children:(0,a.jsx)(J.Z,{className:"h-4 w-4"})})]})]}),!ev(e)&&"multi-checkbox"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(C.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:Array.isArray(null==e?void 0:e.choices)?e.choices.map(l=>{var i,o;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:l,checked:null==b?void 0:null===(o=b._variables)||void 0===o?void 0:null===(i=o[null==e?void 0:e._variableName])||void 0===i?void 0:i.includes(l),onCheckedChange:i=>X(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?M(null==b?void 0:b._variables,e.choices).map(l=>{var i,o;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:l,checked:null==b?void 0:null===(o=b._variables)||void 0===o?void 0:null===(i=o[null==e?void 0:e._variableName])||void 0===i?void 0:i.includes(l),onCheckedChange:i=>X(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):null})})})]}),!ev(e)&&"int"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-left",children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{type:"button",onClick:ec(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mr-4",children:(0,a.jsx)(B.Z,{className:"h-5 w-5","aria-hidden":"true"})}),(0,a.jsx)("input",{type:"int",className:"w-16 text-center block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",id:null==e?void 0:e._variableName,value:(null==b?void 0:null===(S=b._variables)||void 0===S?void 0:S[null==e?void 0:e._variableName])||0,onChange:l=>ei(l,null==e?void 0:e._variableName)}),(0,a.jsx)("button",{type:"button",onClick:ea(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(J.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})]}),!ev(e)&&"json"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Here you can pass a dictionary as value. e.g. {key: value}",mode:"json",theme:"twilight",name:null==e?void 0:e._variableName,onChange:l=>eu(l,null==e?void 0:e._variableName),fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==b?void 0:null===(F=b._variables)||void 0===F?void 0:F[null==e?void 0:e._variableName])?JSON.stringify(null==b?void 0:null===(K=b._variables)||void 0===K?void 0:K[null==e?void 0:e._variableName],null,"	"):(null==b?void 0:null===(eo=b._variables)||void 0===eo?void 0:eo[null==e?void 0:e._variableName])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,style:{width:"100%",height:"200px"}})]}),!ev(e)&&"code"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(r._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(z.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{className:"mt-2 rounded-md border-2 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Write Python here...",mode:"python",theme:"tomorrow",name:null==e?void 0:e._variableName,onChange:l=>em(l,null==e?void 0:e._variableName),fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==b?void 0:null===(er=b._variables)||void 0===er?void 0:er[null==e?void 0:e._variableName])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,style:{width:"100%",height:"200px"}})]}),"not_found"!==et(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&!en.defaultFormTypes.includes(et(null==e?void 0:e.type,null==e?void 0:e.choices,k))&&(!ev(e)||"complex"===et(null==e?void 0:e.type,null==e?void 0:e.choices,k))&&(0,a.jsxs)("div",{children:[(0,a.jsx)("br",{}),(0,a.jsx)(el,{header:null==e?void 0:e._variableName,sequence:null==e?void 0:e.sequence,className:"mt-4",children:(null==e?void 0:e.sequence)?(0,a.jsx)(ee,{complexFields:[e]}):(0,a.jsx)(H,{complexField:e})})]})]},null==e?void 0:e._variableName)}),ed(w(_(null==b?void 0:b.schema,null==b?void 0:b.types)))&&j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{y(!j)},children:["Show optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" →"})]})})]}),ed(w(_(null==b?void 0:b.schema,null==b?void 0:b.types)))&&!j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{y(!j)},children:["Hide optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" ←"})]})})]})]}):(0,a.jsx)(eo,{}):null},ev=i(45246);let{getReasonPhrase:eu}=i(70194);function em(e){let{simple:l=!1,autoselect:i=!1}=e,d=(0,t.useRouter)(),c=(0,u.v9)(e=>e.environment.environmentLoadedValues),m=(0,t.useSearchParams)(),h=m.get("identifier"),p=m.get("type_id"),b=(0,u.v9)(e=>e.stack.stackSelectedTemplate),f=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),j=(0,u.I0)(),[y,_]=(0,o.useState)("{}"),[w,S]=(0,o.useState)({}),A=()=>{d.push("/webui/add-application",void 0,{shallow:!0}),j((0,N.v$)("")),_(""),S({}),j((0,N.q7)(""))};(0,o.useEffect)(()=>{let e=n.Z.CancelToken.source(),l=async()=>{try{let l=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=template")),{headers:{Accept:"application/json",Authorization:(0,x.Z)(f),superduper_reverse_proxy:"http://localhost:8000"},cancelToken:e.token});C([...l.data])}catch(e){n.Z.isCancel(e)?console.log("Request canceled",e.message):console.error("Error fetching Services API data.",e)}};return h&&p||l(),()=>{e.cancel("Operation canceled by the user.")}},[h,p,f,c]);let[Z,C]=(0,o.useState)(["No template added yet"]),[P,F]=(0,o.useState)("");if((0,o.useEffect)(()=>{if(!h||!p)return;let e=n.Z.CancelToken.source(),l=async(l,i)=>{try{return(await n.Z.get(l,{headers:i,cancelToken:e.token})).data}catch(e){n.Z.isCancel(e)?console.log("Request canceled",e.message):console.error("Error fetching data from ".concat(l," edit api:"),e)}};return(async()=>{let e="".concat("http://localhost:8000","/db/edit?type_id=").concat(p,"&identifier=").concat(h),i={Accept:"application/json",Authorization:(0,x.Z)(f),superduper_reverse_proxy:"http://localhost:8000"};try{let a=await l(e,i);a&&(j((0,N.v$)(h)),j((0,N.q7)(a)))}catch(e){v.ZP.error("Error fetching edit api."),F(e)}})(),()=>{e.cancel("Operation canceled by the user.")}},[h,p,f,c]),P){var E;let e=(null==P?void 0:P.status)||404,l=eu(e)||"Service Unavailable";return(0,a.jsx)(ev.Z,{header:"Failed to fetch template data",shortMessage:l,status:e,description:(0,a.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:"Status: ".concat(e,",\nMessage: ").concat("object"==typeof(null==P?void 0:null===(E=P.response)||void 0===E?void 0:E.data)?JSON.stringify(P.response.data,null,2):(null==P?void 0:P.message)||"Unknown error occurred")})})}return(0,a.jsxs)(a.Fragment,{children:[!l&&!h&&!p&&(0,a.jsxs)("div",{className:"max-w-3xl",children:[(0,a.jsxs)(r._,{htmlFor:"terms",children:["Select a template"," ",b&&(0,a.jsx)("span",{onClick:A,className:"bg-transparent border-none text-indigo-500 cursor-pointer p-0",children:"(Remove Selection)"})]}),(0,a.jsxs)(s.Ph,{value:b,onValueChange:e=>{l||A(),j((0,N.v$)(e));let i=()=>{v.ZP.error("Error fetching template API data. Please check your connection. ");let e={error:"Error fetching template API data. No template information found!"};_(JSON.stringify(e,null,2)),j((0,N.q7)(e)),console.log("Error fetching template API data. Please check your connection. So returning to fallback data!")};(async()=>{try{let l=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show_template?identifier=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,x.Z)(f),superduper_reverse_proxy:"http://localhost:8000"}});console.log("/webui/restapi/db/show_template?identifier=".concat(e),l.data);let i={...l.data,build_template:e};j((0,N.q7)(k(i)))}catch(e){console.log("Error fetching API",e),i()}})()},children:[(0,a.jsx)(s.i4,{className:"w-3/6 mt-2 mb-2",children:(0,a.jsx)(s.ki,{placeholder:"Select a template"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsx)(s.n5,{children:"Select a template"}),null==Z?void 0:Z.map((e,l)=>(0,a.jsx)(s.Ql,{value:e,children:e},l))]})})]})]}),!l&&!h&&!p&&(0,a.jsx)("br",{}),(0,a.jsx)(ec,{simple:l}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),!l&&(0,a.jsx)(g,{})]})}var eh=i(61883),ep=i(52269),ex=i(58153),eb=i(64386),ef=i(24878),eg=i(25820);function eN(e){let{id:l="default-id",onGoBack:i=()=>{}}=e,[n,s]=(0,o.useState)([]),[r,t]=(0,o.useState)(!0),[d,c]=(0,o.useState)(null),[v,u]=(0,o.useState)(!1),m=(0,o.useRef)(null),h=async()=>{t(!0),c(null),s([]);try{let e=await fetch("".concat("http://localhost:8000","/stdout?id=").concat(l));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let i=e.body.getReader(),a=new TextDecoder;for(;;){let{value:e,done:l}=await i.read();if(l){console.log("Stream complete");break}let o=a.decode(e,{stream:!0}).split("\n").filter(e=>""!==e.trim());s(e=>[...e,...o]),t(!1)}}catch(e){console.error("Error fetching logs:",e),c("Failed to fetch logs: ".concat(e.message))}finally{t(!1)}};return(0,o.useEffect)(()=>(h(),()=>{}),[l]),(0,o.useEffect)(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[n]),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"py-4 w-full max-w-7xl",children:(0,a.jsx)("a",{href:"/webui/application",onClick:i,children:(0,a.jsxs)(p.z,{className:"flex items-center space-x-2",children:[(0,a.jsx)(eh.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Go back"})]})})}),(0,a.jsx)("div",{className:"w-full max-w-7xl bg-white shadow-lg rounded-lg overflow-hidden",children:(0,a.jsx)("div",{className:"w-full bg-gray-900 ".concat(v?"fixed inset-0 z-50":"min-h-0"),children:(0,a.jsxs)("div",{className:"w-full flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-b border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),(0,a.jsxs)("span",{className:"text-gray-300 ml-4 font-mono",children:["Terminal - Apply Application Logs (",l,")"]})]}),(0,a.jsx)("button",{onClick:()=>{u(!v)},className:"text-gray-400 hover:text-gray-200",children:v?(0,a.jsx)(ep.Z,{className:"w-5 h-5"}):(0,a.jsx)(ex.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"p-4 overflow-hidden ".concat(v?"flex-1":"h-[400px]"),children:r?(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-300",children:[(0,a.jsx)(eb.Z,{className:"animate-spin"}),(0,a.jsx)("span",{className:"font-mono",children:"Initializing terminal session..."})]}):d?(0,a.jsxs)("div",{className:"text-red-400 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 font-mono",children:[(0,a.jsx)(V.Z,{className:"w-5 h-5"}),(0,a.jsxs)("span",{children:["Error: ",d]})]}),(0,a.jsxs)("button",{onClick:h,className:"flex items-center space-x-2 px-3 py-1 bg-gray-700 text-gray-200 rounded hover:bg-gray-600 font-mono",children:[(0,a.jsx)(ef.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Retry Connection"})]})]}):n.length>0?(0,a.jsx)("div",{ref:m,className:"font-mono text-sm text-green-400 overflow-y-auto h-full",children:n.map((e,l)=>(0,a.jsx)("div",{className:"whitespace-pre-wrap py-0.5 border-b border-gray-800/50 last:border-0",children:e},l))}):(0,a.jsx)("div",{className:"text-gray-500 font-mono",children:"No logs available. Waiting for data..."})}),(0,a.jsx)("div",{className:"bg-gray-800 p-2 border-t border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 font-mono",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eg.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{children:"Connected to logs"})]}),(0,a.jsx)("span",{children:new Date().toLocaleTimeString()})]})})]})})})]})}var ej=i(56146),ey=i(40837);function e_(){let[e,l]=(0,o.useState)(!1),i=(0,t.useSearchParams)(),n=i.get("id"),s=i.get("identifier"),r=i.get("type_id");return n?(0,a.jsx)(eN,{id:n}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mx-auto max-w-3xl",children:[(0,a.jsx)(ej.aG,{children:(0,a.jsxs)(ej.Jb,{children:[(0,a.jsx)(ej.gN,{children:(0,a.jsx)(ej.At,{href:"/webui",children:"Home"})}),(0,a.jsx)(ej.bg,{}),(0,a.jsx)(ej.gN,{children:(0,a.jsx)(ej.At,{href:"/webui/application",children:"Application"})}),(0,a.jsx)(ej.bg,{}),(0,a.jsx)(ej.gN,{children:(0,a.jsx)(ej.AG,{children:(0,a.jsx)("a",{href:"/webui/application",children:r&&s?"Edit Application":"Add Application"})})})]})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"border-b border-gray-200 pb-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold leading-7 text-gray-900",children:r&&s?"Edit application":"Create application"}),(0,a.jsxs)(p.z,{variant:"outline",onClick:()=>l(!0),className:"flex items-center gap-2",children:[(0,a.jsx)(ey.Z,{className:"w-4 h-4"}),"Developer mode"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:r&&s?"Edit your application and click apply changes":"Set up your new application in a minute!"}),(0,a.jsx)(h.Vq,{open:e,onOpenChange:l,children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[1000px] max-h-[80vh] flex flex-col",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Developer Mode"}),(0,a.jsx)(h.Be,{children:"Access advanced settings and configurations for your application."})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto py-6",children:(0,a.jsx)("div",{className:"m-2",children:(0,a.jsx)(S,{simple:!0})})})]})})]}),(0,a.jsx)("br",{}),(0,a.jsx)(em,{})]})})}var ew=i(70007),ek=(0,i(4867).N)(function(){return(0,a.jsx)(ew.Z,{activeNavItem:"/webui/application",children:(0,a.jsx)("main",{className:"py-10",children:(0,a.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,a.jsx)(e_,{})})})})})})})},72513:function(e,l,i){"use strict";i.d(l,{Cd:function(){return d},X:function(){return c},bZ:function(){return t}});var a=i(27573),o=i(7653),n=i(85145),s=i(18580);let r=(0,n.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),t=o.forwardRef((e,l)=>{let{className:i,variant:o,...n}=e;return(0,a.jsx)("div",{ref:l,role:"alert",className:(0,s.cn)(r({variant:o}),i),...n})});t.displayName="Alert";let d=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("h5",{ref:l,className:(0,s.cn)("mb-1 font-medium leading-none tracking-tight",i),...o})});d.displayName="AlertTitle";let c=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("div",{ref:l,className:(0,s.cn)("text-sm [&_p]:leading-relaxed",i),...o})});c.displayName="AlertDescription"},56146:function(e,l,i){"use strict";i.d(l,{AG:function(){return u},At:function(){return v},Jb:function(){return d},aG:function(){return t},bg:function(){return m},gN:function(){return c}});var a=i(27573),o=i(7653),n=i(85688),s=i(8828),r=i(18580);let t=o.forwardRef((e,l)=>{let{...i}=e;return(0,a.jsx)("nav",{ref:l,"aria-label":"breadcrumb",...i})});t.displayName="Breadcrumb";let d=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("ol",{ref:l,className:(0,r.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",i),...o})});d.displayName="BreadcrumbList";let c=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("li",{ref:l,className:(0,r.cn)("inline-flex items-center gap-1.5",i),...o})});c.displayName="BreadcrumbItem";let v=o.forwardRef((e,l)=>{let{asChild:i,className:o,...n}=e,t=i?s.g7:"a";return(0,a.jsx)(t,{ref:l,className:(0,r.cn)("transition-colors hover:text-foreground",o),...n})});v.displayName="BreadcrumbLink";let u=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("span",{ref:l,role:"link","aria-disabled":"true","aria-current":"page",className:(0,r.cn)("font-normal text-foreground",i),...o})});u.displayName="BreadcrumbPage";let m=e=>{let{children:l,className:i,...o}=e;return(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,r.cn)("[&>svg]:size-3.5",i),...o,children:null!=l?l:(0,a.jsx)(n.XCv,{})})};m.displayName="BreadcrumbSeparator"},4216:function(e,l,i){"use strict";i.d(l,{X:function(){return t}});var a=i(27573),o=i(7653),n=i(92999),s=i(85688),r=i(18580);let t=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)(n.fC,{ref:l,className:(0,r.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",i),...o,children:(0,a.jsx)(n.z$,{className:(0,r.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(s.nQG,{className:"h-4 w-4"})})})});t.displayName=n.fC.displayName},63052:function(e,l,i){"use strict";i.d(l,{Bw:function(){return h},DI:function(){return d},Ph:function(){return t},Ql:function(){return x},i4:function(){return v},ki:function(){return c},n5:function(){return p}});var a=i(27573),o=i(7653),n=i(85688),s=i(66240),r=i(18580);let t=s.fC,d=s.ZA,c=s.B4,v=o.forwardRef((e,l)=>{let{className:i,children:o,...t}=e;return(0,a.jsxs)(s.xz,{ref:l,className:(0,r.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",i),...t,children:[o,(0,a.jsx)(s.JO,{asChild:!0,children:(0,a.jsx)(n.jnn,{className:"h-4 w-4 opacity-50"})})]})});v.displayName=s.xz.displayName;let u=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)(s.u_,{ref:l,className:(0,r.cn)("flex cursor-default items-center justify-center py-1",i),...o,children:(0,a.jsx)(n.g8U,{})})});u.displayName=s.u_.displayName;let m=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)(s.$G,{ref:l,className:(0,r.cn)("flex cursor-default items-center justify-center py-1",i),...o,children:(0,a.jsx)(n.v4q,{})})});m.displayName=s.$G.displayName;let h=o.forwardRef((e,l)=>{let{className:i,children:o,position:n="popper",...t}=e;return(0,a.jsx)(s.h_,{children:(0,a.jsxs)(s.VY,{ref:l,className:(0,r.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:n,...t,children:[(0,a.jsx)(u,{}),(0,a.jsx)(s.l_,{className:(0,r.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),(0,a.jsx)(m,{})]})})});h.displayName=s.VY.displayName;let p=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)(s.__,{ref:l,className:(0,r.cn)("px-2 py-1.5 text-sm font-semibold",i),...o})});p.displayName=s.__.displayName;let x=o.forwardRef((e,l)=>{let{className:i,children:o,...t}=e;return(0,a.jsxs)(s.ck,{ref:l,className:(0,r.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...t,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s.wU,{children:(0,a.jsx)(n.nQG,{className:"h-4 w-4"})})}),(0,a.jsx)(s.eT,{children:o})]})});x.displayName=s.ck.displayName,o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)(s.Z0,{ref:l,className:(0,r.cn)("-mx-1 my-1 h-px bg-muted",i),...o})}).displayName=s.Z0.displayName},91894:function(e,l,i){"use strict";var a=i(27573),o=i(7653),n=i(412),s=i(33597),r=i(36531);function t(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6"})})}function d(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m18 15-6-6-6 6"})})}l.Z=()=>{let e=(0,n.v9)(e=>e.uploadFiles.uploadFilesLoadedValues||[]),[l,i]=(0,o.useState)(!1),[c,v]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{0===e.length||c||i(!0)},[e,c]),(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.z,{variant:"secondary",onClick:()=>{i(!l),v(!0)},children:["Upload Artifact",l?(0,a.jsx)(d,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(t,{className:"ml-2 h-4 w-4"})]}),(l||!c&&0!==e.length)&&(0,a.jsx)("div",{className:"col-span-full mt-2",children:(0,a.jsx)(s.Z,{})})]})}},87191:function(e,l,i){"use strict";i.d(l,{Z:function(){return d}});var a=i(27573),o=i(7653),n=i(22392);i(40020),i(19234),i(83346);var s=i(412),r=i(24017),t=i(93296);function d(e){let{data:l,height:i="300px"}=e,d=(0,s.I0)(),[c,v]=(0,o.useState)(JSON.stringify(l,null,"	"));return(0,o.useRef)(null),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.default,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Stack result JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{try{v(e),d((0,r.q7)(JSON.parse(e)))}catch(e){t.ZP.error("Error updating...",{id:"stack-update-error"})}},fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:c,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:i,width:"100%"})})}},55623:function(e){"use strict";e.exports=["str","string","bool","select","boolean","text-area","multi-select","multi-str","multi-checkbox","complex","int","json","code"]},13271:function(e,l,i){"use strict";let a=i(36509),o=i(53971),n=i(33181),s=i(55623);e.exports={tailwindConfig:a,postcssConfig:o,nextBaseConfig:n,defaultFormTypes:s}},33181:function(e){"use strict";e.exports={output:"export",reactStrictMode:!1,eslint:{ignoreDuringBuilds:!0},swcMinify:!0,headers:async()=>[{source:"/api/:path*",headers:[{key:"Access-Control-Allow-Credentials",value:"true"},{key:"Access-Control-Allow-Origin",value:"*"},{key:"Access-Control-Allow-Methods",value:"GET,DELETE,PATCH,POST,PUT"},{key:"Access-Control-Allow-Headers",value:"X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version"}]}],assetPrefix:void 0,experimental:{missingSuspenseWithCSRBailout:!1,proxyTimeout:36e4},redirects:async()=>[{source:"/",destination:"/webui",permanent:!0}],rewrites:async()=>[{source:"/webui/apiserver/:path*",destination:"".concat("","/:path*")},{source:"/webui/restapi/:path*",destination:"".concat("http://localhost:8000","/:path*")},{source:"/webui_api/:path*",destination:"/api/:path*"}]}},53971:function(e){"use strict";e.exports={plugins:{tailwindcss:{},autoprefixer:{}}}},36509:function(e,l,i){"use strict";e.exports={darkMode:["class"],content:["./pages/**/*.{js,ts,jsx,tsx,mdx}","./components/**/*.{js,ts,jsx,tsx,mdx}","./app/**/*.{js,ts,jsx,tsx,mdx}","./src/**/*.{js,ts,jsx,tsx,mdx}","../components/**/*.{js,ts,jsx,tsx,mdx}","../../components/**/*.{js,ts,jsx,tsx,mdx}","../../utils/**/*.{js,ts,jsx,tsx,mdx}"],prefix:"",theme:{container:{center:!0,padding:"2rem",screens:{"2xl":"1400px"}},extend:{colors:{indigo:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},supercolor:{50:"#ede7ff",100:"#d2befd",200:"#b692fc",300:"#9a67ea",400:"#7f3dfd",500:"#7628f8",600:"#5b0cb8",700:"#4c0a91",800:"#3e086b",900:"#32074f"},border:"hsl(var(--border))",input:"hsl(var(--input))",ring:"hsl(var(--ring))",background:"hsl(var(--background))",backgroundImage:{"gradient-radial":"radial-gradient(var(--tw-gradient-stops))","gradient-conic":"conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))"},foreground:"hsl(var(--foreground))",primary:{DEFAULT:"hsl(var(--primary))",foreground:"hsl(var(--primary-foreground))"},secondary:{DEFAULT:"hsl(var(--secondary))",foreground:"hsl(var(--secondary-foreground))"},destructive:{DEFAULT:"hsl(var(--destructive))",foreground:"hsl(var(--destructive-foreground))"},muted:{DEFAULT:"hsl(var(--muted))",foreground:"hsl(var(--muted-foreground))"},accent:{DEFAULT:"hsl(var(--accent))",foreground:"hsl(var(--accent-foreground))"},popover:{DEFAULT:"hsl(var(--popover))",foreground:"hsl(var(--popover-foreground))"},card:{DEFAULT:"hsl(var(--card))",foreground:"hsl(var(--card-foreground))"}},borderRadius:{lg:"var(--radius)",md:"calc(var(--radius) - 2px)",sm:"calc(var(--radius) - 4px)"},keyframes:{"accordion-down":{from:{height:"0"},to:{height:"var(--radix-accordion-content-height)"}},"accordion-up":{from:{height:"var(--radix-accordion-content-height)"},to:{height:"0"}}},animation:{"accordion-down":"accordion-down 0.2s ease-out","accordion-up":"accordion-up 0.2s ease-out"}}},plugins:[i(4821),i(58173)]}}},function(e){e.O(0,[5458,7441,3296,8320,8374,3908,7653,7050,6340,4112,9115,3406,8113,8743,3696,935,1826,2895,1293,1528,1744],function(){return e(e.s=69386)}),_N_E=e.O()}]);