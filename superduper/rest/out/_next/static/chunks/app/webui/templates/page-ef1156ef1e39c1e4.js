(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6332],{55174:function(e,t,a){Promise.resolve().then(a.bind(a,56999))},56999:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var n=a(27573),r=a(70790),s=a(13908),i=a(5772),o=a(412),l=a(45246),d=a(7653),c=a(80840),u=a(87285),p=a(92859),h=a(93296),m=a(7109);function x(e){return e.filter(e=>"template"===e.type_id)}function f(){(0,o.v9)(e=>e.environment.environmentLoadedValues);let e=(0,o.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),[t,a]=(0,d.useState)(null),[l,f]=(0,d.useState)(null),v=async t=>{try{h.ZP.loading("Fetching latest data",{id:"fetching",position:"bottom-center"});let t=await s.Z.get("".concat("".concat("http://localhost:8000","/db/show")),{headers:{Accept:"application/json",Authorization:(0,m.Z)(e),superduper_reverse_proxy:"http://localhost:8000"}});return console.log("/db/show/ API data:",t.data),h.ZP.dismiss("fetching"),t.data}catch(e){h.ZP.dismiss("fetching"),console.error("Error fetching Services API data")}},j=e=>{let t={};return e.forEach((e,a)=>{let n=e.type_id;t[n]||(t[n]={type_id:n,payload:[]}),t[n].payload.push({id:a+1,identifier:e.identifier,type_id:e.type_id,status:"online",timestamp:"Retrieved 1 minute ago"})}),Object.values(t)},{data:y,error:b}=(0,r.ZP)("".concat("".concat("http://localhost:8000","/db/show")),v,{refreshInterval:6e4,shouldRetryOnError:!1});(0,d.useEffect)(()=>{y?(a(j(y.filter(e=>"application"!==e.type_id))),f(j(x(y)))):(a(j(x([]))),f(j(x([]))))},[y,b]);let[Z,g]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{if(l&&0===l.length){let e=setTimeout(()=>{g(!0)},1e3);return()=>clearTimeout(e)}g(!1)},[l]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{title:"Templates",description:"See, add and delete AI app and workflow templates which you can use to create applications.",buttonText:"Add Template",buttonLink:"/webui/add-template"}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[l?l.length>0?l.map((e,t)=>(0,n.jsx)(c.Z,{data:e},t)):!Z&&(0,n.jsx)(i.Z,{}):(0,n.jsx)(i.Z,{}),Z&&(0,n.jsx)(u.Z,{header:"No Template Found",description:"Get started by adding a new custom template.",createDeployment:"hide"})]}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{})]})}function v(){(0,o.v9)(e=>e.environment.environmentLoadedValues);let e=(0,o.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),t=async t=>(await s.Z.get(t,{headers:{Accept:"application/json",Authorization:(0,m.Z)(e),superduper_reverse_proxy:"http://localhost:8000"}})).data,{data:a,error:d}=(0,r.ZP)("".concat("".concat("http://localhost:8000","/health")),t,{refreshInterval:3e4,shouldRetryOnError:!1});return a||d?d?(0,n.jsx)(l.Z,{header:"REST API is currently unavailable"}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(f,{})}):(0,n.jsx)(i.Z,{times:6})}var j=a(70007),y=a(57649),b=(0,a(4867).N)(function(){return(0,n.jsx)(y.Z,{children:(0,n.jsx)(j.Z,{activeNavItem:"/webui/templates",children:(0,n.jsx)("main",{className:"py-10",children:(0,n.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,n.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,n.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,n.jsx)(v,{})})})})})})})})}},function(e){e.O(0,[5458,7441,3296,8320,8374,3908,5383,6600,384,8209,9345,6096,9275,935,4848,8509,1293,1528,1744],function(){return e(e.s=55174)}),_N_E=e.O()}]);