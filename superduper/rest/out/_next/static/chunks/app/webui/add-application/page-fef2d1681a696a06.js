(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5834],{78186:function(e,l,i){Promise.resolve().then(i.bind(i,79455))},79455:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return eP}});var a=i(27573),o=i(7653),n=i(13908),s=i(63052),t=i(97747),r=i(81695),d=i(22392);i(40020),i(19234),i(83346);var c=i(88146),v=i(93296),u=i(412),m=i(87191),h=i(24776),p=i(36531),x=i(7109),b=i(63612),f=i(74859);function g(e){let{simple:l=!1}=e,i=(0,r.useSearchParams)(),n=i.get("identifier"),s=i.get("type_id");(0,u.v9)(e=>e.environment.environmentLoadedValues);let t=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues});(0,r.useRouter)();let d=(0,u.v9)(e=>e.stack.stackUpdateByIndex),g=(0,u.v9)(e=>e.stack.submittedStack),[N,j]=(0,o.useState)(null),[y,_]=(0,o.useState)(!1),[w,S]=(0,o.useState)(!1),[k,A]=(0,o.useState)(null);function Z(){if(!g){v.ZP.error("Error adding application",{id:"form-error"});return}let e=(0,b.Z)();v.ZP.loading("Adding application...",{id:"adding"});try{fetch("".concat("".concat("http://localhost:8000","/db/apply?id=").concat(e)),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:(0,x.Z)(t),superduper_reverse_proxy:"http://localhost:8000"},body:JSON.stringify(g,null,"	")}).then(e=>{if(!e.ok){if(500===e.status)return e.json().then(e=>{throw console.log("Error response data:",e),A(e),Error("Server error")});throw Error("Network response was not ok")}return e.json()}).then(l=>{v.ZP.dismiss("adding"),console.log("Data from:",l),v.ZP.success("Application added successfully"),setTimeout(()=>{w||("true"===f.env.NEXT_PUBLIC_SNOWFLAKE?window.location.assign("/webui/application?id=".concat(e)):window.location.assign("/webui/add-application?id=".concat(e)))},1e3)}).catch(e=>{S(!0),console.error("Error fetching API data",e),v.ZP.error("Error adding application",{id:"form-error"}),v.ZP.dismiss("adding")})}catch(e){v.ZP.dismiss("adding"),S(!0),v.ZP.error("Error adding application",{id:"form-error"})}}return d?l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:e=>{e.preventDefault,_(!0)},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:s&&n?"Apply Changes":"Add Application"}),(0,a.jsx)(h.Vq,{open:y,onOpenChange:()=>_(!1),children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Review the application"}),(0,a.jsx)(h.Be,{children:"This will be added to the database. Please review the application before confirming."})]}),g?(0,a.jsx)(m.Z,{data:g}):"Preparing application...",(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{type:"submit",onClick:()=>{Z()},children:"Save changes"})})]})}),(0,a.jsx)(h.Vq,{open:w,onOpenChange:e=>{e||(_(!1),S(!1))},children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Failed Adding Application"}),(0,a.jsx)(h.Be,{children:"Please review the error message and try again."})]}),(0,a.jsx)("strong",{children:"Error Message"}),k?(0,a.jsx)(m.Z,{data:k,height:100}):"Loading ...",(0,a.jsx)("strong",{children:"Submitted"}),g?(0,a.jsx)(m.Z,{data:g,height:"150px"}):"Preparing application...",(0,a.jsxs)(h.cN,{children:[(0,a.jsx)(p.z,{onClick:()=>{Z()},children:"Retry now"}),(0,a.jsx)(p.z,{variant:"secondary",onClick:()=>{_(!1),S(!1)},children:"Close"})]})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,a.jsx)(c.default,{href:"/webui/add-application",children:(0,a.jsx)("button",{type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault,_(!0)},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:s&&n?"Apply Changes":"Add Application"})]}),(0,a.jsx)("br",{}),(0,a.jsx)(h.Vq,{open:y,onOpenChange:()=>_(!1),children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Review the application"}),(0,a.jsx)(h.Be,{children:"This will be added to the database. Please review the application before confirming."})]}),g?(0,a.jsx)(m.Z,{data:g}):"Preparing application...",(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{type:"submit",onClick:()=>{Z()},children:"Save changes"})})]})}),(0,a.jsx)(h.Vq,{open:w,onOpenChange:e=>{e||(_(!1),S(!1))},children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Failed Adding Application"}),(0,a.jsx)(h.Be,{children:"Please review the error message and try again."})]}),(0,a.jsx)("strong",{children:"Error Message"}),k?(0,a.jsx)(m.Z,{data:k,height:100}):"Loading ...",(0,a.jsx)("strong",{children:"Submitted"}),g?(0,a.jsx)(m.Z,{data:g,height:"150px"}):"Preparing application...",(0,a.jsx)(h.cN,{children:(0,a.jsx)(p.z,{onClick:()=>{Z()},children:"Retry now"})})]})})]}):null}var N=i(24017),j=i(1070),y=i(91894);function _(e,l){if(!e||"object"!=typeof e)return{};let i={};for(let[t,r]of Object.entries(e))if("string"==typeof r){if(l&&r in l){var a,o,n,s;(null==l?void 0:null===(a=l[r])||void 0===a?void 0:a.type)==="complex"?i[t]={type:r,sequence:(null==l?void 0:null===(o=l[r])||void 0===o?void 0:o.sequence)||!1,optional:(null==l?void 0:null===(n=l[r])||void 0===n?void 0:n.optional)||!1,default:(null==l?void 0:null===(s=l[r])||void 0===s?void 0:s.default)||null}:i[t]=l[r]}else i[t]={type:r}}else i[t]=r;return console.log("transformWithTrueType Result:",i),i}function w(e){return e&&"object"==typeof e?Object.keys(e).map(l=>({_variableName:l,...e[l]})):[]}let S=e=>{if(!e)return e;let l=w(_(null==e?void 0:e.schema,null==e?void 0:e.types)).reduce((e,l)=>((null==l?void 0:l.default)&&(e[null==l?void 0:l._variableName]=l.default),e),{});return{...e,_variables:{...null==e?void 0:e._variables,...l}}};function k(e){let{simple:l=!1}=e,i=(0,u.v9)(e=>e.stack.submittedStack),c=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.stack)||void 0===l?void 0:l.stackSelectedTemplate});(0,u.v9)(e=>e.environment.environmentLoadedValues);let m=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),h=(0,u.I0)(),p=(0,r.useRouter)(),[b,f]=(0,o.useState)("{}"),[_,w]=(0,o.useState)(""),k=async e=>{let l=e.target.files[0];if(l){if("application/json"===l.type){let e=v.ZP.loading("Loading JSON file..."),i=new FileReader;i.onload=l=>{try{let i=JSON.parse(l.target.result);w(JSON.stringify(i,null,2)),f(JSON.stringify(i,null,2)),h((0,N.q7)(i)),v.ZP.success("JSON file loaded successfully!",{id:e})}catch(l){w("Invalid JSON file."),f("Invalid JSON file."),v.ZP.error("Failed to load JSON file.",{id:e})}},i.readAsText(l)}else if("application/zip"===l.type||l.name.endsWith(".zip")){let e=v.ZP.loading("Uploading ZIP file..."),o=new FormData;o.append("raw",l,l.name);try{var i,a;let l=await n.Z.put("".concat("".concat("http://localhost:8000","/db/upload")),o,{headers:{"Content-Type":"multipart/form-data",accept:"application/json",Authorization:(0,x.Z)(m),superduper_reverse_proxy:"http://localhost:8000"}}),s=JSON.parse(JSON.stringify(null==l?void 0:null===(i=l.data)||void 0===i?void 0:i.component));h((0,j.Xs)([...null==l?void 0:null===(a=l.data)||void 0===a?void 0:a.artifacts])),w(JSON.stringify(s,null,2)),f(JSON.stringify(s,null,2)),h((0,N.q7)(s)),v.ZP.success("ZIP file uploaded successfully!",{id:e})}catch(l){v.ZP.error((null==l?void 0:l.message)||"Failed to upload ZIP file.",{id:e,duration:1e4}),console.log("Error uploading ZIP file:",l)}}else w("Please upload a valid JSON or ZIP file."),v.ZP.error("Invalid file type.")}else w("No file selected."),v.ZP.error("No file selected.")},A=(0,o.useRef)(null),Z=()=>{p.push("/webui/add-application",void 0,{shallow:!0}),h((0,N.v$)("")),w(""),f(""),h((0,N.q7)(""))};(0,o.useEffect)(()=>{let e=async()=>{try{let e=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=template")),{headers:{Accept:"application/json",Authorization:(0,x.Z)(m),superduper_reverse_proxy:"http://localhost:8000"}});P([...e.data])}catch(e){i()}},i=()=>{console.log("Error fetching Services API data. Please check your connection.")};l||e()},[]);let[C,P]=(0,o.useState)(["No template added yet"]);return(0,a.jsxs)(a.Fragment,{children:[!l&&(0,a.jsxs)("div",{className:"max-w-3xl",children:[(0,a.jsxs)(t._,{htmlFor:"terms",children:["Select a template"," ",c&&(0,a.jsx)("span",{onClick:Z,className:"bg-transparent border-none text-indigo-500 cursor-pointer p-0",children:"(Remove Selection)"})]}),(0,a.jsxs)(s.Ph,{value:c,onValueChange:e=>{l||Z(),h((0,N.v$)(e));let i=()=>{v.ZP.error("Error fetching template API data. Please check your connection. ");let e={error:"Error fetching template API data. No template information found!"};w(JSON.stringify(e,null,2)),f(JSON.stringify(e,null,2)),h((0,N.q7)(e)),console.log("Error fetching template API data. Please check your connection. So returning to fallback data!")};(async()=>{try{let l=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show_template?identifier=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,x.Z)(m),superduper_reverse_proxy:"http://localhost:8000"}});console.log("/webui/restapi/db/show_template?identifier=".concat(e),l.data),h((0,N.q7)(S(l.data)))}catch(e){i()}})()},children:[(0,a.jsx)(s.i4,{className:"w-3/6 mt-2 mb-2",children:(0,a.jsx)(s.ki,{placeholder:"Select a template to populate the JSON field"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsx)(s.n5,{children:"Select a template for populating"}),C&&C.map((e,l)=>(0,a.jsx)(s.Ql,{value:e,children:e},l))]})})]})]}),!l&&(0,a.jsx)("br",{}),!l&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center my-4",children:[(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,a.jsx)("span",{className:"mx-4 text-gray-500 dark:text-gray-400",children:"OR"}),(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,a.jsxs)("div",{className:"border-gray-900/10 pb-2",children:[(0,a.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Upload your template json file"}),(0,a.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"You can type or upload a JSON file here to automatically fill in the JSON field."})]})]}),(0,a.jsx)("div",{className:"mt-2 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:(0,a.jsxs)("div",{className:"sm:col-span-3",children:[(0,a.jsx)(d.default,{ref:A,className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Add your JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{f(e);try{let l=JSON.parse(e);h((0,N.q7)(l))}catch(e){}},fontSize:13,showPrintMargin:!0,showGutter:!1,highlightActiveLine:!0,value:i?JSON.stringify(i,null,2):b,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:"500px",width:"200%"}),(0,a.jsx)("input",{type:"file",accept:".json,.zip",className:"block mt-2 w-full text-sm text-gray-700   file:mr-4 file:py-2 file:px-4   file:rounded-full file:border-0   file:text-sm file:font-semibold   file:bg-indigo-50 file:text-indigo-700   hover:file:bg-indigo-100",onChange:k}),(0,a.jsx)("p",{className:"text-xs pl-2 text-muted-foreground",children:"*You can upload a json file to populate the json field. Or you can upload a zip file."})]})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(y.Z,{}),!l&&(0,a.jsx)(g,{})]})}var A=i(1930),Z=i(4216),C=i(46346),P=i(18580);let E=e=>{let{textAreaRef:l,triggerAutoSize:i,maxHeight:a=Number.MAX_SAFE_INTEGER,minHeight:n=0}=e,[s,t]=o.useState(!0);o.useEffect(()=>{let e=l.current;if(e){s&&(e.style.minHeight="".concat(n+2,"px"),a>n&&(e.style.maxHeight="".concat(a,"px")),t(!1)),e.style.height="".concat(n+2,"px");let l=e.scrollHeight;l>a?e.style.height="".concat(a,"px"):e.style.height="".concat(l+2,"px")}},[l.current,i])},F=o.forwardRef((e,l)=>{let{maxHeight:i=Number.MAX_SAFE_INTEGER,minHeight:n=52,className:s,onChange:t,value:r,...d}=e,c=o.useRef(null),[v,u]=o.useState("");return E({textAreaRef:c,triggerAutoSize:v,maxHeight:i,minHeight:n}),(0,o.useImperativeHandle)(l,()=>({textArea:c.current,focus:()=>{var e;return null==c?void 0:null===(e=c.current)||void 0===e?void 0:e.focus()},maxHeight:i,minHeight:n})),o.useEffect(()=>{u(r)},[null==d?void 0:d.defaultValue,r]),(0,a.jsx)("textarea",{...d,value:r,ref:c,className:(0,P.cn)("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),onChange:e=>{u(e.target.value),null==t||t(e)}})});F.displayName="AutosizeTextarea";var I=i(74859);let O=async(e,l)=>{try{let i=await n.Z.post("".concat("".concat("http://localhost:8000").concat(e)),{},{headers:{Accept:"application/json",Authorization:l,superduper_reverse_proxy:I.env.NEXT_PUBLIC_API}});if(200===i.status&&i.data){let e=i.data;if(Array.isArray(e))return e;console.error("Response data is not an array")}else console.error("Invalid response status or missing data from API")}catch(e){console.error("Error in getTableArray:",e.message)}return[]};var L=e=>{let{choices:l,authHeaderToken:i}=e,[n,s]=(0,o.useState)([]);return(0,o.useEffect)(()=>{(async()=>{try{let e=await O(l,i);s(e||[])}catch(e){console.error("Error fetching options:",e.message),s([])}})()},[l,i]),(0,a.jsx)(a.Fragment,{children:n.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})},q=i(32041);let T=o.forwardRef((e,l)=>{let{className:i,orientation:o="horizontal",decorative:n=!0,...s}=e;return(0,a.jsx)(q.f,{ref:l,decorative:n,orientation:o,className:(0,P.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",i),...s})});T.displayName=q.f.displayName;var z=e=>{let{choices:l,authHeaderToken:i,submittedStack:n,handleMultiCheckboxChange:s,field:t}=e,[r,d]=(0,o.useState)([]);return(0,o.useEffect)(()=>{(async()=>{try{let e=await O(l,i);d(e||[])}catch(e){console.error("Error fetching options:",e.message),d([])}})()},[l,i]),(0,a.jsxs)(a.Fragment,{children:[r.map(e=>{var l,i;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:e,checked:null==n?void 0:null===(i=n._variables)||void 0===i?void 0:null===(l=i[null==t?void 0:t._variableName])||void 0===l?void 0:l.includes(e),onCheckedChange:l=>s(e,l,t)}),(0,a.jsx)("label",{htmlFor:e,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e})]},e)}),(0,a.jsx)(T,{className:"my-16"})]})},R=i(80923),J=i(45246),B=i(5772);let{getReasonPhrase:D}=i(70194);var U=function(e){var l,i;let{simple:s=!1,autoSelect:d=!1}=e,c=(0,u.I0)(),m=(0,u.v9)(e=>e.stack.submittedStack),h=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),p=(0,r.useSearchParams)(),b=p.get("identifier"),f=p.get("type_id");(0,u.v9)(e=>e.environment.environmentLoadedValues);let[g,j]=(0,o.useState)([]),[y,_]=(0,o.useState)(0),[w,k]=(0,o.useState)(""),[Z,C]=(0,o.useState)(""),[P,E]=(0,o.useState)("");(0,o.useEffect)(()=>{(async()=>{try{let e=await n.Z.get("".concat("http://localhost:8000","/db/show?type_id=application"),{headers:{Accept:"application/json",Authorization:(0,x.Z)(h),superduper_reverse_proxy:"http://localhost:8000"}});e.data&&j(e.data)}catch(e){console.error("Error fetching restricted identifiers:",e)}})()},[]);let[F,I]=(0,o.useState)(!1);if((0,o.useEffect)(()=>{!d||f||b||(null==m?void 0:m.schema)||(async()=>{try{I(!0);let e=await n.Z.get("".concat("http://localhost:8000","/db/show?type_id=template"),{headers:{Accept:"application/json",Authorization:(0,x.Z)(h),superduper_reverse_proxy:"http://localhost:8000"}});if(e.data&&e.data.length){let l=e.data[0];c((0,N.v$)(l));let i="".concat("http://localhost:8000","/db/show_template?identifier=").concat(l),a=await n.Z.get(i,{headers:{Accept:"application/json",Authorization:(0,x.Z)(h),superduper_reverse_proxy:"http://localhost:8000"}});if(a.data){let e={...a.data,build_template:l};c((0,N.q7)(S(e)))}}}catch(e){v.ZP.error("Error fetching template API data."),C(e)}finally{I(!1)}})()},[]),(0,o.useEffect)(()=>{!b||(null==m?void 0:m.identifier)||c((0,N.q7)({...m,identifier:b}))},[b]),Z){let e=(null==Z?void 0:Z.status)||404,i=D(e)||"Service Unavailable";return(0,a.jsx)(J.Z,{header:"Failed to fetch template data",shortMessage:i,status:e,description:(0,a.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:"Status: ".concat(e,",\nMessage: ").concat("object"==typeof(null==Z?void 0:null===(l=Z.response)||void 0===l?void 0:l.data)?JSON.stringify(Z.response.data,null,2):(null==Z?void 0:Z.message)||"Unknown error occurred")})})}if(P){let e=(null==P?void 0:P.status)||404,l=D(e)||"Service Unavailable";return(0,a.jsx)(J.Z,{header:"Failed to fetch edit template api",shortMessage:l,status:e,description:(0,a.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:"Status: ".concat(e,",\nMessage: ").concat("object"==typeof(null==P?void 0:null===(i=P.response)||void 0===i?void 0:i.data)?JSON.stringify(P.response.data,null,2):(null==P?void 0:P.message)||"Unknown error occurred")})})}return!F||(null==m?void 0:m.schema)?(0,a.jsx)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-2 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:"uri",className:"text-lg font-medium",children:["Name your Superduper Agents App"," "]}),(0,a.jsx)(R.Z,{popoverheader:"Identifier",popovercontent:(0,a.jsx)("p",{children:"Please provide a unique name for your application. This name is used to identify your application in the system. It should be unique and should not contain any special characters."})})]}),(0,a.jsx)(A.I,{id:"identifier",value:(null==m?void 0:m.identifier)||"",onChange:e=>{let{target:l}=e,{value:i}=l;if(g===i){k("This name is not allowed as you have already used the name. Please choose a different one.");return}k(""),c((0,N.q7)({...m,identifier:i}))},placeholder:"Enter your application name",autoComplete:"off"}),w&&(0,a.jsx)("p",{className:"text-rose-500 text-sm mt-1",children:w})]})}):(0,a.jsx)(B.Z,{})},V=i(34209),M=i(2187),G=i(23611),W=i(61521),X=i(50611);i(98295),i(78187),i(39166);var $=i(30897),H=i(46065),Q=i(72513),K=i(12900);function Y(e,l){let i=l.replace("$","").split("."),a=e;for(let e of i)if(Array.isArray(a))a=a.map(l=>l[e]);else{if(!a||"object"!=typeof a)return[];a=a[e]}return Array.isArray(a)?a:[]}function ee(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}function el(e,l){return"code"===e?"code":"text-area"===e?"text-area":"str"===e||"string"===e?l?"select":"str":"multi-str"===e?"multi-str":"int"===e?l?"select":"int":"json"===e||"query"==e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e?"multi-select":"multi-checkbox"===e?"multi-checkbox":"complex"===e?"complex":"not_found_type"}function ei(e){return e.some(e=>!0===e.optional)}var ea=function(e){var l,i,n;let{complexField:r}=e,c=(0,u.I0)(),m=(0,u.v9)(e=>e.stack.submittedStack),h=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),[p,b]=(0,o.useState)(0),[f,g]=(0,o.useState)(!0),j=(e,l)=>{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==r?void 0:r._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==r?void 0:r._variableName],[l]:e.target.value}}})),b(e=>e+1)},y=(e,l)=>{var i,a,o;let{target:n}=e,s=null==n?void 0:n.value;if(!s)return;let t=null==r?void 0:r._variableName,d=(null==m?void 0:null===(a=m._variables)||void 0===a?void 0:null===(i=a[t])||void 0===i?void 0:i[l])||[];if(!Array.isArray(d)){console.error("Existing field value is not an array:",d);return}c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[t]:{...null==m?void 0:null===(o=m._variables)||void 0===o?void 0:o[t],[l]:[...d,s]}}})),b(e=>e+1)},S=(e,l)=>{var i,a,o,n,s;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==r?void 0:r._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==r?void 0:r._variableName],[l]:Array.isArray(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(a=o[null==r?void 0:r._variableName])||void 0===a?void 0:a[l])?null==m?void 0:null===(s=m._variables)||void 0===s?void 0:null===(n=s[null==r?void 0:r._variableName])||void 0===n?void 0:n[l].filter((l,i)=>i!==e):[]}}})),b(e=>e+1)},k=(e,l,i)=>{var a,o,n;let s=null==r?void 0:r._variableName,t=(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(a=o[null==r?void 0:r._variableName])||void 0===a?void 0:a[null==i?void 0:i._variableName])||[];if(!Array.isArray(t)){console.error('Expected an array for field "'.concat(null==i?void 0:i._variableName,'", but got:'),t);return}let d=l?[...t,e]:t.filter(l=>l!==e);c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[s]:{...null==m?void 0:null===(n=m._variables)||void 0===n?void 0:n[s],[null==i?void 0:i._variableName]:d}}})),b(e=>e+1)},P=(e,l)=>{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==r?void 0:r._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==r?void 0:r._variableName],[l]:!e}}})),b(e=>e+1)},E=(e,l)=>{let i=e.target.value;try{let e=parseInt(i,10);if(isNaN(e))v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"});else{var a;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==r?void 0:r._variableName]:{...null==m?void 0:null===(a=m._variables)||void 0===a?void 0:a[null==r?void 0:r._variableName],[l]:e}}})),b(e=>e+1)}}catch(e){console.error("Error:",e),v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"})}},I=(e,l)=>{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==r?void 0:r._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==r?void 0:r._variableName],[l]:e}}})),b(e=>e+1)},L=e=>()=>{var l,i,a;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==r?void 0:r._variableName]:{...null==m?void 0:null===(l=m._variables)||void 0===l?void 0:l[null==r?void 0:r._variableName],[e]:(parseInt(null==m?void 0:null===(a=m._variables)||void 0===a?void 0:null===(i=a[null==r?void 0:r._variableName])||void 0===i?void 0:i[e])||0)+1}}})),b(e=>e+1)},q=e=>()=>{var l;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==r?void 0:r._variableName]:{...null==m?void 0:null===(l=m._variables)||void 0===l?void 0:l[null==r?void 0:r._variableName],[e]:(parseInt(null==m?void 0:m._variables[null==r?void 0:r._variableName][e])||0)-1}}})),b(e=>e+1)},z=e=>null!=e&&!!e.optional&&!!f,J=(e,l)=>{var i,a;try{let a;""===e?a={}:"string"==typeof e?(a=JSON.parse(e),JSON.stringify(a,null,2)):a={},console.log("Parsed JSON:",a),c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==r?void 0:r._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==r?void 0:r._variableName],[l]:a}}}))}catch(i){console.error("Error parsing JSON:",i),c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==r?void 0:r._variableName]:{...null==m?void 0:null===(a=m._variables)||void 0===a?void 0:a[null==r?void 0:r._variableName],[l]:e}}}))}},B=(e,l)=>{try{var i;c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[null==r?void 0:r._variableName]:{...null==m?void 0:null===(i=m._variables)||void 0===i?void 0:i[null==r?void 0:r._variableName],[l]:e}}}))}catch(i){console.error("Error parsing JSON:",i),c((0,N.q7)({...m,_variables:{...null==m?void 0:m._variables,[l]:e}}))}};return m?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mt-4 mb-2 pt-4 rounded-2xl border-4 border-dashed border-gray-900/25 px-6 py-10",children:[(0,a.jsx)("div",{className:"space-y-12",children:(0,a.jsx)("div",{className:"pb-2",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsx)("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:(0,a.jsxs)(t._,{className:"text-xl",htmlFor:null==r?void 0:r._variableName,children:[null==r?void 0:r._variableName," ",(null==r?void 0:r.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]})})})})}),(0,a.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(null==m?void 0:m.schema)&&w(_(null==m?void 0:null===(l=m.types)||void 0===l?void 0:l[null==r?void 0:r.type],null==m?void 0:m.types)).map(e=>{var l,i,n,c,v,u,p,b,f,g,N,_,w,D,U,W,X,H,Q,K,ei,ea,eo,en,es,et,er,ed,ec,ev,eu,em,eh,ep,ex;return(0,a.jsxs)(o.Fragment,{children:[console.log("field",e),!z(e)&&"str"===el(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(A.I,{id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(i=m._variables)||void 0===i?void 0:null===(l=i[null==r?void 0:r._variableName])||void 0===l?void 0:l[null==e?void 0:e._variableName])||"",onChange:l=>j(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),autocomplete:"off"})]}),!z(e)&&"text-area"===el(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(F,{id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(c=m._variables)||void 0===c?void 0:null===(n=c[null==r?void 0:r._variableName])||void 0===n?void 0:n[null==e?void 0:e._variableName])||"",onChange:l=>j(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),className:"resize-none",rows:6})]}),!z(e)&&"boolean"===el(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)($.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)($.r,{checked:null==m?void 0:null===(u=m._variables)||void 0===u?void 0:null===(v=u[null==r?void 0:r._variableName])||void 0===v?void 0:v[null==e?void 0:e._variableName],onChange:()=>{var l,i;return P(null==m?void 0:null===(i=m._variables)||void 0===i?void 0:null===(l=i[null==r?void 0:r._variableName])||void 0===l?void 0:l[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},className:ee((null==m?void 0:null===(b=m._variables)||void 0===b?void 0:null===(p=b[null==r?void 0:r._variableName])||void 0===p?void 0:p[null==e?void 0:e._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:ee((null==m?void 0:null===(g=m._variables)||void 0===g?void 0:null===(f=g[null==r?void 0:r._variableName])||void 0===f?void 0:f[null==e?void 0:e._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)($.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==e?void 0:e._variableName})," ",(null==e?void 0:e.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500"}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]})]})})}),!z(e)&&"multi-select"===el(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==m?void 0:null===(_=m._variables)||void 0===_?void 0:null===(N=_[null==r?void 0:r._variableName])||void 0===N?void 0:N[null==e?void 0:e._variableName])&&(null==m?void 0:null===(U=m._variables)||void 0===U?void 0:null===(D=U[null==r?void 0:r._variableName])||void 0===D?void 0:null===(w=D[null==e?void 0:e._variableName])||void 0===w?void 0:w.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==m?void 0:null===(X=m._variables)||void 0===X?void 0:null===(W=X[null==r?void 0:r._variableName])||void 0===W?void 0:W[null==e?void 0:e._variableName])&&(null==m?void 0:null===(K=m._variables)||void 0===K?void 0:null===(Q=K[null==r?void 0:r._variableName])||void 0===Q?void 0:null===(H=Q[null==e?void 0:e._variableName])||void 0===H?void 0:H.map((l,i)=>(0,a.jsx)(o.Fragment,{children:(0,a.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(V.Z,{onClick:()=>S(i,null==e?void 0:e._variableName),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]})},l)))]})]}),(0,a.jsxs)("select",{id:null==e?void 0:e.name,name:null==e?void 0:e.name,value:"",onChange:l=>y(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==e?void 0:e.choices)?e.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?Y(null==m?void 0:m._variables,e.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("/")?O(e.choices,(0,x.Z)(h)).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==m?void 0:null===(ea=m._variables)||void 0===ea?void 0:null===(ei=ea[null==r?void 0:r._variableName])||void 0===ei?void 0:ei[null==e?void 0:e._variableName]))]}),!z(e)&&"multi-checkbox"===el(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(C.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:Array.isArray(null==e?void 0:e.choices)?e.choices.map(l=>{var i,o;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:l,checked:Array.isArray(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(i=o[null==r?void 0:r._variableName])||void 0===i?void 0:i[null==e?void 0:e._variableName])&&m._variables[r._variableName][e._variableName].includes(l),onCheckedChange:i=>k(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?Y(null==m?void 0:m._variables,e.choices).map(l=>{var i,o;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:l,checked:Array.isArray(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(i=o[null==r?void 0:r._variableName])||void 0===i?void 0:i[null==e?void 0:e._variableName])&&m._variables[r._variableName][e._variableName].includes(l),onCheckedChange:i=>k(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("/")?O(e.choices,(0,x.Z)(h)).map(l=>{var i,o;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:l,checked:Array.isArray(null==m?void 0:null===(o=m._variables)||void 0===o?void 0:null===(i=o[null==r?void 0:r._variableName])||void 0===i?void 0:i[null==e?void 0:e._variableName])&&m._variables[r._variableName][e._variableName].includes(l),onCheckedChange:i=>k(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):null})})})]}),!z(e)&&"select"===el(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(s.Ph,{value:(null==m?void 0:null===(en=m._variables)||void 0===en?void 0:null===(eo=en[null==r?void 0:r._variableName])||void 0===eo?void 0:eo[null==e?void 0:e._variableName])||"",onValueChange:l=>I(l,null==e?void 0:e._variableName),children:[(0,a.jsx)(s.i4,{"aria-label":null==e?void 0:e._variableName,className:"w-[280px]",children:(0,a.jsx)(s.ki,{placeholder:"Select an option"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsxs)(s.n5,{children:["Select ",null==e?void 0:e._variableName]}),null===(es=e.choices)||void 0===es?void 0:es.map(e=>(0,a.jsx)(s.Ql,{value:e,children:e},e))]})})]})]}),!z(e)&&"int"===el(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-left",children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{type:"button",onClick:q(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mr-4",children:(0,a.jsx)(G.Z,{className:"h-5 w-5","aria-hidden":"true"})}),(0,a.jsx)("input",{type:"int",className:"w-16 text-center block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",id:null==e?void 0:e._variableName,value:(null==m?void 0:null===(er=m._variables)||void 0===er?void 0:null===(et=er[null==r?void 0:r._variableName])||void 0===et?void 0:et[null==e?void 0:e._variableName])||0,onChange:l=>E(l,null==e?void 0:e._variableName)}),(0,a.jsx)("button",{type:"button",onClick:L(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(M.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})]}),!z(e)&&"json"===el(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{placeholder:"Here you can pass a dictionary as value. e.g. {key: value}",mode:"json",theme:"twilight",name:null==e?void 0:e._variableName,onChange:l=>J(l,null==e?void 0:e._variableName),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==m?void 0:null===(ec=m._variables)||void 0===ec?void 0:null===(ed=ec[null==r?void 0:r._variableName])||void 0===ed?void 0:ed[null==e?void 0:e._variableName])?JSON.stringify(null==m?void 0:null===(eu=m._variables)||void 0===eu?void 0:null===(ev=eu[null==r?void 0:r._variableName])||void 0===ev?void 0:ev[null==e?void 0:e._variableName],null,"	"):(null==m?void 0:null===(eh=m._variables)||void 0===eh?void 0:null===(em=eh[null==r?void 0:r._variableName])||void 0===em?void 0:em[null==e?void 0:e._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]}),!z(e)&&"code"===el(null==e?void 0:e.type,null==e?void 0:e.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{placeholder:"Write Python here...",mode:"python",theme:"tomorrow",name:null==e?void 0:e._variableName,onChange:l=>B(l,null==e?void 0:e._variableName),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==m?void 0:null===(ex=m._variables)||void 0===ex?void 0:null===(ep=ex[null==r?void 0:r._variableName])||void 0===ep?void 0:ep[null==e?void 0:e._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]})]},null==e?void 0:e._variableName)}),ei(w(_(null==m?void 0:null===(i=m.types)||void 0===i?void 0:i[null==r?void 0:r.type],null==m?void 0:m.types)))&&f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{g(!f)},children:["Show optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" →"})]})})]}),ei(w(_(null==m?void 0:null===(n=m.types)||void 0===n?void 0:n[null==r?void 0:r.type],null==m?void 0:m.types)))&&!f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-200 border-b border-t border-gray-200"}),(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>{g(!f)},children:["Hide optional parameters",(0,a.jsx)("span",{"aria-hidden":"true",children:" ←"})]})})]})]})]})}):null};let eo=(0,i(64070).default)(async()=>{let e=await Promise.resolve().then(i.bind(i,22392));return await Promise.resolve().then(i.t.bind(i,83346,23)),await Promise.resolve().then(i.t.bind(i,78187,23)),await Promise.resolve().then(i.t.bind(i,19234,23)),e},{loadableGenerated:{webpack:()=>[19234]},ssr:!1});function en(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}function es(e,l){return"code"===e?"code":"text-area"===e?"text-area":"str"===e||"string"===e?l?"select":"str":"int"===e?l?"select":"int":"json"===e||"query"===e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e||"multiselect"===e?"multi-select":"multi-checkbox"===e?"multi-checkbox":"multi-str"===e?"multi-str":"complex"===e?"complex":"not_found"}function et(e){var l,i,n,d,c;let{complexFields:v}=e,m=(0,u.I0)(),h=(0,u.v9)(e=>e.stack.submittedStack),b=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),f=(0,r.useSearchParams)();(0,r.useRouter)();let g=null==v?void 0:null===(l=v[0])||void 0===l?void 0:l._variableName,j=(null===(i=f.get(g))||void 0===i?void 0:i.split(","))||[null==v?void 0:null===(n=v[0])||void 0===n?void 0:n._variableName],[y,S]=(0,o.useState)([]);(0,o.useEffect)(()=>{j&&v&&S(j.map(e=>v.find(l=>(null==l?void 0:l._variableName)===e)||v[0]))},[j,v]);let[k,P]=(0,o.useState)(null===(d=Array(null==v?void 0:v.length))||void 0===d?void 0:d.fill(!0)),E=(e,l)=>{var i,a,o;let n=null==y?void 0:null===(i=y[e])||void 0===i?void 0:i._variableName,s=null===(o=(Array.isArray(null==h?void 0:null===(a=h._variables)||void 0===a?void 0:a[n])?h._variables[n]:[])[e])||void 0===o?void 0:o[l];return void 0!==s?s:[]},I=(e,l,i)=>{var a,o;let n=null==y?void 0:null===(a=y[e])||void 0===a?void 0:a._variableName,s=Array.isArray(null==h?void 0:null===(o=h._variables)||void 0===o?void 0:o[n])?h._variables[n]:[],t=[...s];t[e]={...(null==s?void 0:s[e])||{},[l]:i};let r={...null==h?void 0:h._variables,[n]:t},d={...h,_variables:r};m((0,N.q7)(d))},L=(e,l,i)=>{let a=E(i,l);a.push(e.target.value),I(i,l,a)},q=(e,l,i)=>{let a=E(i,l).filter((l,i)=>i!==e);I(i,l,a)},z=(e,l,i,a)=>{var o,n,s,t;let r=null==y?void 0:null===(o=y[a])||void 0===o?void 0:o._variableName,d=(null==h?void 0:null===(s=h._variables)||void 0===s?void 0:null===(n=s[r])||void 0===n?void 0:n[null==i?void 0:i._variableName])||[];if(!Array.isArray(d)){console.error('Expected an array for field "'.concat(null==i?void 0:i._variableName,'", but got:'),d);return}let c=l?[...d,e]:d.filter(l=>l!==e);m((0,N.q7)({...h,_variables:{...null==h?void 0:h._variables,[r]:{...null==h?void 0:null===(t=h._variables)||void 0===t?void 0:t[r],[null==i?void 0:i._variableName]:c}}}))},J=(e,l,i)=>{I(e,l,!i)},B=(e,l,i)=>{I(e,l,i)},D=(e,l)=>{var i,a,o,n;let s=parseInt(null==h?void 0:null===(n=h._variables)||void 0===n?void 0:null===(a=n[null==y?void 0:null===(o=y[e])||void 0===o?void 0:o._variableName])||void 0===a?void 0:null===(i=a[e])||void 0===i?void 0:i[l])||0;I(e,l,s+1)},U=(e,l)=>{var i,a,o,n;let s=parseInt(null==h?void 0:null===(n=h._variables)||void 0===n?void 0:null===(a=n[null==y?void 0:null===(o=y[e])||void 0===o?void 0:o._variableName])||void 0===a?void 0:null===(i=a[e])||void 0===i?void 0:i[l])||0;I(e,l,s-1)},W=(e,l,i)=>{try{let a=""===i?{}:JSON.parse(i);I(e,l,a)}catch(a){console.error("Error parsing JSON:",a),I(e,l,i)}},X=(e,l,i)=>{I(e,l,i)},H=e=>{P(l=>{let i=[...l];return i[e]=!i[e],i})},Q=e=>{S(l=>l.filter((l,i)=>i!==e));let l={...null==h?void 0:h._variables};Object.keys(l).forEach(i=>{if(Array.isArray(l[i])){var a;l[i]=null==l?void 0:null===(a=l[i])||void 0===a?void 0:a.filter((l,i)=>i!==e)}});let i={...h,_variables:l};m((0,N.q7)(i));let a=j.filter((l,i)=>i!==e),o=new URL(window.location),n=new URLSearchParams(o.search);n.set(g,a.join(",")),window.history.pushState(null,"","".concat(o.pathname,"?").concat(n.toString()))};return h?(0,a.jsxs)(a.Fragment,{children:[y.map((e,l)=>{var i,n;return(0,a.jsxs)("div",{className:"mt-4 mb-2 pt-4 rounded-2xl border-4 border-dashed border-gray-900/25 px-6 py-10",children:[(0,a.jsx)("div",{className:"space-y-12",children:(0,a.jsx)("div",{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:(0,a.jsxs)(t._,{className:"text-xl",htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]})}),(null==y?void 0:y.length)>1&&(0,a.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,a.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 outline ring-2 ring-indigo-500",onClick:()=>Q(l),children:[(0,a.jsx)("span",{className:"sr-only",children:"Close"}),(0,a.jsx)(V.Z,{className:"h-6 w-6","aria-hidden":"true"})]})})]})})}),(0,a.jsx)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:w(_(null==h?void 0:null===(i=h.types)||void 0===i?void 0:i[null==e?void 0:e.type],null==h?void 0:h.types)).map(i=>{var n,r,d,c,v,u,m,f,g,N,j,_,w,S,P,E,H,Q,K,ee,el,ei,ea,et,er,ed,ec,ev,eu,em,eh,ep,ex,eb,ef,eg,eN,ej,ey,e_,ew,eS,ek,eA,eZ,eC,eP,eE,eF,eI,eO,eL,eq,eT,ez,eR,eJ,eB,eD,eU,eV,eM,eG,eW;return(0,a.jsx)(o.Fragment,{children:(!i.optional||k[l])&&(0,a.jsxs)(a.Fragment,{children:["str"===es(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(A.I,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(c=h._variables)||void 0===c?void 0:null===(r=c[null==y?void 0:null===(d=y[l])||void 0===d?void 0:d._variableName])||void 0===r?void 0:null===(n=r[l])||void 0===n?void 0:n[null==i?void 0:i._variableName])||"",onChange:e=>I(l,null==i?void 0:i._variableName,e.target.value),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i._variableName," value here")})]}),"text-area"===es(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(F,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(f=h._variables)||void 0===f?void 0:null===(u=f[null==y?void 0:null===(m=y[l])||void 0===m?void 0:m._variableName])||void 0===u?void 0:null===(v=u[l])||void 0===v?void 0:v[null==i?void 0:i._variableName])||"",onChange:e=>I(l,null==i?void 0:i._variableName,e.target.value),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i._variableName," value here"),className:"resize-none",rows:6})]}),"multi-select"===es(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==i?void 0:i._variableName,children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==h?void 0:null===(_=h._variables)||void 0===_?void 0:null===(N=_[null==y?void 0:null===(j=y[l])||void 0===j?void 0:j._variableName])||void 0===N?void 0:null===(g=N[l])||void 0===g?void 0:g[null==i?void 0:i._variableName])&&(null==h?void 0:null===(H=h._variables)||void 0===H?void 0:null===(P=H[null==y?void 0:null===(E=y[l])||void 0===E?void 0:E._variableName])||void 0===P?void 0:null===(S=P[l])||void 0===S?void 0:null===(w=S[null==i?void 0:i._variableName])||void 0===w?void 0:w.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==h?void 0:null===(el=h._variables)||void 0===el?void 0:null===(K=el[null==y?void 0:null===(ee=y[l])||void 0===ee?void 0:ee._variableName])||void 0===K?void 0:null===(Q=K[l])||void 0===Q?void 0:Q[null==i?void 0:i._variableName])&&(null==h?void 0:null===(er=h._variables)||void 0===er?void 0:null===(ea=er[null==y?void 0:null===(et=y[l])||void 0===et?void 0:et._variableName])||void 0===ea?void 0:null===(ei=ea[l])||void 0===ei?void 0:ei[null==i?void 0:i._variableName].map((e,n)=>(0,a.jsx)(o.Fragment,{children:(0,a.jsxs)("button",{type:"button",className:"mt-2 inline-flex items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[e,(0,a.jsx)(V.Z,{onClick:()=>q(n,null==i?void 0:i._variableName,l),className:"-mr-0.5 h-4 w-4","aria-hidden":"true"})]})},n)))]})]}),(0,a.jsxs)("select",{id:null==i?void 0:i.name,name:null==i?void 0:i.name,value:"",onChange:e=>L(e,null==i?void 0:i._variableName,l),placeholder:(null==i?void 0:i.default)?"Default: ".concat(null==i?void 0:i.default):"Type the ".concat(null==i?void 0:i.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==i?void 0:i.choices)?i.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==i?void 0:i.choices)&&i.choices.startsWith("$")?Y(null==h?void 0:h._variables,i.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==i?void 0:i.choices)&&i.choices.startsWith("/")?O(i.choices,(0,x.Z)(b)).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):null]},JSON.stringify(null==h?void 0:null===(ec=h._variables)||void 0===ec?void 0:null===(ed=ec[null==e?void 0:e._variableName])||void 0===ed?void 0:ed[null==i?void 0:i._variableName]))]}),"multi-checkbox"===es(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==i?void 0:i._variableName,children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(C.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:(null==i?void 0:i.choices)&&(null==i?void 0:i.choices.map(o=>{var n,s,t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:o,checked:null==h?void 0:null===(t=h._variables)||void 0===t?void 0:null===(s=t[null==e?void 0:e._variableName])||void 0===s?void 0:null===(n=s[null==i?void 0:i._variableName])||void 0===n?void 0:n.includes(o),onCheckedChange:e=>z(o,e,i,l)}),(0,a.jsx)("label",{htmlFor:o,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:o})]},o),(0,a.jsx)(T,{className:"my-16"})]})}))})})})]}),"boolean"===es(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)($.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)($.r,{id:"".concat(l,"-").concat(null==i?void 0:i._variableName),checked:null==h?void 0:null===(eh=h._variables)||void 0===eh?void 0:null===(eu=eh[null==y?void 0:null===(em=y[l])||void 0===em?void 0:em._variableName])||void 0===eu?void 0:null===(ev=eu[l])||void 0===ev?void 0:ev[null==i?void 0:i._variableName],onChange:e=>{var a,o,n,s;return J(l,null==i?void 0:i._variableName,null==h?void 0:null===(s=h._variables)||void 0===s?void 0:null===(o=s[null==y?void 0:null===(n=y[l])||void 0===n?void 0:n._variableName])||void 0===o?void 0:null===(a=o[l])||void 0===a?void 0:a[null==i?void 0:i._variableName])},className:en((null==h?void 0:null===(ef=h._variables)||void 0===ef?void 0:null===(ex=ef[null==y?void 0:null===(eb=y[l])||void 0===eb?void 0:eb._variableName])||void 0===ex?void 0:null===(ep=ex[l])||void 0===ep?void 0:ep[null==i?void 0:i._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:en((null==h?void 0:null===(ey=h._variables)||void 0===ey?void 0:null===(eN=ey[null==y?void 0:null===(ej=y[l])||void 0===ej?void 0:ej._variableName])||void 0===eN?void 0:null===(eg=eN[l])||void 0===eg?void 0:eg[null==i?void 0:i._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)($.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==i?void 0:i._variableName})," ",(null==i?void 0:i.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]})})]},l),"select"===es(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsxs)(s.Ph,{value:(null==h?void 0:null===(ek=h._variables)||void 0===ek?void 0:null===(ew=ek[null==y?void 0:null===(eS=y[l])||void 0===eS?void 0:eS._variableName])||void 0===ew?void 0:null===(e_=ew[l])||void 0===e_?void 0:e_[null==i?void 0:i._variableName])||"",onValueChange:e=>B(l,null==i?void 0:i._variableName,e),children:[(0,a.jsx)(s.i4,{className:"w-[280px]",children:(0,a.jsx)(s.ki,{placeholder:"Select an option"})}),(0,a.jsx)(s.Bw,{children:null==i?void 0:null===(eA=i.choices)||void 0===eA?void 0:eA.map(e=>(0,a.jsx)(s.Ql,{value:e,children:e},e))})]})]}),"int"===es(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>U(l,null==i?void 0:i._variableName),children:(0,a.jsx)(G.Z,{className:"h-4 w-4"})}),(0,a.jsx)(A.I,{type:"number",id:"".concat(l,"-").concat(null==i?void 0:i._variableName),value:(null==h?void 0:null===(eE=h._variables)||void 0===eE?void 0:null===(eC=eE[null==y?void 0:null===(eP=y[l])||void 0===eP?void 0:eP._variableName])||void 0===eC?void 0:null===(eZ=eC[l])||void 0===eZ?void 0:eZ[null==i?void 0:i._variableName])||0,onChange:e=>I(l,null==i?void 0:i._variableName,parseInt(e.target.value)),className:"w-20 text-center"}),(0,a.jsx)(p.z,{type:"button",variant:"outline",size:"icon",onClick:()=>D(l,null==i?void 0:i._variableName),children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})})]})]}),"json"===es(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(eo,{mode:"json",theme:"github",name:"".concat(l,"-").concat(null==i?void 0:i._variableName),onChange:e=>W(l,null==i?void 0:i._variableName,e),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==h?void 0:null===(eL=h._variables)||void 0===eL?void 0:null===(eI=eL[null==y?void 0:null===(eO=y[l])||void 0===eO?void 0:eO._variableName])||void 0===eI?void 0:null===(eF=eI[l])||void 0===eF?void 0:eF[null==i?void 0:i._variableName])?JSON.stringify(null==h?void 0:null===(eR=h._variables)||void 0===eR?void 0:null===(eT=eR[null==y?void 0:null===(ez=y[l])||void 0===ez?void 0:ez._variableName])||void 0===eT?void 0:null===(eq=eT[l])||void 0===eq?void 0:eq[null==i?void 0:i._variableName],null,2):(null==h?void 0:null===(eU=h._variables)||void 0===eU?void 0:null===(eB=eU[null==y?void 0:null===(eD=y[l])||void 0===eD?void 0:eD._variableName])||void 0===eB?void 0:null===(eJ=eB[l])||void 0===eJ?void 0:eJ[null==i?void 0:i._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]}),"code"===es(null==i?void 0:i.type,null==i?void 0:i.choices)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:"".concat(l,"-").concat(null==i?void 0:i._variableName),children:[null==i?void 0:i._variableName," ",(null==i?void 0:i.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==i?void 0:i.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==i?void 0:i.tooltip})})]}),(0,a.jsx)(eo,{mode:"python",theme:"github",name:"".concat(l,"-").concat(null==i?void 0:i._variableName),onChange:e=>X(l,null==i?void 0:i._variableName,e),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==h?void 0:null===(eW=h._variables)||void 0===eW?void 0:null===(eM=eW[null==y?void 0:null===(eG=y[l])||void 0===eG?void 0:eG._variableName])||void 0===eM?void 0:null===(eV=eM[l])||void 0===eV?void 0:eV[null==i?void 0:i._variableName])||"",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{width:"100%",height:"200px"}})]})]})},null==i?void 0:i._variableName)})}),w(_(null==h?void 0:null===(n=h.types)||void 0===n?void 0:n[null==e?void 0:e.type],null==h?void 0:h.types)).some(e=>!0===e.optional)&&(0,a.jsx)("div",{className:"mt-6 flex",children:(0,a.jsxs)(p.z,{variant:"link",onClick:()=>H(l),children:[(null==k?void 0:k[l])?"Hide":"Show"," optional parameters"]})})]},l)}),(null==y?void 0:null===(c=y[0])||void 0===c?void 0:c.sequence)>0&&(0,a.jsx)("div",{className:"flex items-center justify-center mt-6",children:(0,a.jsx)("button",{type:"button",onClick:()=>{let e=null==v?void 0:v[0];S(l=>[...l,e]);let l=[...j,null==e?void 0:e._variableName],i=new URL(window.location),a=new URLSearchParams(i.search);a.set(g,l.join(",")),window.history.pushState(null,"","".concat(i.pathname,"?").concat(a.toString()))},className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(M.Z,{className:"h-5 w-5","aria-hidden":"true"})})})]}):null}var er=e=>{let{header:l="Edit now",description:i="Edit these fields",sequence:n=null,children:s}=e,[t,r]=(0,o.useState)(!1),[d,c]=(0,o.useState)(""),[v,m]=(0,o.useState)((0,b.Z)()),h=(0,u.v9)(e=>e.stack.submittedStack);return(0,o.useEffect)(()=>{if(n&&h){var e;let i=(null===(e=h._variables)||void 0===e?void 0:e[l])||[];if(i.length>0){let e=new URL(window.location),a=new URLSearchParams(e.search),o=Array(i.length).fill(l).join(",");a.set(l,o);let n="".concat(e.origin).concat(e.pathname,"?").concat(a.toString());n!==d&&(c(n),window.history.replaceState(null,"",n),m((0,b.Z)()),r(!0))}}},[n,h,l,d]),(0,a.jsx)("div",{children:t&&(0,a.jsx)("div",{children:s})})},ed=i(86288),ec=i(23919);function ev(){return(0,a.jsx)(ed.Zb,{className:"w-full max-w-md",children:(0,a.jsx)(ed.aY,{className:"flex items-center space-x-4 p-6",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ec.Z,{className:"h-10 w-10 text-primary animate-spin"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Loading..."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please wait while we check for schemas."})]})]})})})}var eu=i(13271);function em(){for(var e=arguments.length,l=Array(e),i=0;i<e;i++)l[i]=arguments[i];return l.filter(Boolean).join(" ")}let eh=e=>(null==e?void 0:e.types)&&"object"==typeof e.types?Object.keys(e.types):[];function ep(e,l,i){return"code"===e?"code":"text-area"===e?"text-area":"multi-str"===e?"multi-str":"multi-checkbox"===e?"multi-checkbox":"str"===e||"string"===e?l?"select":"str":"int"===e?l?"select":"int":"json"===e||"query"==e?"json":"bool"===e||"boolean"===e?"boolean":"multi-select"===e?"multi-select":"complex"===e?"complex":i.includes(e)?e:"not_found"}var ex=function(e){let{simple:l=!1}=e,i=(0,r.useSearchParams)(),n=i.get("identifier");i.get("type_id");let c=(0,u.I0)(),m=(0,u.v9)(e=>e.stack.stackSelectedTemplate),h=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),b=(0,u.v9)(e=>e.stack.submittedStack),[f,j]=(0,o.useState)(0),[y,S]=(0,o.useState)(!0),[k,P]=(0,o.useState)([...eu.defaultFormTypes]),[E,I]=(0,o.useState)({}),[O,q]=(0,o.useState)(0),[J,B]=(0,o.useState)(0);(0,o.useEffect)(()=>{(null==b?void 0:b.schema)&&B(Object.keys(b.schema).length+1)},[null==b?void 0:b.schema]);let D=(e,l)=>{let{target:i}=e;I(e=>({...e,[l]:i.value}))};(0,o.useEffect)(()=>{b&&(j(0),P([...k,...eh(b)]))},[b]);let ee=(e,l)=>{c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e.target.value}})),j(e=>e+1)},el=(e,l)=>{c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e}})),j(e=>e+1)},ei=(e,l)=>{var i,a,o,n,s;c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:(null==b?void 0:null===(i=b._variables)||void 0===i?void 0:i[l])&&(null==b?void 0:null===(o=b._variables)||void 0===o?void 0:null===(a=o[l])||void 0===a?void 0:a.includes(e.target.value))?[...null==b?void 0:null===(n=b._variables)||void 0===n?void 0:n[l],e.target.value]:[...(null==b?void 0:null===(s=b._variables)||void 0===s?void 0:s[l])||[],e.target.value]}})),j(e=>e+1)},eo=(e,l)=>{ei({target:{value:e}},l),j(e=>e+1),I(e=>({...e,[l]:""}))},en=(e,l,i)=>{var a,o;let n=l?[...null==b?void 0:null===(a=b._variables)||void 0===a?void 0:a[null==i?void 0:i._variableName],e]:null==b?void 0:null===(o=b._variables)||void 0===o?void 0:o[null==i?void 0:i._variableName].filter(l=>l!==e);c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[null==i?void 0:i._variableName]:n}})),j(e=>e+1)},es=(e,l)=>{var i,a,o;c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:Array.isArray(null==b?void 0:null===(i=b._variables)||void 0===i?void 0:i[l])?null==b?void 0:null===(o=b._variables)||void 0===o?void 0:null===(a=o[l])||void 0===a?void 0:a.filter((l,i)=>i!==e):[]}})),j(e=>e+1)};(0,o.useEffect)(()=>{b&&n&&!(null==b?void 0:b.identifier)&&c((0,N.q7)({...b,identifier:n}))},[n,b]);let ed=(e,l)=>{c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:!e}})),j(e=>e+1)},ec=(e,l)=>{let i=e.target.value;try{let e=parseInt(i,10);isNaN(e)?v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"}):(c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e}})),j(e=>e+1))}catch(e){console.error("Error:",e),v.ZP.error("The value for ".concat(l," must be an integer."),{id:"integer-error"})}},ex=e=>()=>{var l;c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[e]:(parseInt(null==b?void 0:null===(l=b._variables)||void 0===l?void 0:l[e])||0)+1}})),j(e=>e+1)},eb=e=>()=>{var l;c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[e]:(parseInt(null==b?void 0:null===(l=b._variables)||void 0===l?void 0:l[e])||0)-1}})),j(e=>e+1)},ef=e=>null!=e&&!!e.optional&&!!y,eg=(e,l)=>{try{let i;""===e?i={}:"string"==typeof e?(i=JSON.parse(e),JSON.stringify(i,null,2)):i={},console.log("Parsed JSON:",i),c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:i}}))}catch(i){console.error("Error parsing JSON:",i),c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e}}))}},eN=(e,l)=>{try{c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e}}))}catch(i){console.error("Error parsing JSON:",i),c((0,N.q7)({...b,_variables:{...null==b?void 0:b._variables,[l]:e}}))}};return b?!m||(null==b?void 0:b.schema)?(0,a.jsxs)("div",{className:"flex flex-col h-[550px]",children:[(0,a.jsx)("div",{className:"flex-grow overflow-y-auto",children:(0,a.jsx)("div",{className:"",children:(null==b?void 0:b.schema)&&(0===O?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsxs)(K.C,{variant:"secondary",className:"h-6 px-2 font-medium",children:["Step 1 of ",J]}),(0,a.jsx)("h2",{className:"text-lg font-medium leading-none tracking-tight",children:"identifier"})]}),(0,a.jsx)(U,{})]}):w(_(null==b?void 0:b.schema,null==b?void 0:b.types)).map((e,l)=>{var i,n,r,c,v,u,m,f,g,N,j,y,_,w,S,P,I,q,B,U;return l===O-1&&(0,a.jsxs)(o.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsxs)(K.C,{variant:"secondary",className:"h-6 px-2 font-medium",children:["Step ",O+1," of ",J]}),(0,a.jsx)("h2",{className:"text-lg font-medium leading-none tracking-tight",children:null==e?void 0:e._variableName})]}),(0,a.jsxs)(o.Fragment,{children:[!ef(e)&&"str"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(A.I,{id:null==e?void 0:e._variableName,value:(null==b?void 0:null===(i=b._variables)||void 0===i?void 0:i[null==e?void 0:e._variableName])||"",onChange:l=>ee(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),autocomplete:"off"})]}),!ef(e)&&"select"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(s.Ph,{value:(null==b?void 0:null===(n=b._variables)||void 0===n?void 0:n[null==e?void 0:e._variableName])||"",onValueChange:l=>el(l,null==e?void 0:e._variableName),children:[(0,a.jsx)(s.i4,{"aria-label":null==e?void 0:e._variableName,className:"w-[280px]",children:(0,a.jsx)(s.ki,{placeholder:"Select an option"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsxs)(s.n5,{children:["Select ",null==e?void 0:e._variableName]}),Array.isArray(null==e?void 0:e.choices)&&e.choices.map(e=>(0,a.jsx)(s.Ql,{value:e,children:e},e))]})})]})]}),!ef(e)&&"not_found"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)(Q.bZ,{variant:"destructive",children:[(0,a.jsx)(H.Z,{className:"h-4 w-4"}),(0,a.jsx)(Q.Cd,{children:"Error"}),(0,a.jsxs)(Q.X,{children:["Type:"," ",(0,a.jsx)(K.C,{variant:"destructive",children:null==e?void 0:e.type})," ","is not a valid type. Please create this type and refer it in the schema."]})]})]}),!ef(e)&&"text-area"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(F,{id:null==e?void 0:e._variableName,value:(null==b?void 0:null===(r=b._variables)||void 0===r?void 0:r[null==e?void 0:e._variableName])||"",onChange:l=>ee(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e._variableName," value here"),className:"resize-none",rows:6})]}),!ef(e)&&"boolean"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mt-4 mb-2",children:(0,a.jsxs)($.r.Group,{as:"div",className:"flex items-center",children:[(0,a.jsx)($.r,{checked:null==b?void 0:null===(c=b._variables)||void 0===c?void 0:c[null==e?void 0:e._variableName],onChange:()=>{var l;return ed(null==b?void 0:null===(l=b._variables)||void 0===l?void 0:l[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},className:em((null==b?void 0:null===(v=b._variables)||void 0===v?void 0:v[null==e?void 0:e._variableName])?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:em((null==b?void 0:null===(u=b._variables)||void 0===u?void 0:u[null==e?void 0:e._variableName])?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,a.jsxs)($.r.Label,{as:"span",className:"ml-3 text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==e?void 0:e._variableName})," ",(null==e?void 0:e.optional)?(0,a.jsx)("span",{className:"text-gray-500",children:"(optional)"}):(0,a.jsx)("span",{className:"text-rose-500"}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]})]})})}),!ef(e)&&"multi-select"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})}),(0,a.jsxs)("div",{className:"mt-0 items-center gap-x-2.5 gap-y-2.5 text-xs leading-5 text-gray-400",children:[(0,a.jsxs)("p",{className:"whitespace-nowrap",children:["Selected values:"," ",(null==b?void 0:null===(m=b._variables)||void 0===m?void 0:m[null==e?void 0:e._variableName])&&(null==b?void 0:null===(g=b._variables)||void 0===g?void 0:null===(f=g[null==e?void 0:e._variableName])||void 0===f?void 0:f.length)===0&&(0,a.jsx)("span",{children:"None"})]}),(null==b?void 0:null===(N=b._variables)||void 0===N?void 0:N[null==e?void 0:e._variableName])&&(null==b?void 0:null===(j=b._variables)||void 0===j?void 0:j[null==e?void 0:e._variableName].map((l,i)=>(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center rounded-full bg-white m-0.5 px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(V.Z,{onClick:()=>es(i,null==e?void 0:e._variableName),className:"ml-1 h-4 w-4 text-gray-400 hover:text-gray-600","aria-hidden":"true"})]},i)))]})]}),(0,a.jsxs)("select",{id:null==e?void 0:e.name,name:null==e?void 0:e.name,value:"",onChange:l=>ei(l,null==e?void 0:e._variableName),placeholder:(null==e?void 0:e.default)?"Default: ".concat(null==e?void 0:e.default):"Type the ".concat(null==e?void 0:e.name," value here"),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[(0,a.jsx)("option",{value:"",children:"Select values to create sequence"},"uploadArtifact"),Array.isArray(null==e?void 0:e.choices)?e.choices.map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?Y(null==b?void 0:b._variables,e.choices).map(e=>(0,a.jsx)("option",{value:e,children:e},e)):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("/")?(0,a.jsx)(L,{choices:e.choices,authHeaderToken:(0,x.Z)(h)}):null]},JSON.stringify(null==b?void 0:null===(y=b._variables)||void 0===y?void 0:y[null==e?void 0:e._variableName]))]}),!ef(e)&&"multi-str"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(null==b?void 0:null===(_=b._variables)||void 0===_?void 0:_[null==e?void 0:e._variableName])&&(null==b?void 0:null===(w=b._variables)||void 0===w?void 0:w[null==e?void 0:e._variableName].map((l,i)=>(0,a.jsxs)("button",{type:"button",className:"inline-flex m-0.5 items-center rounded-full bg-white px-2.5 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[l,(0,a.jsx)(V.Z,{onClick:()=>es(i,null==e?void 0:e._variableName),className:"ml-1 h-4 w-4 text-gray-400 hover:text-gray-600","aria-hidden":"true"})]},i))),(0,a.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,a.jsx)(A.I,{id:null==e?void 0:e.name,name:null==e?void 0:e.name,type:"text",value:E[null==e?void 0:e._variableName]||"",placeholder:"Type the ".concat(null==e?void 0:e._variableName," value here"),onChange:l=>D(l,null==e?void 0:e._variableName),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6","aria-label":"Enter item"}),(0,a.jsx)(p.z,{type:"button",onClick:()=>{eo(E[null==e?void 0:e._variableName],null==e?void 0:e._variableName)},"aria-label":"Add ".concat(null==e?void 0:e._variableName),disabled:!(null===(S=E[null==e?void 0:e._variableName])||void 0===S?void 0:S.trim()),className:"justify-center p-2 rounded bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2",children:(0,a.jsx)(M.Z,{className:"h-4 w-4"})})]})]}),!ef(e)&&"multi-checkbox"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(C.x,{className:"h-72 w-full rounded-md border",children:(0,a.jsx)("div",{className:"flex space-x-2 mt-2 m-2",children:(0,a.jsx)("div",{className:"space-y-4",children:Array.isArray(null==e?void 0:e.choices)?e.choices.map(l=>{var i,o;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:l,checked:null==b?void 0:null===(o=b._variables)||void 0===o?void 0:null===(i=o[null==e?void 0:e._variableName])||void 0===i?void 0:i.includes(l),onCheckedChange:i=>en(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("$")?Y(null==b?void 0:b._variables,e.choices).map(l=>{var i,o;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.X,{id:l,checked:null==b?void 0:null===(o=b._variables)||void 0===o?void 0:null===(i=o[null==e?void 0:e._variableName])||void 0===i?void 0:i.includes(l),onCheckedChange:i=>en(l,i,e)}),(0,a.jsx)("label",{htmlFor:l,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l})]},l),(0,a.jsx)(T,{className:"my-16"})]})}):"string"==typeof(null==e?void 0:e.choices)&&e.choices.startsWith("/")?(0,a.jsx)(z,{choices:e.choices,authHeaderToken:(0,x.Z)(h),submittedStack:b,handleMultiCheckboxChange:en,field:e}):null})})})]}),!ef(e)&&"int"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-left",children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{type:"button",onClick:eb(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mr-4",children:(0,a.jsx)(G.Z,{className:"h-5 w-5","aria-hidden":"true"})}),(0,a.jsx)("input",{type:"int",className:"w-16 text-center block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",id:null==e?void 0:e._variableName,value:(null==b?void 0:null===(P=b._variables)||void 0===P?void 0:P[null==e?void 0:e._variableName])||0,onChange:l=>ec(l,null==e?void 0:e._variableName)}),(0,a.jsx)("button",{type:"button",onClick:ex(null==e?void 0:e._variableName),className:"rounded-full bg-indigo-600 p-1 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ml-4",children:(0,a.jsx)(M.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})]}),!ef(e)&&"json"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Here you can pass a dictionary as value. e.g. {key: value}",mode:"json",theme:"twilight",name:null==e?void 0:e._variableName,onChange:l=>eg(l,null==e?void 0:e._variableName),fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:"object"==typeof(null==b?void 0:null===(I=b._variables)||void 0===I?void 0:I[null==e?void 0:e._variableName])?JSON.stringify(null==b?void 0:null===(q=b._variables)||void 0===q?void 0:q[null==e?void 0:e._variableName],null,"	"):(null==b?void 0:null===(B=b._variables)||void 0===B?void 0:B[null==e?void 0:e._variableName])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,style:{width:"100%",height:"200px"}})]}),!ef(e)&&"code"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-4 mb-2",children:[(0,a.jsxs)(t._,{htmlFor:null==e?void 0:e._variableName,children:[null==e?void 0:e._variableName," ",(null==e?void 0:e.optional)?"(optional)":(0,a.jsx)("span",{className:"text-rose-500"})]}),(null==e?void 0:e.tooltip)&&(0,a.jsx)(R.Z,{className:"-mr-0.5",popovercontent:(0,a.jsx)("p",{children:null==e?void 0:e.tooltip})})]}),(0,a.jsx)(d.default,{className:"mt-2 rounded-md border-2 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Write Python here...",mode:"python",theme:"tomorrow",name:null==e?void 0:e._variableName,onChange:l=>eN(l,null==e?void 0:e._variableName),fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:(null==b?void 0:null===(U=b._variables)||void 0===U?void 0:U[null==e?void 0:e._variableName])||"",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,style:{width:"100%",height:"200px"}})]}),"not_found"!==ep(null==e?void 0:e.type,null==e?void 0:e.choices,k)&&!eu.defaultFormTypes.includes(ep(null==e?void 0:e.type,null==e?void 0:e.choices,k))&&(!ef(e)||"complex"===ep(null==e?void 0:e.type,null==e?void 0:e.choices,k))&&(0,a.jsx)("div",{children:(0,a.jsx)(er,{header:null==e?void 0:e._variableName,sequence:null==e?void 0:e.sequence,children:(null==e?void 0:e.sequence)?(0,a.jsx)(et,{complexFields:[e]}):(0,a.jsx)(ea,{complexField:e})},"".concat(null==e?void 0:e._variableName,"-").concat(null==e?void 0:e.sequence))})]},null==e?void 0:e._variableName)]},null==e?void 0:e._variableName)}))})}),(0,a.jsxs)("div",{className:"flex justify-between mt-4 md:p-4 border-t",children:[(0,a.jsxs)(p.z,{variant:"outline",onClick:()=>q(e=>Math.max(0,e-1)),disabled:0===O,className:"w-[100px]",children:[(0,a.jsx)(W.Z,{className:"h-4 w-4 mr-2"}),"Previous"]}),O===J-1?(0,a.jsx)(g,{simple:!0}):(0,a.jsxs)(p.z,{onClick:()=>{O<J-1?q(e=>e+1):console.log("Form completed")},className:"w-[100px]",children:["Next",(0,a.jsx)(X.Z,{className:"h-4 w-4 ml-2"})]})]})]}):(0,a.jsx)(ev,{}):null};let{getReasonPhrase:eb}=i(70194);function ef(e){let{simple:l=!1,autoselect:i=!1}=e,d=(0,r.useRouter)(),c=(0,u.v9)(e=>e.environment.environmentLoadedValues),m=(0,r.useSearchParams)(),h=m.get("identifier"),p=m.get("type_id"),b=(0,u.v9)(e=>e.stack.stackSelectedTemplate),f=(0,u.v9)(e=>{var l;return null==e?void 0:null===(l=e.userInfo)||void 0===l?void 0:l.userInfoLoadedValues}),g=(0,u.I0)(),[j,y]=(0,o.useState)("{}"),[_,w]=(0,o.useState)({}),k=()=>{d.push("/webui/add-application",void 0,{shallow:!0}),g((0,N.v$)("")),y(""),w({}),g((0,N.q7)(""))};(0,o.useEffect)(()=>{let e=n.Z.CancelToken.source(),l=async()=>{try{let l=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=template")),{headers:{Accept:"application/json",Authorization:(0,x.Z)(f),superduper_reverse_proxy:"http://localhost:8000"},cancelToken:e.token});Z([...l.data])}catch(e){n.Z.isCancel(e)?console.log("Request canceled",e.message):console.error("Error fetching Services API data.",e)}};return h&&p||l(),()=>{e.cancel("Operation canceled by the user.")}},[h,p,f,c]);let[A,Z]=(0,o.useState)(["No template added yet"]),[C,P]=(0,o.useState)("");if((0,o.useEffect)(()=>{if(!h||!p)return;let e=n.Z.CancelToken.source(),l=async(l,i)=>{try{return(await n.Z.get(l,{headers:i,cancelToken:e.token})).data}catch(e){n.Z.isCancel(e)?console.log("Request canceled",e.message):console.error("Error fetching data from ".concat(l," edit api:"),e)}};return(async()=>{let e="".concat("http://localhost:8000","/db/edit?type_id=").concat(p,"&identifier=").concat(h),i={Accept:"application/json",Authorization:(0,x.Z)(f),superduper_reverse_proxy:"http://localhost:8000"};try{let a=await l(e,i);a&&(g((0,N.v$)(h)),g((0,N.q7)(a)))}catch(e){v.ZP.error("Error fetching edit api."),P(e)}})(),()=>{e.cancel("Operation canceled by the user.")}},[h,p,f,c]),C){var E;let e=(null==C?void 0:C.status)||404,l=eb(e)||"Service Unavailable";return(0,a.jsx)(J.Z,{header:"Failed to fetch template data",shortMessage:l,status:e,description:(0,a.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:"Status: ".concat(e,",\nMessage: ").concat("object"==typeof(null==C?void 0:null===(E=C.response)||void 0===E?void 0:E.data)?JSON.stringify(C.response.data,null,2):(null==C?void 0:C.message)||"Unknown error occurred")})})}return(0,a.jsxs)(a.Fragment,{children:[!l&&!h&&!p&&(0,a.jsxs)("div",{className:"max-w-3xl",children:[(0,a.jsxs)(t._,{htmlFor:"terms",children:["Select a template"," ",b&&(0,a.jsx)("span",{onClick:k,className:"bg-transparent border-none text-indigo-500 cursor-pointer p-0",children:"(Remove Selection)"})]}),(0,a.jsxs)(s.Ph,{value:b,onValueChange:e=>{l||k(),g((0,N.v$)(e));let i=()=>{v.ZP.error("Error fetching template API data. Please check your connection. ");let e={error:"Error fetching template API data. No template information found!"};y(JSON.stringify(e,null,2)),g((0,N.q7)(e)),console.log("Error fetching template API data. Please check your connection. So returning to fallback data!")};(async()=>{try{let l=await n.Z.get("".concat("".concat("http://localhost:8000","/db/show_template?identifier=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,x.Z)(f),superduper_reverse_proxy:"http://localhost:8000"}});console.log("/webui/restapi/db/show_template?identifier=".concat(e),l.data);let i={...l.data,build_template:e};g((0,N.q7)(S(i)))}catch(e){console.log("Error fetching API",e),i()}})()},children:[(0,a.jsx)(s.i4,{className:"w-3/6 mt-2 mb-2",children:(0,a.jsx)(s.ki,{placeholder:"Select a template"})}),(0,a.jsx)(s.Bw,{children:(0,a.jsxs)(s.DI,{children:[(0,a.jsx)(s.n5,{children:"Select a template"}),null==A?void 0:A.map((e,l)=>(0,a.jsx)(s.Ql,{value:e,children:e},l))]})})]})]}),!l&&!h&&!p&&(0,a.jsx)("br",{}),(0,a.jsx)(ex,{simple:l}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{})]})}var eg=i(61883),eN=i(52269),ej=i(58153),ey=i(64386),e_=i(24878),ew=i(25820);function eS(e){let{id:l="default-id",onGoBack:i=()=>{}}=e,[n,s]=(0,o.useState)([]),[t,r]=(0,o.useState)(!0),[d,c]=(0,o.useState)(null),[v,u]=(0,o.useState)(!1),m=(0,o.useRef)(null),h=async()=>{r(!0),c(null),s([]);try{let e=await fetch("".concat("http://localhost:8000","/stdout?id=").concat(l));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let i=e.body.getReader(),a=new TextDecoder;for(;;){let{value:e,done:l}=await i.read();if(l){console.log("Stream complete");break}let o=a.decode(e,{stream:!0}).split("\n").filter(e=>""!==e.trim());s(e=>[...e,...o]),r(!1)}}catch(e){console.error("Error fetching logs:",e),c("Failed to fetch logs: ".concat(e.message))}finally{r(!1)}};return(0,o.useEffect)(()=>(h(),()=>{}),[l]),(0,o.useEffect)(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[n]),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"py-4 w-full max-w-7xl",children:(0,a.jsx)("a",{href:"/webui/application",onClick:i,children:(0,a.jsxs)(p.z,{className:"flex items-center space-x-2",children:[(0,a.jsx)(eg.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Go back"})]})})}),(0,a.jsx)("div",{className:"w-full max-w-7xl bg-white shadow-lg rounded-lg overflow-hidden",children:(0,a.jsx)("div",{className:"w-full bg-gray-900 ".concat(v?"fixed inset-0 z-50":"min-h-0"),children:(0,a.jsxs)("div",{className:"w-full flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-b border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),(0,a.jsxs)("span",{className:"text-gray-300 ml-4 font-mono",children:["Terminal - Apply Application Logs (",l,")"]})]}),(0,a.jsx)("button",{onClick:()=>{u(!v)},className:"text-gray-400 hover:text-gray-200",children:v?(0,a.jsx)(eN.Z,{className:"w-5 h-5"}):(0,a.jsx)(ej.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"p-4 overflow-hidden ".concat(v?"flex-1":"h-[400px]"),children:t?(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-300",children:[(0,a.jsx)(ey.Z,{className:"animate-spin"}),(0,a.jsx)("span",{className:"font-mono",children:"Initializing terminal session..."})]}):d?(0,a.jsxs)("div",{className:"text-red-400 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 font-mono",children:[(0,a.jsx)(H.Z,{className:"w-5 h-5"}),(0,a.jsxs)("span",{children:["Error: ",d]})]}),(0,a.jsxs)("button",{onClick:h,className:"flex items-center space-x-2 px-3 py-1 bg-gray-700 text-gray-200 rounded hover:bg-gray-600 font-mono",children:[(0,a.jsx)(e_.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Retry Connection"})]})]}):n.length>0?(0,a.jsx)("div",{ref:m,className:"font-mono text-sm text-green-400 overflow-y-auto h-full",children:n.map((e,l)=>(0,a.jsx)("div",{className:"whitespace-pre-wrap py-0.5 border-b border-gray-800/50 last:border-0",children:e},l))}):(0,a.jsx)("div",{className:"text-gray-500 font-mono",children:"No logs available. Waiting for data..."})}),(0,a.jsx)("div",{className:"bg-gray-800 p-2 border-t border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 font-mono",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ew.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{children:"Connected to logs"})]}),(0,a.jsx)("span",{children:new Date().toLocaleTimeString()})]})})]})})})]})}var ek=i(56146),eA=i(40837);function eZ(){let[e,l]=(0,o.useState)(!1),i=(0,r.useSearchParams)(),n=i.get("id"),s=i.get("identifier"),t=i.get("type_id");return n?(0,a.jsx)(eS,{id:n}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"mx-auto max-w-3xl",children:[(0,a.jsx)(ek.aG,{children:(0,a.jsxs)(ek.Jb,{children:[(0,a.jsx)(ek.gN,{children:(0,a.jsx)(ek.At,{href:"/webui",children:"Home"})}),(0,a.jsx)(ek.bg,{}),(0,a.jsx)(ek.gN,{children:(0,a.jsx)(ek.At,{href:"/webui/application",children:"Application"})}),(0,a.jsx)(ek.bg,{}),(0,a.jsx)(ek.gN,{children:(0,a.jsx)(ek.AG,{children:(0,a.jsx)("a",{href:"/webui/application",children:t&&s?"Edit Application":"Add Application"})})})]})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"border-b border-gray-200 pb-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold leading-7 text-gray-900",children:t&&s?"Edit ".concat(s):"Create application"}),(0,a.jsxs)(p.z,{variant:"outline",onClick:()=>l(!0),className:"flex items-center gap-2",children:[(0,a.jsx)(eA.Z,{className:"w-4 h-4"}),"Developer mode"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:t&&s?"Edit your application and click apply changes":"Set up your new application in a minute!"}),(0,a.jsx)(h.Vq,{open:e,onOpenChange:l,children:(0,a.jsxs)(h.cZ,{className:"sm:max-w-[1000px] max-h-[80vh] flex flex-col",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Developer Mode"}),(0,a.jsx)(h.Be,{children:"Access advanced settings and configurations for your application."})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto py-6",children:(0,a.jsx)("div",{className:"m-2",children:(0,a.jsx)(k,{simple:!0})})})]})})]}),(0,a.jsx)("br",{}),(0,a.jsx)(ef,{})]})})}var eC=i(70007),eP=(0,i(4867).N)(function(){return(0,a.jsx)(eC.Z,{activeNavItem:"/webui/application",children:(0,a.jsx)("main",{className:"py-10",children:(0,a.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,a.jsx)(eZ,{})})})})})})})},72513:function(e,l,i){"use strict";i.d(l,{Cd:function(){return d},X:function(){return c},bZ:function(){return r}});var a=i(27573),o=i(7653),n=i(85145),s=i(18580);let t=(0,n.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),r=o.forwardRef((e,l)=>{let{className:i,variant:o,...n}=e;return(0,a.jsx)("div",{ref:l,role:"alert",className:(0,s.cn)(t({variant:o}),i),...n})});r.displayName="Alert";let d=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("h5",{ref:l,className:(0,s.cn)("mb-1 font-medium leading-none tracking-tight",i),...o})});d.displayName="AlertTitle";let c=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("div",{ref:l,className:(0,s.cn)("text-sm [&_p]:leading-relaxed",i),...o})});c.displayName="AlertDescription"},56146:function(e,l,i){"use strict";i.d(l,{AG:function(){return u},At:function(){return v},Jb:function(){return d},aG:function(){return r},bg:function(){return m},gN:function(){return c}});var a=i(27573),o=i(7653),n=i(85688),s=i(8828),t=i(18580);let r=o.forwardRef((e,l)=>{let{...i}=e;return(0,a.jsx)("nav",{ref:l,"aria-label":"breadcrumb",...i})});r.displayName="Breadcrumb";let d=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("ol",{ref:l,className:(0,t.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",i),...o})});d.displayName="BreadcrumbList";let c=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("li",{ref:l,className:(0,t.cn)("inline-flex items-center gap-1.5",i),...o})});c.displayName="BreadcrumbItem";let v=o.forwardRef((e,l)=>{let{asChild:i,className:o,...n}=e,r=i?s.g7:"a";return(0,a.jsx)(r,{ref:l,className:(0,t.cn)("transition-colors hover:text-foreground",o),...n})});v.displayName="BreadcrumbLink";let u=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)("span",{ref:l,role:"link","aria-disabled":"true","aria-current":"page",className:(0,t.cn)("font-normal text-foreground",i),...o})});u.displayName="BreadcrumbPage";let m=e=>{let{children:l,className:i,...o}=e;return(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,t.cn)("[&>svg]:size-3.5",i),...o,children:null!=l?l:(0,a.jsx)(n.XCv,{})})};m.displayName="BreadcrumbSeparator"},4216:function(e,l,i){"use strict";i.d(l,{X:function(){return r}});var a=i(27573),o=i(7653),n=i(92999),s=i(85688),t=i(18580);let r=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)(n.fC,{ref:l,className:(0,t.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",i),...o,children:(0,a.jsx)(n.z$,{className:(0,t.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(s.nQG,{className:"h-4 w-4"})})})});r.displayName=n.fC.displayName},63052:function(e,l,i){"use strict";i.d(l,{Bw:function(){return h},DI:function(){return d},Ph:function(){return r},Ql:function(){return x},i4:function(){return v},ki:function(){return c},n5:function(){return p}});var a=i(27573),o=i(7653),n=i(85688),s=i(66240),t=i(18580);let r=s.fC,d=s.ZA,c=s.B4,v=o.forwardRef((e,l)=>{let{className:i,children:o,...r}=e;return(0,a.jsxs)(s.xz,{ref:l,className:(0,t.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",i),...r,children:[o,(0,a.jsx)(s.JO,{asChild:!0,children:(0,a.jsx)(n.jnn,{className:"h-4 w-4 opacity-50"})})]})});v.displayName=s.xz.displayName;let u=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)(s.u_,{ref:l,className:(0,t.cn)("flex cursor-default items-center justify-center py-1",i),...o,children:(0,a.jsx)(n.g8U,{})})});u.displayName=s.u_.displayName;let m=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)(s.$G,{ref:l,className:(0,t.cn)("flex cursor-default items-center justify-center py-1",i),...o,children:(0,a.jsx)(n.v4q,{})})});m.displayName=s.$G.displayName;let h=o.forwardRef((e,l)=>{let{className:i,children:o,position:n="popper",...r}=e;return(0,a.jsx)(s.h_,{children:(0,a.jsxs)(s.VY,{ref:l,className:(0,t.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:n,...r,children:[(0,a.jsx)(u,{}),(0,a.jsx)(s.l_,{className:(0,t.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),(0,a.jsx)(m,{})]})})});h.displayName=s.VY.displayName;let p=o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)(s.__,{ref:l,className:(0,t.cn)("px-2 py-1.5 text-sm font-semibold",i),...o})});p.displayName=s.__.displayName;let x=o.forwardRef((e,l)=>{let{className:i,children:o,...r}=e;return(0,a.jsxs)(s.ck,{ref:l,className:(0,t.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s.wU,{children:(0,a.jsx)(n.nQG,{className:"h-4 w-4"})})}),(0,a.jsx)(s.eT,{children:o})]})});x.displayName=s.ck.displayName,o.forwardRef((e,l)=>{let{className:i,...o}=e;return(0,a.jsx)(s.Z0,{ref:l,className:(0,t.cn)("-mx-1 my-1 h-px bg-muted",i),...o})}).displayName=s.Z0.displayName},91894:function(e,l,i){"use strict";var a=i(27573),o=i(7653),n=i(412),s=i(33597),t=i(36531);function r(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6"})})}function d(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m18 15-6-6-6 6"})})}l.Z=()=>{let e=(0,n.v9)(e=>e.uploadFiles.uploadFilesLoadedValues||[]),[l,i]=(0,o.useState)(!1),[c,v]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{0===e.length||c||i(!0)},[e,c]),(0,a.jsxs)("div",{children:[(0,a.jsxs)(t.z,{variant:"secondary",onClick:()=>{i(!l),v(!0)},children:["Upload Artifact",l?(0,a.jsx)(d,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(r,{className:"ml-2 h-4 w-4"})]}),(l||!c&&0!==e.length)&&(0,a.jsx)("div",{className:"col-span-full mt-2",children:(0,a.jsx)(s.Z,{})})]})}},87191:function(e,l,i){"use strict";i.d(l,{Z:function(){return d}});var a=i(27573),o=i(7653),n=i(22392);i(40020),i(19234),i(83346);var s=i(412),t=i(24017),r=i(93296);function d(e){let{data:l,height:i="300px"}=e,d=(0,s.I0)(),[c,v]=(0,o.useState)(JSON.stringify(l,null,"	"));return(0,o.useRef)(null),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.default,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Stack result JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{try{v(e),d((0,t.q7)(JSON.parse(e)))}catch(e){r.ZP.error("Error updating...",{id:"stack-update-error"})}},fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:c,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:i,width:"100%"})})}},55623:function(e){"use strict";e.exports=["str","string","bool","select","boolean","text-area","multi-select","multi-str","multi-checkbox","complex","int","json","code"]},13271:function(e,l,i){"use strict";let a=i(36509),o=i(53971),n=i(33181),s=i(55623);e.exports={tailwindConfig:a,postcssConfig:o,nextBaseConfig:n,defaultFormTypes:s}},33181:function(e,l,i){"use strict";var a=i(74859);e.exports={output:"export",reactStrictMode:!1,eslint:{ignoreDuringBuilds:!0},swcMinify:!0,headers:async()=>[{source:"/api/:path*",headers:[{key:"Access-Control-Allow-Credentials",value:"true"},{key:"Access-Control-Allow-Origin",value:"*"},{key:"Access-Control-Allow-Methods",value:"GET,DELETE,PATCH,POST,PUT"},{key:"Access-Control-Allow-Headers",value:"X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version"}]}],assetPrefix:void 0,experimental:{missingSuspenseWithCSRBailout:!1,proxyTimeout:36e4},redirects:async()=>[{source:"/",destination:"/webui",permanent:!0}],rewrites:async()=>[{source:"/webui/apiserver/:path*",destination:"".concat("","/:path*")},{source:"/webui/restapi/:path*",destination:"".concat(a.env.NEXT_PUBLIC_REVERSE_PROXY||"http://localhost:8000","/:path*")},{source:"/webui_api/:path*",destination:"/api/:path*"}]}},53971:function(e){"use strict";e.exports={plugins:{tailwindcss:{},autoprefixer:{}}}},36509:function(e,l,i){"use strict";e.exports={darkMode:["class"],content:["./pages/**/*.{js,ts,jsx,tsx,mdx}","./components/**/*.{js,ts,jsx,tsx,mdx}","./app/**/*.{js,ts,jsx,tsx,mdx}","./src/**/*.{js,ts,jsx,tsx,mdx}","../components/**/*.{js,ts,jsx,tsx,mdx}","../../components/**/*.{js,ts,jsx,tsx,mdx}","../../utils/**/*.{js,ts,jsx,tsx,mdx}"],prefix:"",theme:{container:{center:!0,padding:"2rem",screens:{"2xl":"1400px"}},extend:{colors:{indigo:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},supercolor:{50:"#ede7ff",100:"#d2befd",200:"#b692fc",300:"#9a67ea",400:"#7f3dfd",500:"#7628f8",600:"#5b0cb8",700:"#4c0a91",800:"#3e086b",900:"#32074f"},border:"hsl(var(--border))",input:"hsl(var(--input))",ring:"hsl(var(--ring))",background:"hsl(var(--background))",backgroundImage:{"gradient-radial":"radial-gradient(var(--tw-gradient-stops))","gradient-conic":"conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))"},foreground:"hsl(var(--foreground))",primary:{DEFAULT:"hsl(var(--primary))",foreground:"hsl(var(--primary-foreground))"},secondary:{DEFAULT:"hsl(var(--secondary))",foreground:"hsl(var(--secondary-foreground))"},destructive:{DEFAULT:"hsl(var(--destructive))",foreground:"hsl(var(--destructive-foreground))"},muted:{DEFAULT:"hsl(var(--muted))",foreground:"hsl(var(--muted-foreground))"},accent:{DEFAULT:"hsl(var(--accent))",foreground:"hsl(var(--accent-foreground))"},popover:{DEFAULT:"hsl(var(--popover))",foreground:"hsl(var(--popover-foreground))"},card:{DEFAULT:"hsl(var(--card))",foreground:"hsl(var(--card-foreground))"}},borderRadius:{lg:"var(--radius)",md:"calc(var(--radius) - 2px)",sm:"calc(var(--radius) - 4px)"},keyframes:{"accordion-down":{from:{height:"0"},to:{height:"var(--radix-accordion-content-height)"}},"accordion-up":{from:{height:"var(--radix-accordion-content-height)"},to:{height:"0"}}},animation:{"accordion-down":"accordion-down 0.2s ease-out","accordion-up":"accordion-up 0.2s ease-out"}}},plugins:[i(4821),i(58173)]}}},function(e){e.O(0,[5458,7441,3296,8320,8374,3908,7653,7050,6340,4112,9115,3406,8113,6784,3696,935,1826,2895,1293,1528,1744],function(){return e(e.s=78186)}),_N_E=e.O()}]);