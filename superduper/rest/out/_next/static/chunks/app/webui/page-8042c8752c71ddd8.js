(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2945],{52819:function(e,s,n){Promise.resolve().then(n.bind(n,53596))},53596:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return c}});var r,i=n(27573),o=n(88280);n(92452);var a=n(70007),t=(n(7653),n(412),n(39e3),n(74531),n(38737),n(74859),n(87882)),l=n(74859),c=((r=function(){return console.log("\uD83E\uDEE1 API Server is running at: ",l.env.NEXT_PUBLIC_API||"(undefined - please set NEXT_PUBLIC_API in your environment)"),console.log("\uD83E\uDEE1 Reverse proxy is running at: ",l.env.NEXT_PUBLIC_REVERSE_PROXY||"(undefined - please set NEXT_PUBLIC_REVERSE_PROXY in your environment)"),console.log("\uD83E\uDEE1 REST API endpoint:","http://localhost:8000"),(0,i.jsx)(o.Z,{children:(0,i.jsx)(a.Z,{activeNavItem:"/webui/",children:(0,i.jsx)("main",{className:"py-0",children:(0,i.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,i.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,i.jsx)(t.Z,{})})})})})})}).displayName||r.name,r)},38737:function(e,s,n){"use strict";n.d(s,{Z:function(){return v}});var r=n(27573),i=n(7653),o=n(1930),a=n(97747);n(88146);var t=n(36531),l=n(93296),c=n(39e3),d=n(412),u=n(13908),p=n(7109),h=n(67412),g=n(24776);function m(e){let{children:s}=e;return(0,r.jsxs)(g.Vq,{children:[(0,r.jsx)(g.hg,{asChild:!0,children:s}),(0,r.jsx)(g.cZ,{children:(0,r.jsxs)(g.fK,{children:[(0,r.jsx)(g.$N,{children:"Support"}),(0,r.jsxs)(g.Be,{children:["Our team is here to help you with any questions or issues you may have."," ",(0,r.jsxs)("span",{className:"mt-4 font-semibold",children:["Please contact us at"," ",(0,r.jsx)("a",{href:"mailto:support@superduper.io",className:"text-blue-500 underline",children:"support@superduper.io"}),"!"]})]})]})})]})}var x=n(12900),w=n(74859);function v(){let e=(0,d.I0)(),[s,n]=(0,i.useState)(""),[g,v]=(0,i.useState)(""),[f,j]=(0,i.useState)("");async function y(e,s){try{let n="".concat(w.env.NEXT_PUBLIC_API,"/secrets?deployment=").concat(s),r=await u.Z.get(n,{headers:{Accept:"application/json",Authorization:(0,p.Z)(e),superduper_reverse_proxy:w.env.NEXT_PUBLIC_API}});console.log("Secrets retrieved successfully:",r.data);let i=(0,h.Z)(r.data);return console.log("Empty Secrets:",i),i}catch(e){return console.error("Error occurred while fetching secrets:",e),[]}}async function N(){try{l.ZP.loading("Logging in...",{id:"login-loading"}),console.log("email",s),console.log("password",g);let n=await fetch("/webui_api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:g})});if(console.log("response",n),401===n.status){j("Invalid email or password"),l.ZP.error("Invalid email or password",{id:"login-error"}),l.ZP.dismiss("login-loading"),e((0,c.v)({token:""}));return}if(200===n.status){let r=await n.json();if(console.log("response.data",r),e((0,c.v)(r)),console.log("Login successful"),"true"===w.env.NEXT_PUBLIC_SNOWFLAKE)try{if((await y(r,s)).length>0)window.location.assign("/webui/deployment?onboarding=true");else try{let e=await u.Z.get("".concat("".concat("http://localhost:8000","/health")),{headers:{Accept:"application/json",Authorization:(0,p.Z)(r),superduper_reverse_proxy:"http://localhost:8000"}});200===e.status?window.location.assign("/webui/deployment"):window.location.assign("/webui/deployment?onboarding=true")}catch(e){console.error("Health check failed:",e),window.location.assign("/webui/deployment?onboarding=true")}}catch(e){console.error("Empty Secret request failed:",e),window.location.assign("/webui/deployment?onboarding=true")}else window.location.assign("/webui");l.ZP.success("Login successful.",{id:"login-success",duration:3e3,style:{backgroundColor:"#10B981",color:"#fff"}}),l.ZP.dismiss("login-loading")}else{let s=await n.text()||"An error occurred while loading!";j(s),e((0,c.v)({token:""})),l.ZP.error(s,{id:"login-error"}),l.ZP.dismiss("login-loading")}}catch(s){console.error("An error occurred:",s),l.ZP.error("An error occurred. Please try again later.",{id:"login-error"}),l.ZP.dismiss("login-loading"),e((0,c.v)({token:""}))}}return(0,r.jsx)("div",{className:"w-full lg:grid lg:min-h-[600px] lg:grid-cols-1 place-items-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"mx-auto grid w-[350px] gap-6",children:[(0,r.jsx)("div",{className:"grid gap-2 text-center",children:(0,r.jsx)("div",{className:"flex h-auto shrink-0 items-center pb-4",children:(0,r.jsx)("a",{href:"/webui",children:(0,r.jsx)("img",{className:"h-auto w-auto",src:"/webui_asset/superduper-logo.png",alt:"Superduper.io Inc."})})})}),(0,r.jsxs)("div",{className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(a._,{htmlFor:"email",children:"Username"}),(0,r.jsx)(o.I,{id:"email",type:"email",placeholder:"admin",required:!0,value:s,onChange:e=>n(e.target.value)})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(a._,{htmlFor:"password",children:"Password"})}),(0,r.jsx)(o.I,{id:"password",type:"password",placeholder:"password",required:!0,value:g,onChange:e=>v(e.target.value)})]}),f&&(0,r.jsx)("p",{className:"text-red-500",children:f}),(0,r.jsx)(t.z,{id:"login-button-homepage",className:"w-full",onClick:N,children:"Log in"})]}),(0,r.jsxs)("div",{className:"mt-4 flex justify-between text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"Need Support? "}),(0,r.jsx)(m,{children:(0,r.jsx)("span",{className:"underline",children:"Contact Support"})})]}),(0,r.jsx)("div",{children:(0,r.jsx)(x.C,{className:"whitespace-nowrap -mb-2",variant:"outline",children:"latest"})})]})]})})})}}},function(e){e.O(0,[5458,7441,3296,4496,4458,7653,7050,4112,6340,790,8307,9115,3098,7635,732,7976,9401,1737,5494,5619,3912,1293,1528,1744],function(){return e(e.s=52819)}),_N_E=e.O()}]);