(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2659:function(e,t,a){Promise.resolve().then(a.bind(a,7042))},7042:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Z}});var r=a(7437),n=a(9039),s=a(2126),o=a(548),i=a(9129),l=a(1444),d=a(3598),c=a(2265),u=a(11),p=a(6336),h=a(8726),m=a(9155);function x(e){return e.filter(e=>"template"===e.type_id)}function v(){(0,l.v9)(e=>e.environment.environmentLoadedValues);let e=(0,l.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),[t,a]=(0,c.useState)(null),[d,v]=(0,c.useState)(null),f=async t=>{try{h.ZP.loading("Fetching latest data",{id:"fetching",position:"bottom-center"});let t=await s.Z.get("".concat("".concat("http://localhost:8000","/db/show")),{headers:{Accept:"application/json",Authorization:(0,m.Z)(e),superduper_reverse_proxy:"http://localhost:8000"}});return console.log("/db/show/ API data:",t.data),h.ZP.dismiss("fetching"),t.data}catch(e){h.ZP.dismiss("fetching"),console.error("Error fetching Services API data")}},j=e=>{let t={};return e.forEach((e,a)=>{let r=e.type_id;t[r]||(t[r]={type_id:r,payload:[]}),t[r].payload.push({id:a+1,identifier:e.identifier,type_id:e.type_id,status:"online",timestamp:"Retrieved 1 minute ago"})}),Object.values(t)},{data:y,error:Z}=(0,n.ZP)("".concat("".concat("http://localhost:8000","/db/show")),f,{refreshInterval:6e4,shouldRetryOnError:!1});(0,c.useEffect)(()=>{y?(a(j(y.filter(e=>"application"!==e.type_id))),v(j(x(y)))):(a(j(x([]))),v(j(x([]))))},[y,Z]);let[b,g]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{if(d&&0===d.length){let e=setTimeout(()=>{g(!0)},1e3);return()=>clearTimeout(e)}g(!1)},[d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{title:"Templates",description:"See, add and delete AI app and workflow templates which you can use to create applications.",buttonText:"Add Template",buttonLink:"/webui/add-template"}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{children:[d?d.length>0?d.map((e,t)=>(0,r.jsx)(u.Z,{data:e},t)):!b&&(0,r.jsx)(i.Z,{}):(0,r.jsx)(i.Z,{}),b&&(0,r.jsx)(o.Z,{header:"No Template Found",description:"Get started by adding a new custom template.",createDeployment:"hide"})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})}function f(){(0,l.v9)(e=>e.environment.environmentLoadedValues);let e=(0,l.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),t=(0,l.v9)(e=>e.deploymentName.deploymentNameLoadedValues.name),a=async t=>(await s.Z.get(t,{headers:{Accept:"application/json",Authorization:(0,m.Z)(e),superduper_reverse_proxy:"http://localhost:8000"}})).data,o=async t=>(await s.Z.get(t,{headers:{Accept:"application/json",Authorization:(0,m.Z)(e),superduper_reverse_proxy:"http://portal.playground.superduper.io/apiserver"}})).data,{data:c,error:u}=(0,n.ZP)("/webui/apiserver/deployments/".concat(t),o,{refreshInterval:3e4,shouldRetryOnError:!1}),{data:p,error:h}=(0,n.ZP)("".concat("".concat("http://localhost:8000","/health")),a,{refreshInterval:3e4,shouldRetryOnError:!1});return p||h?h?(0,r.jsx)(d.Z,{header:"REST API is currently unavailable"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(v,{})}):(0,r.jsx)(i.Z,{times:6})}var j=a(7989),y=a(2075),Z=(0,a(6395).N)(function(){return(0,r.jsx)(y.Z,{children:(0,r.jsx)(j.Z,{activeNavItem:"/webui/templates",children:(0,r.jsx)("main",{className:"py-10",children:(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,r.jsx)(f,{})})})})})})})})}},function(e){e.O(0,[408,310,231,726,532,361,479,224,84,797,314,108,961,971,23,744],function(){return e(e.s=2659)}),_N_E=e.O()}]);