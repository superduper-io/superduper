(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6511],{87170:function(e,t,n){Promise.resolve().then(n.bind(n,24516))},24516:function(e,t,n){"use strict";n.r(t);var r=n(27573),s=n(70007),a=n(58991),l=n(88280),i=n(4867);t.default=(0,i.N)(function(){return(0,r.jsx)(l.Z,{children:(0,r.jsx)(s.Z,{activeNavItem:"/webui",children:(0,r.jsx)("main",{className:"py-10",children:(0,r.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,r.jsx)(a.Z,{})})})})})})})})},86288:function(e,t,n){"use strict";n.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},eW:function(){return u},ll:function(){return c}});var r=n(27573),s=n(7653),a=n(18580);let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",n),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",n),...s})});i.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",n),...s})});c.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",n),...s})});o.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",n),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",n),...s})});u.displayName="CardFooter"},7109:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(74859);function s(e){if(r.env.NEXT_PUBLIC_AUTO_LOGIN_EXTERNAL_SERVICES){let[e,t]=r.env.NEXT_PUBLIC_AUTO_LOGIN_EXTERNAL_SERVICES.split(","),n=e.includes("@")?e.split("@")[0]:e;return"Basic ".concat(btoa("".concat(n,":").concat(t)))}return"jwt"===r.env.AUTH_MECHANISM?"Bearer ".concat(e.token):"Basic ".concat(btoa("".concat(e.username,":").concat(e.password)))}},4867:function(e,t,n){"use strict";n.d(t,{N:function(){return r}}),n(27573),n(81695),n(7653),n(412),n(88280),n(39e3),n(74531),n(74859);let r=e=>(e.displayName||e.name,e)},58991:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(27573),s=n(7653),a=n(12198),l=n(34527),i=n(82440),c=n(66465),o=n(53896),d=n(86288),u=n(13908),m=n(81695),f=n(7109),x=n(412),p=n(70790),y=n(74859);let h=[{key:"initializing",icon:a.Z,label:"Initializing",duration:3e3},{key:"building",icon:l.Z,label:"Building",duration:3e3},{key:"deploying",icon:i.Z,label:"Deploying",duration:3e3},{key:"success",icon:c.Z,label:"Success",duration:3e3}];function g(){let[e,t]=(0,s.useState)("initializing"),[n,a]=(0,s.useState)(0),l=(0,x.v9)(e=>e.environment.environmentLoadedValues),i=(0,x.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),c=(0,m.useRouter)(),g=(0,x.v9)(e=>e.deploymentName.deploymentNameLoadedValues.name),v=async e=>(await u.Z.get(e,{headers:{Accept:"application/json",Authorization:(0,f.Z)(i),superduper_reverse_proxy:y.env.NEXT_PUBLIC_API||l.NEXT_PUBLIC_API}})).data,{data:N,error:k}=(0,p.ZP)("".concat("".concat(y.env.NEXT_PUBLIC_API,"/deployments/").concat(g)),"".concat("".concat(y.env.NEXT_PUBLIC_API,"/deployments/").concat(g,"/")),v,{refreshInterval:0,revalidateOnFocus:!1,revalidateOnReconnect:!1,shouldRetryOnError:!1});(0,s.useEffect)(()=>{N&&c.push("/webui?deployment=done&query=1m",void 0,{shallow:!0})},[N]),(0,s.useEffect)(()=>{j()},[]);let j=()=>{t("initializing"),a(0)};return(0,s.useEffect)(()=>{if("success"===e)return;let n=h.find(t=>t.key===e),r=h.findIndex(t=>t.key===e);a(0);let s=setInterval(()=>{a(e=>{let t=e+100/(n.duration/100);return t>=100?100:t})},100),l=setTimeout(()=>{r<h.length-1?t(h[r+1].key):t("success")},n.duration);return()=>{clearInterval(s),clearTimeout(l)}},[e]),(0,r.jsxs)("div",{className:"flex items-center justify-center min-h-screen w-full bg-background",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/10 to-transparent h-96 pointer-events-none"}),(0,r.jsxs)(d.Zb,{className:"w-full max-w-6xl shadow-lg relative -mt-20",children:[(0,r.jsxs)(d.Ol,{className:"text-center space-y-2",children:[(0,r.jsx)(d.ll,{className:"text-4xl font-extrabold tracking-tight",children:"Deployment Status"}),(0,r.jsx)("p",{className:"text-xl text-muted-foreground",children:"Tracking progress of your deployment"})]}),(0,r.jsx)(d.aY,{children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,r.jsxs)("div",{className:"w-full md:w-1/3 md:border-r md:pr-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Deployment Stages"}),(0,r.jsx)("ul",{className:"space-y-6",children:h.map(t=>{let n=t.icon,s=t.key===e,a=h.findIndex(t=>t.key===e)>h.findIndex(e=>e.key===t.key);return(0,r.jsxs)("li",{className:"flex items-center space-x-3 ".concat(s?"text-primary font-medium":a?"text-green-600":"text-muted-foreground"),children:[(0,r.jsx)(n,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:t.label}),a&&(0,r.jsx)(o.Z,{className:"w-4 h-4 text-green-600"})]},t.key)})})]}),(0,r.jsxs)("div",{className:"w-full md:w-2/3 md:pl-8 flex flex-col items-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Progress"}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center mb-8",children:["success"===e?(0,r.jsx)(o.Z,{className:"text-green-500 w-24 h-24 mb-4"}):(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("svg",{className:"w-24 h-24",viewBox:"0 0 100 100",children:[(0,r.jsx)("circle",{className:"text-gray-200",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"42",cx:"50",cy:"50"}),(0,r.jsx)("circle",{className:"text-primary",strokeWidth:"8",strokeDasharray:264,strokeDashoffset:264-n/100*264,strokeLinecap:"round",stroke:"url(#gradient)",fill:"transparent",r:"42",cx:"50",cy:"50"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"hsl(var(--primary))"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})})]}),(0,r.jsxs)("span",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xl font-semibold",children:[Math.round(n),"%"]})]}),(0,r.jsx)("p",{className:"text-center text-lg font-medium mt-4",children:(()=>{switch(e){case"initializing":return"Deployment ongoing, initializing...";case"building":return"Deployment ongoing, building files...";case"deploying":return"Deployment ongoing, finalizing production setup...";case"success":return"Deployment ongoing, almost live!";default:return"Deployment ongoing, wrapping up..."}})()})]})]})]})})]})]})}},84313:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(7653),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let n=(0,r.forwardRef)((n,l)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:m,...f}=n;return(0,r.createElement)("svg",{ref:l,...s,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(a(e)),u].join(" "),...f},[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(m)?m:[m]])});return n.displayName="".concat(e),n}},53896:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(84313).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},34527:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(84313).Z)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},82440:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(84313).Z)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]])},66465:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(84313).Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},12198:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(84313).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},function(e){e.O(0,[3296,8320,8374,3908,790,3696,935,1293,1528,1744],function(){return e(e.s=87170)}),_N_E=e.O()}]);