"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{2040:function(e,t,r){r.d(t,{Z:function(){return d}});var a=r(7437),n=r(2265),i=r(2498);r(5149),r(4016),r(9390);var l=r(1444),s=r(4437),o=r(8726);function d(e){let{data:t,height:r="300px"}=e,d=(0,l.I0)(),[c,u]=(0,n.useState)(JSON.stringify(t,null,"	"));return(0,n.useRef)(null),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.ZP,{className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Stack result JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{try{u(e),d((0,s.q7)(JSON.parse(e)))}catch(e){o.ZP.error("Error updating...",{id:"stack-update-error"})}},fontSize:13,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:c,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:r,width:"100%"})})}},8038:function(e,t,r){r.d(t,{Z:function(){return m}});var a=r(7437),n=r(2265),i=r(2126),l=r(6260),s=r(464),o=r(2498);r(5149),r(4016),r(9390);var d=r(6602),c=r(4437),u=r(1444),p=r(8726),f=r(9155),h=r(2695);function m(e){(0,u.v9)(e=>e.environment.environmentLoadedValues);let t=(0,u.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),r=(0,u.I0)(),[m,g]=(0,n.useState)("{}"),[x,y]=(0,n.useState)(""),j=async e=>{let a=e.target.files[0];if(a){if("application/json"===a.type){let e=p.ZP.loading("Loading JSON file..."),t=new FileReader;t.onload=t=>{try{let a=JSON.parse(t.target.result);y(JSON.stringify(a,null,2)),g(JSON.stringify(a,null,2)),r((0,c.q7)(a)),p.ZP.success("JSON file loaded successfully!",{id:e})}catch(t){y("Invalid JSON file."),g("Invalid JSON file."),r((0,c.q7)("Invalid JSON File!")),p.ZP.error("Failed to load JSON file.",{id:e})}},t.readAsText(a)}else if("application/zip"===a.type||a.name.endsWith(".zip")){let e=p.ZP.loading("Uploading ZIP file..."),s=new FormData;s.append("raw",a,a.name);try{var n,l;let a=await i.Z.put("".concat("".concat("http://localhost:8000","/db/upload")),s,{headers:{"Content-Type":"multipart/form-data",accept:"application/json",Authorization:(0,f.Z)(t),superduper_reverse_proxy:"http://localhost:8000"}}),o=JSON.parse(JSON.stringify(null==a?void 0:null===(n=a.data)||void 0===n?void 0:n.component));r(uploadFilesLoadedValues([...null==a?void 0:null===(l=a.data)||void 0===l?void 0:l.artifacts])),y(JSON.stringify(o,null,2)),g(JSON.stringify(o,null,2)),r((0,c.q7)(o)),p.ZP.success("ZIP file uploaded successfully!",{id:e})}catch(t){p.ZP.error("Failed to upload ZIP file.",{id:e})}}else p.ZP.error("Please upload a valid JSON or ZIP file."),y("Please upload a valid JSON or ZIP file."),r((0,c.q7)("Invalid file type!"))}else p.ZP.error("No file selected."),y("No file selected."),r((0,c.q7)("No file selected!"))},N=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=()=>{console.log("Error fetching Services API data. Please check your connection.")};(async()=>{try{let e=await i.Z.get("".concat("".concat("http://localhost:8000","/db/show?type_id=template")),{headers:{Accept:"application/json",Authorization:(0,f.Z)(t),superduper_reverse_proxy:"http://localhost:8000"}});S([...e.data])}catch(t){e()}})()},[]);let[b,v]=(0,n.useState)(""),[w,S]=(0,n.useState)(["No template added yet"]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(s._,{htmlFor:"terms",children:["Select a template"," ",b&&(0,a.jsx)("span",{onClick:()=>{v(""),y(""),g(""),r((0,c.q7)(""))},className:"bg-transparent border-none text-indigo-500 cursor-pointer p-0",children:"(Remove Selection)"})]}),(0,a.jsxs)(l.Ph,{value:b,onValueChange:e=>{v(e);let a=()=>{p.ZP.error("Error fetching template API data. Please check your connection. ");let e={error:"Error fetching template API data. No template information found!"};y(JSON.stringify(e,null,2)),g(JSON.stringify(e,null,2)),r((0,c.q7)(e)),console.log("Error fetching template API data. Please check your connection. So returning to fallback data!")};(async()=>{try{let a=await i.Z.get("".concat("".concat("http://localhost:8000","/db/show_template?identifier=").concat(e)),{headers:{Accept:"application/json",Authorization:(0,f.Z)(t),superduper_reverse_proxy:"http://localhost:8000"}});console.log("/webui/restapi/db/show_template?identifier=".concat(e),a.data),y(JSON.stringify(a.data,null,2)),g(JSON.stringify(a.data,null,2)),r((0,c.q7)(a.data))}catch(e){a()}})()},children:[(0,a.jsx)(l.i4,{className:"w-3/6 mt-2 mb-2",children:(0,a.jsx)(l.ki,{placeholder:"Select a template to populate the JSON field"})}),(0,a.jsx)(l.Bw,{children:(0,a.jsxs)(l.DI,{children:[(0,a.jsx)(l.n5,{children:"Select a template for populating"}),w&&w.map((e,t)=>(0,a.jsx)(l.Ql,{value:e,children:e},t))]})})]})]}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center my-4",children:[(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,a.jsx)("span",{className:"mx-4 text-gray-500 dark:text-gray-400",children:"OR"}),(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"border-gray-900/10 pb-2",children:[(0,a.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Upload your template json file"}),(0,a.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"You can type or upload a JSON file here to automatically fill in the JSON field."})]})]}),(0,a.jsx)("div",{className:"mt-2 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:(0,a.jsxs)("div",{className:"sm:col-span-3",children:[(0,a.jsx)(o.ZP,{ref:N,className:"block w-full rounded-md border-2 py-1.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",placeholder:"Add your JSON here...",mode:"json",theme:"github",name:"blah2",onChange:e=>{g(e);try{let t=JSON.parse(e);r((0,c.q7)(t))}catch(e){}},fontSize:13,showPrintMargin:!0,showGutter:!1,highlightActiveLine:!0,value:m,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1,wrap:!0},height:"500px",width:"200%"}),(0,a.jsx)("input",{type:"file",accept:".json,.zip",className:"block mt-2 w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:j}),(0,a.jsx)("p",{className:"text-xs pl-2 text-muted-foreground",children:"*You can upload a json file to populate the json field. Or you can upload a zip file."})]})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(h.Z,{}),(0,a.jsx)(d.Z,{})]})}},6602:function(e,t,r){r.d(t,{Z:function(){return f}});var a=r(7437),n=r(2265),i=r(7138),l=r(8726),s=r(1444),o=r(6463),d=r(2040),c=r(8639),u=r(6360),p=r(9155);function f(){(0,s.v9)(e=>e.environment.environmentLoadedValues);let e=(0,s.v9)(e=>{var t;return null==e?void 0:null===(t=e.userInfo)||void 0===t?void 0:t.userInfoLoadedValues}),t=(0,o.useRouter)(),r=(0,s.v9)(e=>e.stack.stackUpdateByIndex),f=(0,s.v9)(e=>e.stack.submittedStack),[h,m]=(0,n.useState)(null),[g,x]=(0,n.useState)(!1),[y,j]=(0,n.useState)(!1),[N,b]=(0,n.useState)(null);function v(){if(!f){l.ZP.error("Error adding application",{id:"form-error"});return}l.ZP.loading("Adding application...",{id:"adding"});try{fetch("".concat("".concat("http://localhost:8000","/db/apply")),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:(0,p.Z)(e),superduper_reverse_proxy:"http://localhost:8000"},body:JSON.stringify(f,null,"	")}).then(e=>{if(!e.ok){if(500===e.status)return e.json().then(e=>{throw console.log("Error response data:",e),b(e),Error("Server error")});throw Error("Network response was not ok")}return e.json()}).then(e=>{l.ZP.dismiss("adding"),console.log("Data from:",e),l.ZP.success("Application added successfully"),t.push("/webui/application")}).catch(e=>{j(!0),console.error("Error fetching API data",e),l.ZP.error("Error adding application",{id:"form-error"}),l.ZP.dismiss("adding")})}catch(e){l.ZP.dismiss("adding"),j(!0),l.ZP.error("Error adding application",{id:"form-error"})}}return r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,a.jsx)(i.default,{href:"/webui/add-application",children:(0,a.jsx)("button",{type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault,x(!0)},className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Add Application"})]}),(0,a.jsx)("br",{}),(0,a.jsx)(c.Vq,{open:g,onOpenChange:()=>x(!1),children:(0,a.jsxs)(c.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(c.fK,{children:[(0,a.jsx)(c.$N,{children:"Review the application"}),(0,a.jsx)(c.Be,{children:"This will be added to the database. Please review the application before confirming."})]}),f?(0,a.jsx)(d.Z,{data:f}):"Preparing application...",(0,a.jsx)(c.cN,{children:(0,a.jsx)(u.z,{type:"submit",onClick:()=>{v()},children:"Save changes"})})]})}),(0,a.jsx)(c.Vq,{open:y,onOpenChange:()=>{x(!1),j(!1)},children:(0,a.jsxs)(c.cZ,{className:"sm:max-w-[768px]",children:[(0,a.jsxs)(c.fK,{children:[(0,a.jsx)(c.$N,{children:"Failed Adding Application"}),(0,a.jsx)(c.Be,{children:"Please review the error message and try again."})]}),(0,a.jsx)("strong",{children:"Error Message"}),N?(0,a.jsx)(d.Z,{data:N,height:100}):"Loading ...",(0,a.jsx)("strong",{children:"Submitted"}),f?(0,a.jsx)(d.Z,{data:f,height:"150px"}):"Preparing application...",(0,a.jsx)(c.cN,{children:(0,a.jsx)(u.z,{onClick:()=>{v()},children:"Retry now"})})]})})]}):null}},1340:function(e,t,r){r.d(t,{AG:function(){return p},At:function(){return u},Jb:function(){return d},aG:function(){return o},bg:function(){return f},gN:function(){return c}});var a=r(7437),n=r(2265),i=r(4867),l=r(1538),s=r(7700);let o=n.forwardRef((e,t)=>{let{...r}=e;return(0,a.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...r})});o.displayName="Breadcrumb";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("ol",{ref:t,className:(0,s.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",r),...n})});d.displayName="BreadcrumbList";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("li",{ref:t,className:(0,s.cn)("inline-flex items-center gap-1.5",r),...n})});c.displayName="BreadcrumbItem";let u=n.forwardRef((e,t)=>{let{asChild:r,className:n,...i}=e,o=r?l.g7:"a";return(0,a.jsx)(o,{ref:t,className:(0,s.cn)("transition-colors hover:text-foreground",n),...i})});u.displayName="BreadcrumbLink";let p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,s.cn)("font-normal text-foreground",r),...n})});p.displayName="BreadcrumbPage";let f=e=>{let{children:t,className:r,...n}=e;return(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,s.cn)("[&>svg]:size-3.5",r),...n,children:null!=t?t:(0,a.jsx)(i.XCv,{})})};f.displayName="BreadcrumbSeparator"},6260:function(e,t,r){r.d(t,{Bw:function(){return h},DI:function(){return d},Ph:function(){return o},Ql:function(){return g},i4:function(){return u},ki:function(){return c},n5:function(){return m}});var a=r(7437),n=r(2265),i=r(4867),l=r(7549),s=r(7700);let o=l.fC,d=l.ZA,c=l.B4,u=n.forwardRef((e,t)=>{let{className:r,children:n,...o}=e;return(0,a.jsxs)(l.xz,{ref:t,className:(0,s.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...o,children:[n,(0,a.jsx)(l.JO,{asChild:!0,children:(0,a.jsx)(i.jnn,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.xz.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(l.u_,{ref:t,className:(0,s.cn)("flex cursor-default items-center justify-center py-1",r),...n,children:(0,a.jsx)(i.g8U,{})})});p.displayName=l.u_.displayName;let f=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(l.$G,{ref:t,className:(0,s.cn)("flex cursor-default items-center justify-center py-1",r),...n,children:(0,a.jsx)(i.v4q,{})})});f.displayName=l.$G.displayName;let h=n.forwardRef((e,t)=>{let{className:r,children:n,position:i="popper",...o}=e;return(0,a.jsx)(l.h_,{children:(0,a.jsxs)(l.VY,{ref:t,className:(0,s.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...o,children:[(0,a.jsx)(p,{}),(0,a.jsx)(l.l_,{className:(0,s.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,a.jsx)(f,{})]})})});h.displayName=l.VY.displayName;let m=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(l.__,{ref:t,className:(0,s.cn)("px-2 py-1.5 text-sm font-semibold",r),...n})});m.displayName=l.__.displayName;let g=n.forwardRef((e,t)=>{let{className:r,children:n,...o}=e;return(0,a.jsxs)(l.ck,{ref:t,className:(0,s.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...o,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.wU,{children:(0,a.jsx)(i.nQG,{className:"h-4 w-4"})})}),(0,a.jsx)(l.eT,{children:n})]})});g.displayName=l.ck.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(l.Z0,{ref:t,className:(0,s.cn)("-mx-1 my-1 h-px bg-muted",r),...n})}).displayName=l.Z0.displayName},2695:function(e,t,r){var a=r(7437),n=r(2265),i=r(1444),l=r(1125),s=r(6360);function o(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6"})})}function d(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m18 15-6-6-6 6"})})}t.Z=()=>{let e=(0,i.v9)(e=>e.uploadFiles.uploadFilesLoadedValues||[]),[t,r]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{0===e.length||c||r(!0)},[e,c]),(0,a.jsxs)("div",{children:[(0,a.jsxs)(s.z,{variant:"secondary",onClick:()=>{r(!t),u(!0)},children:["Upload Artifact",t?(0,a.jsx)(d,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(o,{className:"ml-2 h-4 w-4"})]}),(t||!c&&0!==e.length)&&(0,a.jsx)("div",{className:"col-span-full mt-2",children:(0,a.jsx)(l.Z,{})})]})}},4437:function(e,t,r){r.d(t,{EU:function(){return s},Hi:function(){return l},Qk:function(){return o},q7:function(){return c},vW:function(){return d}});var a=r(4741),n=r(4702),i=r.n(n);let l=e=>({type:a.k0,payload:e}),s=e=>({type:a.pp,payload:function(e){let t={};for(let r in e)for(let a in t[r]={},e[r]){let n=e[r][a];for(let e in t[r][a]=[],n){let i=n[e],l={name:e};"object"==typeof i&&null!==i?Object.assign(l,i):l.default=i,t[r][a].push(l)}}return t}(function e(t){if("object"==typeof t&&null!==t)for(let r in t)"_path"===r?delete t[r]:e(t[r]);return t}(i()(e)))}),o=(e,t)=>({type:a.kD,payload:{index:e,stackUpdateByIndex:t}}),d=e=>({type:a.qX,payload:e}),c=e=>{let t;return{type:a.$H,payload:((t=i()(e))&&Array.isArray(t._leaves)&&(t._leaves=t._leaves.map(e=>(e.dict&&(delete e.dict.component,delete e.dict.componentType),e))),t)}}}}]);