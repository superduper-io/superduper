(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71],{8542:function(e,t,n){Promise.resolve().then(n.bind(n,4675))},4675:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(7437),o=n(2075),a=n(6463),s=n(2265),l=n(2404),d=n(464),u=n(7138),i=n(6360),c=n(8726),p=n(9612),f=n(6431),m=n(1444);function g(){(0,m.v9)(e=>e.environment.environmentLoadedValues);let e=(0,m.I0)(),t=(0,a.useRouter)(),[n,o]=(0,s.useState)(""),[g,h]=(0,s.useState)(""),[y,v]=(0,s.useState)("");async function L(){try{c.ZP.loading("Logging in...",{id:"login-loading"}),console.log("email",n),console.log("password",g);let r=await fetch("/webui_api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:g})});if(console.log("response",r),401===r.status){v("Invalid email or password"),c.ZP.error("Invalid email or password",{id:"login-error"}),c.ZP.dismiss("login-loading"),e((0,p.v)({token:""}));return}if(200===r.status){let n=await r.json();console.log("response.data",n),function(t,n){try{let r=new XMLHttpRequest,o="/webui/apiserver/endpoints?deployment=".concat(t.split("@")[0]);if(r.open("GET",o,!1),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization","Basic ".concat(btoa("".concat(t.split("@")[0],":").concat(n)))),r.setRequestHeader("superduper_reverse_proxy","http://portal.playground.superduper.io/apiserver"),r.send(),200===r.status){console.log("\uD83D\uDC49 PROXYING FROM","http://portal.playground.superduper.io/apiserver");let t=JSON.parse(r.responseText);e((0,f.J)(t)),console.log("ENDPOINT DATA\uD83D\uDC49\uD83D\uDC49 ",t)}else e((0,f.J)({})),console.error("Error adding endpoint to local storage:",r.statusText)}catch(t){e((0,f.J)({})),console.error("Error adding endpoint to local storage:",t)}}(n.email,n.password),e((0,p.v)(n)),console.log("Login successful"),t.push("/webui"),c.ZP.success("Login successful.",{id:"login-success",duration:3e3,style:{backgroundColor:"#10B981",color:"#fff"}}),c.ZP.dismiss("login-loading")}else{let t=await r.text()||"An error occurred while loading!";v(t),e((0,p.v)({token:""})),c.ZP.error(t,{id:"login-error"}),c.ZP.dismiss("login-loading")}}catch(t){console.error("An error occurred:",t),c.ZP.error("An error occurred. Please try again later.",{id:"login-error"}),c.ZP.dismiss("login-loading"),e((0,p.v)({token:""}))}}return(0,r.jsx)("div",{className:"w-full lg:grid lg:min-h-[600px] lg:grid-cols-1 place-items-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"mx-auto grid w-[350px] gap-6",children:[(0,r.jsx)("div",{className:"grid gap-2 text-center",children:(0,r.jsx)("div",{className:"flex h-auto shrink-0 items-center pb-4",children:(0,r.jsx)("a",{href:"/webui",children:(0,r.jsx)("img",{className:"h-auto w-auto",src:"/webui_asset/purple-dark.png",alt:"SuperDuperDB Inc."})})})}),(0,r.jsxs)("div",{className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(d._,{htmlFor:"email",children:"Username or email"}),(0,r.jsx)(l.I,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:n,onChange:e=>o(e.target.value)})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d._,{htmlFor:"password",children:"Password"}),(0,r.jsx)(u.default,{href:"/webui/support",className:"ml-auto inline-block text-sm underline",children:"Forgot your password?"})]}),(0,r.jsx)(l.I,{id:"password",type:"password",required:!0,value:g,onChange:e=>h(e.target.value)})]}),y&&(0,r.jsx)("p",{className:"text-red-500",children:y}),(0,r.jsx)(i.z,{className:"w-full",onClick:L,children:"Log in"})]}),(0,r.jsxs)("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",(0,r.jsx)(u.default,{href:"/webui/support",className:"underline",children:"Contact Enterprise Support"})]})]})})})}var h=function(){return(0,r.jsx)(o.Z,{children:(0,r.jsx)(g,{})})}},6360:function(e,t,n){"use strict";n.d(t,{d:function(){return d},z:function(){return u}});var r=n(7437),o=n(2265),a=n(1538),s=n(2218),l=n(7700);let d=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef((e,t)=>{let{className:n,variant:o,size:s,asChild:u=!1,...i}=e,c=u?a.g7:"button";return(0,r.jsx)(c,{className:(0,l.cn)(d({variant:o,size:s,className:n})),ref:t,...i})});u.displayName="Button"},2404:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var r=n(7437),o=n(2265),a=n(7700);let s=o.forwardRef((e,t)=>{let{className:n,type:o,...s}=e;return(0,r.jsx)("input",{type:o,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...s})});s.displayName="Input"},464:function(e,t,n){"use strict";n.d(t,{_:function(){return u}});var r=n(7437),o=n(2265),a=n(8364),s=n(2218),l=n(7700);let d=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(a.f,{ref:t,className:(0,l.cn)(d(),n),...o})});u.displayName=a.f.displayName},7700:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var r=n(4839),o=n(6164);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m6)((0,r.W)(t))}},8207:function(e,t,n){"use strict";n.d(t,{E_:function(){return a},a6:function(){return r},nU:function(){return s},tL:function(){return o}});let r="chartsLoadedValues",o="chartsUniqueLabels",a="chartsUpdatedValues",s="chartsResetValues"},2490:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});let r="deploymentNameLoadedValues"},7327:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});let r="deploymentLoadedValues"},1497:function(e,t,n){"use strict";n.d(t,{m:function(){return r},o:function(){return o}});let r="deploymentAPILoadedValues",o="deploymentAPIResult"},6431:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(3681);let o=e=>t=>t({type:r.t,payload:function(e,t){let n={NEXT_PUBLIC_REST_API:null,NEXT_PUBLIC_APISERVER:null,NEXT_PUBLIC_WEBUI:null,NEXT_PUBLIC_PROXY:null,NEXT_PUBLIC_RAY_DASHBOARD:null,NEXT_PUBLIC_JUPYTER_NOTEBOOK:null,NEXT_PUBLIC_GRAFANA_DASHBOARD:null,NEXT_PUBLIC_GRAFANA_NAMESPACE:"superduperdb",endpointData:e};if(!e||!e.items)return n;try{e.items.forEach(e=>{let r;let o=e.serviceName.toLowerCase();if((r=Object.keys(t).find(e=>e.toLowerCase()===o))&&e.endpoints&&e.endpoints.length>0){let o=e.endpoints.find(e=>e.ingressURL);if(o){let e="".concat(o.protocol.toLowerCase(),"://").concat(o.ingressURL);e.endsWith("/")&&(e=e.slice(0,-1)),n[t[r]||r]=e}}})}catch(e){console.error("Error:",e)}return n}(e,{jupyterhub:"NEXT_PUBLIC_JUPYTER_NOTEBOOK","ray-cluster-ingress":"NEXT_PUBLIC_RAY_DASHBOARD",RAY_HEAD:"NEXT_PUBLIC_RAY_DASHBOARD","monitoring-grafana":"NEXT_PUBLIC_GRAFANA_DASHBOARD",rest:"NEXT_PUBLIC_REST_API",NOCODE_APISERVER:"NEXT_PUBLIC_APISERVER",NOCODE_WEBUI:"NEXT_PUBLIC_WEBUI",NOCODE_PROXY:"NEXT_PUBLIC_PROXY"})})},3681:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});let r="environmentLoadedValues"},6938:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});let r="extraEnvVars"},3860:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(6544);let o={},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.qJ:return{...e,nodeLoadedValues:t.payload};case r.Ou:return{...e,nodeUniqueLabels:t.payload};case r.kY:return{...e,nodeUpdatedValues:t.payload};case r.U5:return{...e,nodeResetValues:t.payload};default:return e}}},6544:function(e,t,n){"use strict";n.d(t,{Ou:function(){return o},U5:function(){return s},kY:function(){return a},qJ:function(){return r}});let r="nodeLoadedValues",o="nodeUniqueLabels",a="nodeUpdatedValues",s="nodeResetValues"},5270:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});let r="queryResultLoadedValues"},5519:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});let r="showComponent"},4741:function(e,t,n){"use strict";n.d(t,{$H:function(){return l},k0:function(){return r},kD:function(){return a},pL:function(){return d},pp:function(){return o},qX:function(){return s}});let r="stackLoadedValues",o="stackSpecLoadedValues",a="stackUpdateByIndex",s="stackRawUpdateByIndex",l="stackRawUpdateFinal",d="stackRawUpdateFinalDict"},9642:function(e,t,n){"use strict";n.d(t,{Tj:function(){return r},bk:function(){return a},tX:function(){return o}});let r="uploadFilesLoadedValues",o="uploadFilesLoadedValuesSchema",a="uploadFilesLoadedValuesComponent"},9612:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(4885);let o=e=>t=>t({type:r.C,payload:e})},4885:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});let r="userInfo"},2075:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(7437),o=n(1444),a=n(6804),s=n(7637),l=n(5574);let d=(0,n(4781).Z)("local");var u=n(4885);let i={userInfoLoadedValues:{token:"",email:""}};var c=n(3860),p=n(8207);let f={};var m=n(7327);let g={deploymentLoadedValues:{databackendType:"deployDatabase"}};var h=n(1497);let y={};var v=n(2490);let L={deploymentNameLoadedValues:{name:"superduper"}},x={forceDeployLoadedValues:{force:!0}};var _=n(9642);let N={uploadFilesLoadedValues:[],uploadFilesLoadedValuesSchema:[]};var b=n(4741);let w={stackUpdateByIndex:[{componentType:""}],stackSpecLoadedValues:{},stackLoadedValues:{},submittedStack:{}};var V=n(5270);let I={};var E=n(5519);let R={showComponentLoadedValues:{type_id:"",identifier:"",version:"",payload:""}};var P=n(3681);let U={environmentLoadedValues:{}};var C=n(6938);let k=[],A=(0,a.UY)({environment:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;return t.type===P.t?{...e,environmentLoadedValues:t.payload}:e},extraEnvVars:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;return t.type===C.I?t.payload:e},stack:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.k0:return{...e,stackLoadedValues:t.payload};case b.pp:return{...e,stackSpecLoadedValues:t.payload};case b.qX:return{...e,stackUpdateByIndex:t.payload};case b.kD:let{index:n,stackUpdateByIndex:r}=t.payload;return{...e,stackUpdateByIndex:e.stackUpdateByIndex.map((e,t)=>t===n?r:e)};case b.$H:case b.pL:return{...e,submittedStack:t.payload};default:return e}},userInfo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return t.type===u.C?{...e,userInfoLoadedValues:t.payload}:e},deploymentName:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return t.type===v.j?{...e,deploymentNameLoadedValues:t.payload}:e},queryResult:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;return t.type===V.V?{...e,queryResultLoadedValues:t.payload}:e},nodegroups:c.V,chartsgroups:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a6:return{...e,chartsLoadedValues:t.payload};case p.tL:return{...e,chartsUniqueLabels:t.payload};case p.E_:return{...e,chartsUpdatedValues:t.payload};case p.nU:return{...e,chartsResetValues:t.payload};default:return e}},deployment:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return t.type===m.s?{...e,deploymentLoadedValues:t.payload}:e},deploymentAPI:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.m:return{...e,deploymentAPILoadedValues:t.payload};case h.o:return{...e,deploymentAPIResult:t.payload};default:return e}},forceDeploy:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return"forceDeployLoadedValues"===t.type?{...e,forceDeployLoadedValues:t.payload}:e},uploadFiles:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.Tj:return{...e,uploadFilesLoadedValues:t.payload};case _.tX:return{...e,uploadFilesLoadedValuesSchema:t.payload};case _.bk:return{...e,uploadFilesLoadedValuesComponent:t.payload};default:return e}},showComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;return t.type===E.G?{...e,showComponentLoadedValues:t.payload}:e}}),j=(0,l.OJ)({key:"root",storage:d,whitelist:["userInfo","deploymentName","environment"]},A),B=(0,a.jB)(j,{},(e=>{{let{composeWithDevTools:t}=n(4265);return t({trace:!1})((0,a.md)(...e))}})([s.I]));function D(e){let{children:t}=e;return(0,r.jsx)(o.zt,{store:B,children:t})}(0,l.p5)(B)}},function(e){e.O(0,[231,726,532,971,23,744],function(){return e(e.s=8542)}),_N_E=e.O()}]);